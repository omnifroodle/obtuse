function createWitticism(){return $.post("/witticisms.json",{witticism:{quote:quote}}).done(function(){$(".save_button").text("Saved!").addClass("active")}),!1}!function(e,t){function n(e){var t=e.length,n=ut.type(e);return ut.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e){var t=Tt[e]={};return ut.each(e.match(ct)||[],function(e,n){t[n]=!0}),t}function i(e,n,r,i){if(ut.acceptData(e)){var s,o,a=ut.expando,u="string"==typeof n,l=e.nodeType,c=l?ut.cache:e,h=l?e[a]:e[a]&&a;if(h&&c[h]&&(i||c[h].data)||!u||r!==t)return h||(l?e[a]=h=J.pop()||ut.guid++:h=a),c[h]||(c[h]={},l||(c[h].toJSON=ut.noop)),("object"==typeof n||"function"==typeof n)&&(i?c[h]=ut.extend(c[h],n):c[h].data=ut.extend(c[h].data,n)),s=c[h],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[ut.camelCase(n)]=r),u?(o=s[n],null==o&&(o=s[ut.camelCase(n)])):o=s,o}}function s(e,t,n){if(ut.acceptData(e)){var r,i,s,o=e.nodeType,u=o?ut.cache:e,l=o?e[ut.expando]:ut.expando;if(u[l]){if(t&&(s=n?u[l]:u[l].data)){ut.isArray(t)?t=t.concat(ut.map(t,ut.camelCase)):t in s?t=[t]:(t=ut.camelCase(t),t=t in s?[t]:t.split(" "));for(r=0,i=t.length;i>r;r++)delete s[t[r]];if(!(n?a:ut.isEmptyObject)(s))return}(n||(delete u[l].data,a(u[l])))&&(o?ut.cleanData([e],!0):ut.support.deleteExpando||u!=u.window?delete u[l]:u[l]=null)}}}function o(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(St,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:Ct.test(r)?ut.parseJSON(r):r}catch(s){}ut.data(e,n,r)}else r=t}return r}function a(e){var t;for(t in e)if(("data"!==t||!ut.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(){return!0}function l(){return!1}function c(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function h(e,t,n){if(t=t||0,ut.isFunction(t))return ut.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return ut.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=ut.grep(e,function(e){return 1===e.nodeType});if(Vt.test(t))return ut.filter(t,r,!n);t=ut.filter(t,r)}return ut.grep(e,function(e){return ut.inArray(e,t)>=0===n})}function f(e){var t=qt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function p(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function d(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function g(e){var t=sn.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n,r=0;null!=(n=e[r]);r++)ut._data(n,"globalEval",!t||ut._data(t[r],"globalEval"))}function v(e,t){if(1===t.nodeType&&ut.hasData(e)){var n,r,i,s=ut._data(e),o=ut._data(t,s),a=s.events;if(a){delete o.handle,o.events={};for(n in a)for(r=0,i=a[n].length;i>r;r++)ut.event.add(t,n,a[n][r])}o.data&&(o.data=ut.extend({},o.data))}}function y(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ut.support.noCloneEvent&&t[ut.expando]){i=ut._data(t);for(r in i.events)ut.removeEvent(t,r,i.handle);t.removeAttribute(ut.expando)}"script"===n&&t.text!==e.text?(d(t).text=e.text,g(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ut.support.html5Clone&&e.innerHTML&&!ut.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function b(e,n){var r,i,s=0,o=typeof e.getElementsByTagName!==W?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==W?e.querySelectorAll(n||"*"):t;if(!o)for(o=[],r=e.childNodes||e;null!=(i=r[s]);s++)!n||ut.nodeName(i,n)?o.push(i):ut.merge(o,b(i,n));return n===t||n&&ut.nodeName(e,n)?ut.merge([e],o):o}function x(e){tn.test(e.type)&&(e.defaultChecked=e.checked)}function w(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Sn.length;i--;)if(t=Sn[i]+n,t in e)return t;return r}function A(e,t){return e=t||e,"none"===ut.css(e,"display")||!ut.contains(e.ownerDocument,e)}function T(e,t){for(var n,r,i,s=[],o=0,a=e.length;a>o;o++)r=e[o],r.style&&(s[o]=ut._data(r,"olddisplay"),n=r.style.display,t?(s[o]||"none"!==n||(r.style.display=""),""===r.style.display&&A(r)&&(s[o]=ut._data(r,"olddisplay",P(r.nodeName)))):s[o]||(i=A(r),(n&&"none"!==n||!i)&&ut._data(r,"olddisplay",i?n:ut.css(r,"display"))));for(o=0;a>o;o++)r=e[o],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?s[o]||"":"none"));return e}function C(e,t,n){var r=yn.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function S(e,t,n,r,i){for(var s=n===(r?"border":"content")?4:"width"===t?1:0,o=0;4>s;s+=2)"margin"===n&&(o+=ut.css(e,n+Cn[s],!0,i)),r?("content"===n&&(o-=ut.css(e,"padding"+Cn[s],!0,i)),"margin"!==n&&(o-=ut.css(e,"border"+Cn[s]+"Width",!0,i))):(o+=ut.css(e,"padding"+Cn[s],!0,i),"padding"!==n&&(o+=ut.css(e,"border"+Cn[s]+"Width",!0,i)));return o}function E(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,s=hn(e),o=ut.support.boxSizing&&"border-box"===ut.css(e,"boxSizing",!1,s);if(0>=i||null==i){if(i=fn(e,t,s),(0>i||null==i)&&(i=e.style[t]),bn.test(i))return i;r=o&&(ut.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+S(e,t,n||(o?"border":"content"),r,s)+"px"}function P(e){var t=G,n=wn[e];return n||(n=k(e,t),"none"!==n&&n||(cn=(cn||ut("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(cn[0].contentWindow||cn[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=k(e,t),cn.detach()),wn[e]=n),n}function k(e,t){var n=ut(t.createElement(e)).appendTo(t.body),r=ut.css(n[0],"display");return n.remove(),r}function _(e,t,n,r){var i;if(ut.isArray(t))ut.each(t,function(t,i){n||Pn.test(e)?r(e,i):_(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==ut.type(t))r(e,t);else for(i in t)_(e+"["+i+"]",t[i],n,r)}function L(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(ct)||[];if(ut.isFunction(n))for(;r=s[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function N(e,t,n,r){function i(a){var u;return s[a]=!0,ut.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||o||s[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var s={},o=e===Un;return i(t.dataTypes[0])||!s["*"]&&i("*")}function D(e,n){var r,i,s=ut.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((s[i]?e:r||(r={}))[i]=n[i]);return r&&ut.extend(!0,e,r),e}function R(e,n,r){var i,s,o,a,u=e.contents,l=e.dataTypes,c=e.responseFields;for(a in c)a in r&&(n[c[a]]=r[a]);for(;"*"===l[0];)l.shift(),s===t&&(s=e.mimeType||n.getResponseHeader("Content-Type"));if(s)for(a in u)if(u[a]&&u[a].test(s)){l.unshift(a);break}if(l[0]in r)o=l[0];else{for(a in r){if(!l[0]||e.converters[a+" "+l[0]]){o=a;break}i||(i=a)}o=o||i}return o?(o!==l[0]&&l.unshift(o),r[o]):void 0}function I(e,t){var n,r,i,s,o={},a=0,u=e.dataTypes.slice(),l=u[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u[1])for(i in e.converters)o[i.toLowerCase()]=e.converters[i];for(;r=u[++a];)if("*"!==r){if("*"!==l&&l!==r){if(i=o[l+" "+r]||o["* "+r],!i)for(n in o)if(s=n.split(" "),s[1]===r&&(i=o[l+" "+s[0]]||o["* "+s[0]])){i===!0?i=o[n]:o[n]!==!0&&(r=s[0],u.splice(a--,0,r));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+l+" to "+r}}}l=r}return{state:"success",data:t}}function F(){try{return new e.XMLHttpRequest}catch(t){}}function M(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function O(){return setTimeout(function(){Jn=t}),Jn=ut.now()}function $(e,t){ut.each(t,function(t,n){for(var r=(sr[t]||[]).concat(sr["*"]),i=0,s=r.length;s>i;i++)if(r[i].call(e,t,n))return})}function B(e,t,n){var r,i,s=0,o=ir.length,a=ut.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Jn||O(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,s=1-r,o=0,u=l.tweens.length;u>o;o++)l.tweens[o].run(s);return a.notifyWith(e,[l,s,n]),1>s&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:ut.extend({},t),opts:ut.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Jn||O(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ut.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(z(c,l.opts.specialEasing);o>s;s++)if(r=ir[s].call(l,e,c,l.opts))return r;return $(l,c),ut.isFunction(l.opts.start)&&l.opts.start.call(e,l),ut.fx.timer(ut.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function z(e,t){var n,r,i,s,o;for(i in e)if(r=ut.camelCase(i),s=t[r],n=e[i],ut.isArray(n)&&(s=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),o=ut.cssHooks[r],o&&"expand"in o){n=o.expand(n),delete e[r];for(i in n)i in e||(e[i]=n[i],t[i]=s)}else t[r]=s}function j(e,t,n){var r,i,s,o,a,u,l,c,h,f=this,p=e.style,d={},g=[],m=e.nodeType&&A(e);n.queue||(c=ut._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,h=c.empty.fire,c.empty.fire=function(){c.unqueued||h()}),c.unqueued++,f.always(function(){f.always(function(){c.unqueued--,ut.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===ut.css(e,"display")&&"none"===ut.css(e,"float")&&(ut.support.inlineBlockNeedsLayout&&"inline"!==P(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ut.support.shrinkWrapBlocks||f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],tr.exec(o)){if(delete t[i],u=u||"toggle"===o,o===(m?"hide":"show"))continue;g.push(i)}if(s=g.length){a=ut._data(e,"fxshow")||ut._data(e,"fxshow",{}),"hidden"in a&&(m=a.hidden),u&&(a.hidden=!m),m?ut(e).show():f.done(function(){ut(e).hide()}),f.done(function(){var t;ut._removeData(e,"fxshow");for(t in d)ut.style(e,t,d[t])});for(i=0;s>i;i++)r=g[i],l=f.createTween(r,m?a[r]:0),d[r]=a[r]||ut.style(e,r),r in a||(a[r]=l.start,m&&(l.end=l.start,l.start="width"===r||"height"===r?1:0))}}function H(e,t,n,r,i){return new H.prototype.init(e,t,n,r,i)}function V(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Cn[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function U(e){return ut.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var X,q,W=typeof t,G=e.document,Y=e.location,Z=e.jQuery,K=e.$,Q={},J=[],et="1.9.1",tt=J.concat,nt=J.push,rt=J.slice,it=J.indexOf,st=Q.toString,ot=Q.hasOwnProperty,at=et.trim,ut=function(e,t){return new ut.fn.init(e,t,q)},lt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ct=/\S+/g,ht=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ft=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,pt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,dt=/^[\],:{}\s]*$/,gt=/(?:^|:|,)(?:\s*\[)+/g,mt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,vt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,yt=/^-ms-/,bt=/-([\da-z])/gi,xt=function(e,t){return t.toUpperCase()},wt=function(e){(G.addEventListener||"load"===e.type||"complete"===G.readyState)&&(At(),ut.ready())},At=function(){G.addEventListener?(G.removeEventListener("DOMContentLoaded",wt,!1),e.removeEventListener("load",wt,!1)):(G.detachEvent("onreadystatechange",wt),e.detachEvent("onload",wt))};ut.fn=ut.prototype={jquery:et,constructor:ut,init:function(e,n,r){var i,s;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ft.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof ut?n[0]:n,ut.merge(this,ut.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:G,!0)),pt.test(i[1])&&ut.isPlainObject(n))for(i in n)ut.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(s=G.getElementById(i[2]),s&&s.parentNode){if(s.id!==i[2])return r.find(e);this.length=1,this[0]=s}return this.context=G,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ut.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ut.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return rt.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=ut.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ut.each(this,e,t)},ready:function(e){return ut.ready.promise().done(e),this},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(ut.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:nt,sort:[].sort,splice:[].splice},ut.fn.init.prototype=ut.fn,ut.extend=ut.fn.extend=function(){var e,n,r,i,s,o,a=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},u=2),"object"==typeof a||ut.isFunction(a)||(a={}),l===u&&(a=this,--u);l>u;u++)if(null!=(s=arguments[u]))for(i in s)e=a[i],r=s[i],a!==r&&(c&&r&&(ut.isPlainObject(r)||(n=ut.isArray(r)))?(n?(n=!1,o=e&&ut.isArray(e)?e:[]):o=e&&ut.isPlainObject(e)?e:{},a[i]=ut.extend(c,o,r)):r!==t&&(a[i]=r));return a},ut.extend({noConflict:function(t){return e.$===ut&&(e.$=K),t&&e.jQuery===ut&&(e.jQuery=Z),ut},isReady:!1,readyWait:1,holdReady:function(e){e?ut.readyWait++:ut.ready(!0)},ready:function(e){if(e===!0?!--ut.readyWait:!ut.isReady){if(!G.body)return setTimeout(ut.ready);ut.isReady=!0,e!==!0&&--ut.readyWait>0||(X.resolveWith(G,[ut]),ut.fn.trigger&&ut(G).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ut.type(e)},isArray:Array.isArray||function(e){return"array"===ut.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?Q[st.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==ut.type(e)||e.nodeType||ut.isWindow(e))return!1;try{if(e.constructor&&!ot.call(e,"constructor")&&!ot.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||ot.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||G;var r=pt.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ut.buildFragment([e],t,i),i&&ut(i).remove(),ut.merge([],r.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=ut.trim(t),t&&dt.test(t.replace(mt,"@").replace(vt,"]").replace(gt,"")))?new Function("return "+t)():(ut.error("Invalid JSON: "+t),void 0)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||ut.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&ut.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(yt,"ms-").replace(bt,xt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,s=0,o=e.length,a=n(e);if(r){if(a)for(;o>s&&(i=t.apply(e[s],r),i!==!1);s++);else for(s in e)if(i=t.apply(e[s],r),i===!1)break}else if(a)for(;o>s&&(i=t.call(e[s],s,e[s]),i!==!1);s++);else for(s in e)if(i=t.call(e[s],s,e[s]),i===!1)break;return e},trim:at&&!at.call("﻿ ")?function(e){return null==e?"":at.call(e)}:function(e){return null==e?"":(e+"").replace(ht,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ut.merge(r,"string"==typeof e?[e]:e):nt.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(it)return it.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if("number"==typeof r)for(;r>s;s++)e[i++]=n[s];else for(;n[s]!==t;)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;for(n=!!n;o>s;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,t,r){var i,s=0,o=e.length,a=n(e),u=[];if(a)for(;o>s;s++)i=t(e[s],s,r),null!=i&&(u[u.length]=i);else for(s in e)i=t(e[s],s,r),null!=i&&(u[u.length]=i);return tt.apply([],u)},guid:1,proxy:function(e,n){var r,i,s;return"string"==typeof n&&(s=e[n],n=e,e=s),ut.isFunction(e)?(r=rt.call(arguments,2),i=function(){return e.apply(n||this,r.concat(rt.call(arguments)))},i.guid=e.guid=e.guid||ut.guid++,i):t},access:function(e,n,r,i,s,o,a){var u=0,l=e.length,c=null==r;if("object"===ut.type(r)){s=!0;for(u in r)ut.access(e,n,u,r[u],!0,o,a)}else if(i!==t&&(s=!0,ut.isFunction(i)||(a=!0),c&&(a?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(ut(e),n)})),n))for(;l>u;u++)n(e[u],r,a?i:i.call(e[u],u,n(e[u],r)));return s?e:c?n.call(e):l?n(e[0],r):o},now:function(){return(new Date).getTime()}}),ut.ready.promise=function(t){if(!X)if(X=ut.Deferred(),"complete"===G.readyState)setTimeout(ut.ready);else if(G.addEventListener)G.addEventListener("DOMContentLoaded",wt,!1),e.addEventListener("load",wt,!1);else{G.attachEvent("onreadystatechange",wt),e.attachEvent("onload",wt);var n=!1;try{n=null==e.frameElement&&G.documentElement}catch(r){}n&&n.doScroll&&function i(){if(!ut.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}At(),ut.ready()}}()}return X.promise(t)},ut.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Q["[object "+t+"]"]=t.toLowerCase()}),q=ut(G);var Tt={};ut.Callbacks=function(e){e="string"==typeof e?Tt[e]||r(e):ut.extend({},e);var n,i,s,o,a,u,l=[],c=!e.once&&[],h=function(t){for(i=e.memory&&t,s=!0,a=u||0,u=0,o=l.length,n=!0;l&&o>a;a++)if(l[a].apply(t[0],t[1])===!1&&e.stopOnFalse){i=!1;break}n=!1,l&&(c?c.length&&h(c.shift()):i?l=[]:f.disable())},f={add:function(){if(l){var t=l.length;!function r(t){ut.each(t,function(t,n){var i=ut.type(n);"function"===i?e.unique&&f.has(n)||l.push(n):n&&n.length&&"string"!==i&&r(n)})}(arguments),n?o=l.length:i&&(u=t,h(i))}return this},remove:function(){return l&&ut.each(arguments,function(e,t){for(var r;(r=ut.inArray(t,l,r))>-1;)l.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)}),this},has:function(e){return e?ut.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],this},disable:function(){return l=c=i=t,this},disabled:function(){return!l},lock:function(){return c=t,i||f.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!l||s&&!c||(n?c.push(t):h(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!s}};return f},ut.extend({Deferred:function(e){var t=[["resolve","done",ut.Callbacks("once memory"),"resolved"],["reject","fail",ut.Callbacks("once memory"),"rejected"],["notify","progress",ut.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ut.Deferred(function(n){ut.each(t,function(t,s){var o=s[0],a=ut.isFunction(e[t])&&e[t];i[s[1]](function(){var e=a&&a.apply(this,arguments);e&&ut.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ut.extend(e,r):r}},i={};return r.pipe=r.then,ut.each(t,function(e,s){var o=s[2],a=s[3];r[s[1]]=o.add,a&&o.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,s=rt.call(arguments),o=s.length,a=1!==o||e&&ut.isFunction(e.promise)?o:0,u=1===a?e:ut.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?rt.call(arguments):i,r===t?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(o>1)for(t=new Array(o),n=new Array(o),r=new Array(o);o>i;i++)s[i]&&ut.isFunction(s[i].promise)?s[i].promise().done(l(i,r,s)).fail(u.reject).progress(l(i,n,t)):--a;return a||u.resolveWith(r,s),u.promise()}}),ut.support=function(){var t,n,r,i,s,o,a,u,l,c,h=G.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("*"),r=h.getElementsByTagName("a")[0],!n||!r||!n.length)return{};s=G.createElement("select"),a=s.appendChild(G.createElement("option")),i=h.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==h.className,leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!i.value,optSelected:a.selected,enctype:!!G.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==G.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===G.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},i.checked=!0,t.noCloneChecked=i.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!a.disabled;try{delete h.test}catch(f){t.deleteExpando=!1}i=G.createElement("input"),i.setAttribute("value",""),t.input=""===i.getAttribute("value"),i.value="t",i.setAttribute("type","radio"),t.radioValue="t"===i.value,i.setAttribute("checked","t"),i.setAttribute("name","t"),o=G.createDocumentFragment(),o.appendChild(i),t.appendChecked=i.checked,t.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,h.attachEvent&&(h.attachEvent("onclick",function(){t.noCloneEvent=!1}),h.cloneNode(!0).click());for(c in{submit:!0,change:!0,focusin:!0})h.setAttribute(u="on"+c,"t"),t[c+"Bubbles"]=u in e||h.attributes[u].expando===!1;return h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===h.style.backgroundClip,ut(function(){var n,r,i,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",o=G.getElementsByTagName("body")[0];o&&(n=G.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",o.appendChild(n).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=h.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",l=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=l&&0===i[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===h.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==o.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(h,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(h,null)||{width:"4px"}).width,r=h.appendChild(G.createElement("div")),r.style.cssText=h.style.cssText=s,r.style.marginRight=r.style.width="0",h.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof h.style.zoom!==W&&(h.innerHTML="",h.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==h.offsetWidth,t.inlineBlockNeedsLayout&&(o.style.zoom=1)),o.removeChild(n),n=h=i=r=null)}),n=s=o=a=r=i=null,t}();var Ct=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,St=/([A-Z])/g;ut.extend({cache:{},expando:"jQuery"+(et+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?ut.cache[e[ut.expando]]:e[ut.expando],!!e&&!a(e)},data:function(e,t,n){return i(e,t,n)},removeData:function(e,t){return s(e,t)},_data:function(e,t,n){return i(e,t,n,!0)},_removeData:function(e,t){return s(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&ut.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),ut.fn.extend({data:function(e,n){var r,i,s=this[0],a=0,u=null;if(e===t){if(this.length&&(u=ut.data(s),1===s.nodeType&&!ut._data(s,"parsedAttrs"))){for(r=s.attributes;a<r.length;a++)i=r[a].name,i.indexOf("data-")||(i=ut.camelCase(i.slice(5)),o(s,i,u[i]));ut._data(s,"parsedAttrs",!0)}return u}return"object"==typeof e?this.each(function(){ut.data(this,e)}):ut.access(this,function(n){return n===t?s?o(s,e,ut.data(s,e)):null:(this.each(function(){ut.data(this,e,n)}),void 0)},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ut.removeData(this,e)})}}),ut.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ut._data(e,t),n&&(!r||ut.isArray(n)?r=ut._data(e,t,ut.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ut.queue(e,t),r=n.length,i=n.shift(),s=ut._queueHooks(e,t),o=function(){ut.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),s.cur=i,i&&("fx"===t&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ut._data(e,n)||ut._data(e,n,{empty:ut.Callbacks("once memory").add(function(){ut._removeData(e,t+"queue"),ut._removeData(e,n)})})}}),ut.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?ut.queue(this[0],e):n===t?this:this.each(function(){var t=ut.queue(this,e,n);ut._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ut.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ut.dequeue(this,e)})},delay:function(e,t){return e=ut.fx?ut.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=ut.Deferred(),o=this,a=this.length,u=function(){--i||s.resolveWith(o,[o])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";a--;)r=ut._data(o[a],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(u));return u(),s.promise(n)}});var Et,Pt,kt=/[\t\r\n]/g,_t=/\r/g,Lt=/^(?:input|select|textarea|button|object)$/i,Nt=/^(?:a|area)$/i,Dt=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Rt=/^(?:checked|selected)$/i,It=ut.support.getSetAttribute,Ft=ut.support.input;ut.fn.extend({attr:function(e,t){return ut.access(this,ut.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ut.removeAttr(this,e)})},prop:function(e,t){return ut.access(this,ut.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ut.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o=0,a=this.length,u="string"==typeof e&&e;if(ut.isFunction(e))return this.each(function(t){ut(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(ct)||[];a>o;o++)if(n=this[o],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(kt," "):" ")){for(s=0;i=t[s++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=ut.trim(r)}return this},removeClass:function(e){var t,n,r,i,s,o=0,a=this.length,u=0===arguments.length||"string"==typeof e&&e;if(ut.isFunction(e))return this.each(function(t){ut(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(ct)||[];a>o;o++)if(n=this[o],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(kt," "):"")){for(s=0;i=t[s++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=e?ut.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return ut.isFunction(e)?this.each(function(n){ut(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var i,s=0,o=ut(this),a=t,u=e.match(ct)||[];i=u[s++];)a=r?a:!o.hasClass(i),o[a?"addClass":"removeClass"](i);else(n===W||"boolean"===n)&&(this.className&&ut._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ut._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(kt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];{if(arguments.length)return i=ut.isFunction(e),this.each(function(n){var s,o=ut(this);1===this.nodeType&&(s=i?e.call(this,n,o.val()):e,null==s?s="":"number"==typeof s?s+="":ut.isArray(s)&&(s=ut.map(s,function(e){return null==e?"":e+""})),r=ut.valHooks[this.type]||ut.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,s,"value")!==t||(this.value=s))});if(s)return r=ut.valHooks[s.type]||ut.valHooks[s.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(s,"value"))!==t?n:(n=s.value,"string"==typeof n?n.replace(_t,""):null==n?"":n)}}}),ut.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,s="select-one"===e.type||0>i,o=s?null:[],a=s?i+1:r.length,u=0>i?a:s?i:0;a>u;u++)if(n=r[u],!(!n.selected&&u!==i||(ut.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ut.nodeName(n.parentNode,"optgroup"))){if(t=ut(n).val(),s)return t;o.push(t)}return o},set:function(e,t){var n=ut.makeArray(t);return ut(e).find("option").each(function(){this.selected=ut.inArray(ut(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,r){var i,s,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===W?ut.prop(e,n,r):(s=1!==a||!ut.isXMLDoc(e),s&&(n=n.toLowerCase(),i=ut.attrHooks[n]||(Dt.test(n)?Pt:Et)),r===t?i&&s&&"get"in i&&null!==(o=i.get(e,n))?o:(typeof e.getAttribute!==W&&(o=e.getAttribute(n)),null==o?t:o):null!==r?i&&s&&"set"in i&&(o=i.set(e,r,n))!==t?o:(e.setAttribute(n,r+""),r):(ut.removeAttr(e,n),void 0))},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(ct);if(s&&1===e.nodeType)for(;n=s[i++];)r=ut.propFix[n]||n,Dt.test(n)?!It&&Rt.test(n)?e[ut.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:ut.attr(e,n,""),e.removeAttribute(It?n:r)},attrHooks:{type:{set:function(e,t){if(!ut.support.radioValue&&"radio"===t&&ut.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!ut.isXMLDoc(e),o&&(n=ut.propFix[n]||n,s=ut.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&null!==(i=s.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):Lt.test(e.nodeName)||Nt.test(e.nodeName)&&e.href?0:t}}}}),Pt={get:function(e,n){var r=ut.prop(e,n),i="boolean"==typeof r&&e.getAttribute(n),s="boolean"==typeof r?Ft&&It?null!=i:Rt.test(n)?e[ut.camelCase("default-"+n)]:!!i:e.getAttributeNode(n);return s&&s.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?ut.removeAttr(e,n):Ft&&It||!Rt.test(n)?e.setAttribute(!It&&ut.propFix[n]||n,n):e[ut.camelCase("default-"+n)]=e[n]=!0,n}},Ft&&It||(ut.attrHooks.value={get:function(e,n){var r=e.getAttributeNode(n);return ut.nodeName(e,"input")?e.defaultValue:r&&r.specified?r.value:t},set:function(e,t,n){return ut.nodeName(e,"input")?(e.defaultValue=t,void 0):Et&&Et.set(e,t,n)}}),It||(Et=ut.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&("id"===n||"name"===n||"coords"===n?""!==r.value:r.specified)?r.value:t
},set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},ut.attrHooks.contenteditable={get:Et.get,set:function(e,t,n){Et.set(e,""===t?!1:t,n)}},ut.each(["width","height"],function(e,t){ut.attrHooks[t]=ut.extend(ut.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})})),ut.support.hrefNormalized||(ut.each(["href","src","width","height"],function(e,n){ut.attrHooks[n]=ut.extend(ut.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null==r?t:r}})}),ut.each(["href","src"],function(e,t){ut.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),ut.support.style||(ut.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),ut.support.optSelected||(ut.propHooks.selected=ut.extend(ut.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),ut.support.enctype||(ut.propFix.enctype="encoding"),ut.support.checkOn||ut.each(["radio","checkbox"],function(){ut.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),ut.each(["radio","checkbox"],function(){ut.valHooks[this]=ut.extend(ut.valHooks[this],{set:function(e,t){return ut.isArray(t)?e.checked=ut.inArray(ut(e).val(),t)>=0:void 0}})});var Mt=/^(?:input|select|textarea)$/i,Ot=/^key/,$t=/^(?:mouse|contextmenu)|click/,Bt=/^(?:focusinfocus|focusoutblur)$/,zt=/^([^.]*)(?:\.(.+)|)$/;ut.event={global:{},add:function(e,n,r,i,s){var o,a,u,l,c,h,f,p,d,g,m,v=ut._data(e);if(v){for(r.handler&&(l=r,r=l.handler,s=l.selector),r.guid||(r.guid=ut.guid++),(a=v.events)||(a=v.events={}),(h=v.handle)||(h=v.handle=function(e){return typeof ut===W||e&&ut.event.triggered===e.type?t:ut.event.dispatch.apply(h.elem,arguments)},h.elem=e),n=(n||"").match(ct)||[""],u=n.length;u--;)o=zt.exec(n[u])||[],d=m=o[1],g=(o[2]||"").split(".").sort(),c=ut.event.special[d]||{},d=(s?c.delegateType:c.bindType)||d,c=ut.event.special[d]||{},f=ut.extend({type:d,origType:m,data:i,handler:r,guid:r.guid,selector:s,needsContext:s&&ut.expr.match.needsContext.test(s),namespace:g.join(".")},l),(p=a[d])||(p=a[d]=[],p.delegateCount=0,c.setup&&c.setup.call(e,i,g,h)!==!1||(e.addEventListener?e.addEventListener(d,h,!1):e.attachEvent&&e.attachEvent("on"+d,h))),c.add&&(c.add.call(e,f),f.handler.guid||(f.handler.guid=r.guid)),s?p.splice(p.delegateCount++,0,f):p.push(f),ut.event.global[d]=!0;e=null}},remove:function(e,t,n,r,i){var s,o,a,u,l,c,h,f,p,d,g,m=ut.hasData(e)&&ut._data(e);if(m&&(c=m.events)){for(t=(t||"").match(ct)||[""],l=t.length;l--;)if(a=zt.exec(t[l])||[],p=g=a[1],d=(a[2]||"").split(".").sort(),p){for(h=ut.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,f=c[p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=s=f.length;s--;)o=f[s],!i&&g!==o.origType||n&&n.guid!==o.guid||a&&!a.test(o.namespace)||r&&r!==o.selector&&("**"!==r||!o.selector)||(f.splice(s,1),o.selector&&f.delegateCount--,h.remove&&h.remove.call(e,o));u&&!f.length&&(h.teardown&&h.teardown.call(e,d,m.handle)!==!1||ut.removeEvent(e,p,m.handle),delete c[p])}else for(p in c)ut.event.remove(e,p+t[l],n,r,!0);ut.isEmptyObject(c)&&(delete m.handle,ut._removeData(e,"events"))}},trigger:function(n,r,i,s){var o,a,u,l,c,h,f,p=[i||G],d=ot.call(n,"type")?n.type:n,g=ot.call(n,"namespace")?n.namespace.split("."):[];if(u=h=i=i||G,3!==i.nodeType&&8!==i.nodeType&&!Bt.test(d+ut.event.triggered)&&(d.indexOf(".")>=0&&(g=d.split("."),d=g.shift(),g.sort()),a=d.indexOf(":")<0&&"on"+d,n=n[ut.expando]?n:new ut.Event(d,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:ut.makeArray(r,[n]),c=ut.event.special[d]||{},s||!c.trigger||c.trigger.apply(i,r)!==!1)){if(!s&&!c.noBubble&&!ut.isWindow(i)){for(l=c.delegateType||d,Bt.test(l+d)||(u=u.parentNode);u;u=u.parentNode)p.push(u),h=u;h===(i.ownerDocument||G)&&p.push(h.defaultView||h.parentWindow||e)}for(f=0;(u=p[f++])&&!n.isPropagationStopped();)n.type=f>1?l:c.bindType||d,o=(ut._data(u,"events")||{})[n.type]&&ut._data(u,"handle"),o&&o.apply(u,r),o=a&&u[a],o&&ut.acceptData(u)&&o.apply&&o.apply(u,r)===!1&&n.preventDefault();if(n.type=d,!(s||n.isDefaultPrevented()||c._default&&c._default.apply(i.ownerDocument,r)!==!1||"click"===d&&ut.nodeName(i,"a")||!ut.acceptData(i)||!a||!i[d]||ut.isWindow(i))){h=i[a],h&&(i[a]=null),ut.event.triggered=d;try{i[d]()}catch(m){}ut.event.triggered=t,h&&(i[a]=h)}return n.result}},dispatch:function(e){e=ut.event.fix(e);var n,r,i,s,o,a=[],u=rt.call(arguments),l=(ut._data(this,"events")||{})[e.type]||[],c=ut.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=ut.event.handlers.call(this,e,l),n=0;(s=a[n++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,o=0;(i=s.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((ut.event.special[i.origType]||{}).handle||i.handler).apply(s.elem,u),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,s,o,a=[],u=n.delegateCount,l=e.target;if(u&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(s=[],o=0;u>o;o++)i=n[o],r=i.selector+" ",s[r]===t&&(s[r]=i.needsContext?ut(r,this).index(l)>=0:ut.find(r,this,null,[l]).length),s[r]&&s.push(i);s.length&&a.push({elem:l,handlers:s})}return u<n.length&&a.push({elem:this,handlers:n.slice(u)}),a},fix:function(e){if(e[ut.expando])return e;var t,n,r,i=e.type,s=e,o=this.fixHooks[i];for(o||(this.fixHooks[i]=o=$t.test(i)?this.mouseHooks:Ot.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new ut.Event(s),t=r.length;t--;)n=r[t],e[n]=s[n];return e.target||(e.target=s.srcElement||G),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,s,o=n.button,a=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||G,s=i.documentElement,r=i.body,e.pageX=n.clientX+(s&&s.scrollLeft||r&&r.scrollLeft||0)-(s&&s.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||r&&r.scrollTop||0)-(s&&s.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),e.which||o===t||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return ut.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0}},focus:{trigger:function(){if(this!==G.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===G.activeElement&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ut.extend(new ut.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ut.event.trigger(i,null,t):ut.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ut.removeEvent=G.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===W&&(e[r]=null),e.detachEvent(r,n))},ut.Event=function(e,t){return this instanceof ut.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?u:l):this.type=e,t&&ut.extend(this,t),this.timeStamp=e&&e.timeStamp||ut.now(),this[ut.expando]=!0,void 0):new ut.Event(e,t)},ut.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=u,this.stopPropagation()}},ut.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ut.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;return(!i||i!==r&&!ut.contains(r,i))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),ut.support.submitBubbles||(ut.event.special.submit={setup:function(){return ut.nodeName(this,"form")?!1:(ut.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=ut.nodeName(n,"input")||ut.nodeName(n,"button")?n.form:t;r&&!ut._data(r,"submitBubbles")&&(ut.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),ut._data(r,"submitBubbles",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ut.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ut.nodeName(this,"form")?!1:(ut.event.remove(this,"._submit"),void 0)}}),ut.support.changeBubbles||(ut.event.special.change={setup:function(){return Mt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ut.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ut.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ut.event.simulate("change",this,e,!0)})),!1):(ut.event.add(this,"beforeactivate._change",function(e){var t=e.target;Mt.test(t.nodeName)&&!ut._data(t,"changeBubbles")&&(ut.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ut.event.simulate("change",this.parentNode,e,!0)}),ut._data(t,"changeBubbles",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ut.event.remove(this,"._change"),!Mt.test(this.nodeName)}}),ut.support.focusinBubbles||ut.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){ut.event.simulate(t,e.target,ut.event.fix(e),!0)};ut.event.special[t]={setup:function(){0===n++&&G.addEventListener(e,r,!0)},teardown:function(){0===--n&&G.removeEventListener(e,r,!0)}}}),ut.fn.extend({on:function(e,n,r,i,s){var o,a;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(o in e)this.on(o,n,r,e[o],s);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=l;else if(!i)return this;return 1===s&&(a=i,i=function(e){return ut().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=ut.guid++)),this.each(function(){ut.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ut(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(s in e)this.off(s,n,e[s]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=l),this.each(function(){ut.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){ut.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ut.event.trigger(e,t,n,!0):void 0}}),function(e,t){function n(e){return dt.test(e+"")}function r(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>C.cacheLength&&delete e[t.shift()],e[n]=r}}function i(e){return e[B]=!0,e}function s(e){var t=N.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function o(e,t,n,r){var i,s,o,a,u,l,c,p,d,g;if((t?t.ownerDocument||t:z)!==N&&L(t),t=t||N,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(!R&&!r){if(i=gt.exec(e))if(o=i[1]){if(9===a){if(s=t.getElementById(o),!s||!s.parentNode)return n;if(s.id===o)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(o))&&O(t,s)&&s.id===o)return n.push(s),n}else{if(i[2])return K.apply(n,Q.call(t.getElementsByTagName(e),0)),n;if((o=i[3])&&j.getByClassName&&t.getElementsByClassName)return K.apply(n,Q.call(t.getElementsByClassName(o),0)),n}if(j.qsa&&!I.test(e)){if(c=!0,p=B,d=t,g=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(l=h(e),(c=t.getAttribute("id"))?p=c.replace(yt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",u=l.length;u--;)l[u]=p+f(l[u]);d=pt.test(e)&&t.parentNode||t,g=l.join(",")}if(g)try{return K.apply(n,Q.call(d.querySelectorAll(g),0)),n}catch(m){}finally{c||t.removeAttribute("id")}}}return x(e.replace(ot,"$1"),t,n,r)}function a(e,t){var n=t&&e,r=n&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function u(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,r){for(var i,s=e([],n.length,t),o=s.length;o--;)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function h(e,t){var n,r,i,s,a,u,l,c=X[e+" "];if(c)return t?0:c.slice(0);for(a=e,u=[],l=C.preFilter;a;){(!n||(r=at.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),u.push(i=[])),n=!1,(r=lt.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(ot," ")}),a=a.slice(n.length));for(s in C.filter)!(r=ft[s].exec(a))||l[s]&&!(r=l[s](r))||(n=r.shift(),i.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?o.error(e):X(e,u).slice(0)}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,s=V++;return t.first?function(t,n,s){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,s)}:function(t,n,o){var a,u,l,c=H+" "+s;if(o){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,o))return!0}else for(;t=t[r];)if(1===t.nodeType||i)if(l=t[B]||(t[B]={}),(u=l[r])&&u[0]===c){if((a=u[1])===!0||a===T)return a===!0}else if(u=l[r]=[c],u[1]=e(t,n,o)||T,u[1]===!0)return!0}}function d(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,t,n,r,i){for(var s,o=[],a=0,u=e.length,l=null!=t;u>a;a++)(s=e[a])&&(!n||n(s,r,i))&&(o.push(s),l&&t.push(a));return o}function m(e,t,n,r,s,o){return r&&!r[B]&&(r=m(r)),s&&!s[B]&&(s=m(s,o)),i(function(i,o,a,u){var l,c,h,f=[],p=[],d=o.length,m=i||b(t||"*",a.nodeType?[a]:a,[]),v=!e||!i&&t?m:g(m,f,e,a,u),y=n?s||(i?e:d||r)?[]:o:v;if(n&&n(v,y,a,u),r)for(l=g(y,p),r(l,[],a,u),c=l.length;c--;)(h=l[c])&&(y[p[c]]=!(v[p[c]]=h));if(i){if(s||e){if(s){for(l=[],c=y.length;c--;)(h=y[c])&&l.push(v[c]=h);s(null,y=[],l,u)}for(c=y.length;c--;)(h=y[c])&&(l=s?J.call(i,h):f[c])>-1&&(i[l]=!(o[l]=h))}}else y=g(y===o?y.splice(d,y.length):y),s?s(null,o,y,u):K.apply(o,y)})}function v(e){for(var t,n,r,i=e.length,s=C.relative[e[0].type],o=s||C.relative[" "],a=s?1:0,u=p(function(e){return e===t},o,!0),l=p(function(e){return J.call(t,e)>-1},o,!0),c=[function(e,n,r){return!s&&(r||n!==_)||((t=n).nodeType?u(e,n,r):l(e,n,r))}];i>a;a++)if(n=C.relative[e[a].type])c=[p(d(c),n)];else{if(n=C.filter[e[a].type].apply(null,e[a].matches),n[B]){for(r=++a;i>r&&!C.relative[e[r].type];r++);return m(a>1&&d(c),a>1&&f(e.slice(0,a-1)).replace(ot,"$1"),n,r>a&&v(e.slice(a,r)),i>r&&v(e=e.slice(r)),i>r&&f(e))}c.push(n)}return d(c)}function y(e,t){var n=0,r=t.length>0,s=e.length>0,a=function(i,a,u,l,c){var h,f,p,d=[],m=0,v="0",y=i&&[],b=null!=c,x=_,w=i||s&&C.find.TAG("*",c&&a.parentNode||a),A=H+=null==x?1:Math.random()||.1;for(b&&(_=a!==N&&a,T=n);null!=(h=w[v]);v++){if(s&&h){for(f=0;p=e[f++];)if(p(h,a,u)){l.push(h);break}b&&(H=A,T=++n)}r&&((h=!p&&h)&&m--,i&&y.push(h))}if(m+=v,r&&v!==m){for(f=0;p=t[f++];)p(y,d,a,u);if(i){if(m>0)for(;v--;)y[v]||d[v]||(d[v]=Z.call(l));d=g(d)}K.apply(l,d),b&&!i&&d.length>0&&m+t.length>1&&o.uniqueSort(l)}return b&&(H=A,_=x),y};return r?i(a):a}function b(e,t,n){for(var r=0,i=t.length;i>r;r++)o(e,t[r],n);return n}function x(e,t,n,r){var i,s,o,a,u,l=h(e);if(!r&&1===l.length){if(s=l[0]=l[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&9===t.nodeType&&!R&&C.relative[s[1].type]){if(t=C.find.ID(o.matches[0].replace(xt,wt),t)[0],!t)return n;e=e.slice(s.shift().value.length)}for(i=ft.needsContext.test(e)?0:s.length;i--&&(o=s[i],!C.relative[a=o.type]);)if((u=C.find[a])&&(r=u(o.matches[0].replace(xt,wt),pt.test(s[0].type)&&t.parentNode||t))){if(s.splice(i,1),e=r.length&&f(s),!e)return K.apply(n,Q.call(r,0)),n;break}}return P(e,l)(r,t,R,n,pt.test(e)),n}function w(){}var A,T,C,S,E,P,k,_,L,N,D,R,I,F,M,O,$,B="sizzle"+-new Date,z=e.document,j={},H=0,V=0,U=r(),X=r(),q=r(),W=typeof t,G=1<<31,Y=[],Z=Y.pop,K=Y.push,Q=Y.slice,J=Y.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},et="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=tt.replace("w","w#"),rt="([*^$|!~]?=)",it="\\["+et+"*("+tt+")"+et+"*(?:"+rt+et+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+nt+")|)|)"+et+"*\\]",st=":("+tt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+it.replace(3,8)+")*)|.*)\\)|)",ot=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),at=new RegExp("^"+et+"*,"+et+"*"),lt=new RegExp("^"+et+"*([\\x20\\t\\r\\n\\f>+~])"+et+"*"),ct=new RegExp(st),ht=new RegExp("^"+nt+"$"),ft={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),NAME:new RegExp("^\\[name=['\"]?("+tt+")['\"]?\\]"),TAG:new RegExp("^("+tt.replace("w","w*")+")"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},pt=/[\x20\t\r\n\f]*[+~]/,dt=/^[^{]+\{\s*\[native code/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,yt=/'|\\/g,bt=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,xt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,wt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{Q.call(z.documentElement.childNodes,0)[0].nodeType}catch(At){Q=function(e){for(var t,n=[];t=this[e++];)n.push(t);return n}}E=o.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=o.setDocument=function(e){var r=e?e.ownerDocument||e:z;return r!==N&&9===r.nodeType&&r.documentElement?(N=r,D=r.documentElement,R=E(r),j.tagNameNoComments=s(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),j.attributes=s(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),j.getByClassName=s(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),j.getByName=s(function(e){e.id=B+0,e.innerHTML="<a name='"+B+"'></a><div name='"+B+"'></div>",D.insertBefore(e,D.firstChild);var t=r.getElementsByName&&r.getElementsByName(B).length===2+r.getElementsByName(B+0).length;return j.getIdNotName=!r.getElementById(B),D.removeChild(e),t}),C.attrHandle=s(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==W&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},j.getIdNotName?(C.find.ID=function(e,t){if(typeof t.getElementById!==W&&!R){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(e){var t=e.replace(xt,wt);return function(e){return e.getAttribute("id")===t}}):(C.find.ID=function(e,n){if(typeof n.getElementById!==W&&!R){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==W&&r.getAttributeNode("id").value===e?[r]:t:[]}},C.filter.ID=function(e){var t=e.replace(xt,wt);return function(e){var n=typeof e.getAttributeNode!==W&&e.getAttributeNode("id");return n&&n.value===t}}),C.find.TAG=j.tagNameNoComments?function(e,t){return typeof t.getElementsByTagName!==W?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[i++];)1===n.nodeType&&r.push(n);return r}return s},C.find.NAME=j.getByName&&function(e,t){return typeof t.getElementsByName!==W?t.getElementsByName(name):void 0},C.find.CLASS=j.getByClassName&&function(e,t){return typeof t.getElementsByClassName===W||R?void 0:t.getElementsByClassName(e)},F=[],I=[":focus"],(j.qsa=n(r.querySelectorAll))&&(s(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||I.push("\\["+et+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||I.push(":checked")}),s(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&I.push("[*^$]="+et+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),(j.matchesSelector=n(M=D.matchesSelector||D.mozMatchesSelector||D.webkitMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&s(function(e){j.disconnectedMatch=M.call(e,"div"),M.call(e,"[s!='']:x"),F.push("!=",st)}),I=new RegExp(I.join("|")),F=new RegExp(F.join("|")),O=n(D.contains)||D.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=D.compareDocumentPosition?function(e,t){var n;return e===t?(k=!0,0):(n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&n||e.parentNode&&11===e.parentNode.nodeType?e===r||O(z,e)?-1:t===r||O(z,t)?1:0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,i=0,s=e.parentNode,o=t.parentNode,u=[e],l=[t];if(e===t)return k=!0,0;if(!s||!o)return e===r?-1:t===r?1:s?-1:o?1:0;if(s===o)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===z?-1:l[i]===z?1:0},k=!1,[0,0].sort($),j.detectDuplicates=k,N):N},o.matches=function(e,t){return o(e,null,null,t)},o.matchesSelector=function(e,t){if((e.ownerDocument||e)!==N&&L(e),t=t.replace(bt,"='$1']"),!(!j.matchesSelector||R||F&&F.test(t)||I.test(t)))try{var n=M.call(e,t);if(n||j.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return o(t,N,null,[e]).length>0},o.contains=function(e,t){return(e.ownerDocument||e)!==N&&L(e),O(e,t)},o.attr=function(e,t){var n;return(e.ownerDocument||e)!==N&&L(e),R||(t=t.toLowerCase()),(n=C.attrHandle[t])?n(e):R||j.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},o.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},o.uniqueSort=function(e){var t,n=[],r=1,i=0;if(k=!j.detectDuplicates,e.sort($),k){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return e},S=o.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=S(t);return n},C=o.selectors={cacheLength:50,createPseudo:i,match:ft,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xt,wt),e[3]=(e[4]||e[5]||"").replace(xt,wt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||o.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&o.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ft.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&ct.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(xt,wt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+et+")"+e+"("+et+"|$)"))&&U(e,function(e){return t.test(e.className||typeof e.getAttribute!==W&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=o.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,h,f,p,d,g=s!==o?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!u&&!a;if(m){if(s){for(;g;){for(h=t;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;d=g="only"===e&&!d&&"nextSibling"}return!0}if(d=[o?m.firstChild:m.lastChild],o&&y){for(c=m[B]||(m[B]={}),l=c[e]||[],p=l[0]===H&&l[1],f=l[0]===H&&l[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(f=p=0)||d.pop();)if(1===h.nodeType&&++f&&h===t){c[e]=[H,p,f];break}}else if(y&&(l=(t[B]||(t[B]={}))[e])&&l[0]===H)f=l[1];else for(;(h=++p&&h&&h[g]||(f=p=0)||d.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++f||(y&&((h[B]||(h[B]={}))[e]=[H,f]),h!==t)););return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=C.pseudos[e]||C.setFilters[e.toLowerCase()]||o.error("unsupported pseudo: "+e);return r[B]?r(t):r.length>1?(n=[e,e,"",t],C.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,n){for(var i,s=r(e,t),o=s.length;o--;)i=J.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:i(function(e){var t=[],n=[],r=P(e.replace(ot,"$1"));return r[B]?i(function(e,t,n,i){for(var s,o=r(e,null,i,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:i(function(e){return function(t){return o(e,t).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:i(function(e){return ht.test(e||"")||o.error("unsupported lang: "+e),e=e.replace(xt,wt).toLowerCase(),function(t){var n;do if(n=R?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===D},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return vt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}};for(A in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[A]=u(A);for(A in{submit:!0,reset:!0})C.pseudos[A]=l(A);P=o.compile=function(e,t){var n,r=[],i=[],s=q[e+" "];if(!s){for(t||(t=h(e)),n=t.length;n--;)s=v(t[n]),s[B]?r.push(s):i.push(s);s=q(e,y(i,r))}return s},C.pseudos.nth=C.pseudos.eq,C.filters=w.prototype=C.pseudos,C.setFilters=new w,L(),o.attr=ut.attr,ut.find=o,ut.expr=o.selectors,ut.expr[":"]=ut.expr.pseudos,ut.unique=o.uniqueSort,ut.text=o.getText,ut.isXMLDoc=o.isXML,ut.contains=o.contains}(e);var jt=/Until$/,Ht=/^(?:parents|prev(?:Until|All))/,Vt=/^.[^:#\[\.,]*$/,Ut=ut.expr.match.needsContext,Xt={children:!0,contents:!0,next:!0,prev:!0};ut.fn.extend({find:function(e){var t,n,r,i=this.length;if("string"!=typeof e)return r=this,this.pushStack(ut(e).filter(function(){for(t=0;i>t;t++)if(ut.contains(r[t],this))return!0}));for(n=[],t=0;i>t;t++)ut.find(e,this[t],n);return n=this.pushStack(i>1?ut.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=ut(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(ut.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(h(this,e,!1))},filter:function(e){return this.pushStack(h(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?Ut.test(e)?ut(e,this.context).index(this[0])>=0:ut.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,r=0,i=this.length,s=[],o=Ut.test(e)||"string"!=typeof e?ut(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(o?o.index(n)>-1:ut.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}return this.pushStack(s.length>1?ut.unique(s):s)},index:function(e){return e?"string"==typeof e?ut.inArray(this[0],ut(e)):ut.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?ut(e,t):ut.makeArray(e&&e.nodeType?[e]:e),r=ut.merge(this.get(),n);return this.pushStack(ut.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ut.fn.andSelf=ut.fn.addBack,ut.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ut.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ut.dir(e,"parentNode",n)},next:function(e){return c(e,"nextSibling")},prev:function(e){return c(e,"previousSibling")},nextAll:function(e){return ut.dir(e,"nextSibling")},prevAll:function(e){return ut.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ut.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ut.dir(e,"previousSibling",n)},siblings:function(e){return ut.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ut.sibling(e.firstChild)},contents:function(e){return ut.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ut.merge([],e.childNodes)}},function(e,t){ut.fn[e]=function(n,r){var i=ut.map(this,t,n);return jt.test(e)||(r=n),r&&"string"==typeof r&&(i=ut.filter(r,i)),i=this.length>1&&!Xt[e]?ut.unique(i):i,this.length>1&&Ht.test(e)&&(i=i.reverse()),this.pushStack(i)}}),ut.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?ut.find.matchesSelector(t[0],e)?[t[0]]:[]:ut.find.matches(e,t)},dir:function(e,n,r){for(var i=[],s=e[n];s&&9!==s.nodeType&&(r===t||1!==s.nodeType||!ut(s).is(r));)1===s.nodeType&&i.push(s),s=s[n];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var qt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Wt=/ jQuery\d+="(?:null|\d+)"/g,Gt=new RegExp("<(?:"+qt+")[\\s/>]","i"),Yt=/^\s+/,Zt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Kt=/<([\w:]+)/,Qt=/<tbody/i,Jt=/<|&#?\w+;/,en=/<(?:script|style|link)/i,tn=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,rn=/^$|\/(?:java|ecma)script/i,sn=/^true\/(.*)/,on=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,an={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ut.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},un=f(G),ln=un.appendChild(G.createElement("div"));
an.optgroup=an.option,an.tbody=an.tfoot=an.colgroup=an.caption=an.thead,an.th=an.td,ut.fn.extend({text:function(e){return ut.access(this,function(e){return e===t?ut.text(this):this.empty().append((this[0]&&this[0].ownerDocument||G).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(ut.isFunction(e))return this.each(function(t){ut(this).wrapAll(e.call(this,t))});if(this[0]){var t=ut(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ut.isFunction(e)?this.each(function(t){ut(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ut(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ut.isFunction(e);return this.each(function(n){ut(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ut.nodeName(this,"body")||ut(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)(!e||ut.filter(e,[n]).length>0)&&(t||1!==n.nodeType||ut.cleanData(b(n)),n.parentNode&&(t&&ut.contains(n.ownerDocument,n)&&m(b(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ut.cleanData(b(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ut.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ut.clone(this,e,t)})},html:function(e){return ut.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Wt,""):t;if(!("string"!=typeof e||en.test(e)||!ut.support.htmlSerialize&&Gt.test(e)||!ut.support.leadingWhitespace&&Yt.test(e)||an[(Kt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Zt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(ut.cleanData(b(n,!1)),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=ut.isFunction(e);return t||"string"==typeof e||(e=ut(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(ut(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=tt.apply([],e);var i,s,o,a,u,l,c=0,h=this.length,f=this,m=h-1,v=e[0],y=ut.isFunction(v);if(y||!(1>=h||"string"!=typeof v||ut.support.checkClone)&&nn.test(v))return this.each(function(i){var s=f.eq(i);y&&(e[0]=v.call(this,i,n?s.html():t)),s.domManip(e,n,r)});if(h&&(l=ut.buildFragment(e,this[0].ownerDocument,!1,this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(n=n&&ut.nodeName(i,"tr"),a=ut.map(b(l,"script"),d),o=a.length;h>c;c++)s=l,c!==m&&(s=ut.clone(s,!0,!0),o&&ut.merge(a,b(s,"script"))),r.call(n&&ut.nodeName(this[c],"table")?p(this[c],"tbody"):this[c],s,c);if(o)for(u=a[a.length-1].ownerDocument,ut.map(a,g),c=0;o>c;c++)s=a[c],rn.test(s.type||"")&&!ut._data(s,"globalEval")&&ut.contains(u,s)&&(s.src?ut.ajax({url:s.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):ut.globalEval((s.text||s.textContent||s.innerHTML||"").replace(on,"")));l=i=null}return this}}),ut.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ut.fn[e]=function(e){for(var n,r=0,i=[],s=ut(e),o=s.length-1;o>=r;r++)n=r===o?this:this.clone(!0),ut(s[r])[t](n),nt.apply(i,n.get());return this.pushStack(i)}}),ut.extend({clone:function(e,t,n){var r,i,s,o,a,u=ut.contains(e.ownerDocument,e);if(ut.support.html5Clone||ut.isXMLDoc(e)||!Gt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(ln.innerHTML=e.outerHTML,ln.removeChild(s=ln.firstChild)),!(ut.support.noCloneEvent&&ut.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ut.isXMLDoc(e)))for(r=b(s),a=b(e),o=0;null!=(i=a[o]);++o)r[o]&&y(i,r[o]);if(t)if(n)for(a=a||b(e),r=r||b(s),o=0;null!=(i=a[o]);o++)v(i,r[o]);else v(e,s);return r=b(s,"script"),r.length>0&&m(r,!u&&b(e,"script")),r=a=i=null,s},buildFragment:function(e,t,n,r){for(var i,s,o,a,u,l,c,h=e.length,p=f(t),d=[],g=0;h>g;g++)if(s=e[g],s||0===s)if("object"===ut.type(s))ut.merge(d,s.nodeType?[s]:s);else if(Jt.test(s)){for(a=a||p.appendChild(t.createElement("div")),u=(Kt.exec(s)||["",""])[1].toLowerCase(),c=an[u]||an._default,a.innerHTML=c[1]+s.replace(Zt,"<$1></$2>")+c[2],i=c[0];i--;)a=a.lastChild;if(!ut.support.leadingWhitespace&&Yt.test(s)&&d.push(t.createTextNode(Yt.exec(s)[0])),!ut.support.tbody)for(s="table"!==u||Qt.test(s)?"<table>"!==c[1]||Qt.test(s)?0:a:a.firstChild,i=s&&s.childNodes.length;i--;)ut.nodeName(l=s.childNodes[i],"tbody")&&!l.childNodes.length&&s.removeChild(l);for(ut.merge(d,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=p.lastChild}else d.push(t.createTextNode(s));for(a&&p.removeChild(a),ut.support.appendChecked||ut.grep(b(d,"input"),x),g=0;s=d[g++];)if((!r||-1===ut.inArray(s,r))&&(o=ut.contains(s.ownerDocument,s),a=b(p.appendChild(s),"script"),o&&m(a),n))for(i=0;s=a[i++];)rn.test(s.type||"")&&n.push(s);return a=null,p},cleanData:function(e,t){for(var n,r,i,s,o=0,a=ut.expando,u=ut.cache,l=ut.support.deleteExpando,c=ut.event.special;null!=(n=e[o]);o++)if((t||ut.acceptData(n))&&(i=n[a],s=i&&u[i])){if(s.events)for(r in s.events)c[r]?ut.event.remove(n,r):ut.removeEvent(n,r,s.handle);u[i]&&(delete u[i],l?delete n[a]:typeof n.removeAttribute!==W?n.removeAttribute(a):n[a]=null,J.push(i))}}});var cn,hn,fn,pn=/alpha\([^)]*\)/i,dn=/opacity\s*=\s*([^)]*)/,gn=/^(top|right|bottom|left)$/,mn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,yn=new RegExp("^("+lt+")(.*)$","i"),bn=new RegExp("^("+lt+")(?!px)[a-z%]+$","i"),xn=new RegExp("^([+-])=("+lt+")","i"),wn={BODY:"block"},An={position:"absolute",visibility:"hidden",display:"block"},Tn={letterSpacing:0,fontWeight:400},Cn=["Top","Right","Bottom","Left"],Sn=["Webkit","O","Moz","ms"];ut.fn.extend({css:function(e,n){return ut.access(this,function(e,n,r){var i,s,o={},a=0;if(ut.isArray(n)){for(s=hn(e),i=n.length;i>a;a++)o[n[a]]=ut.css(e,n[a],!1,s);return o}return r!==t?ut.style(e,n,r):ut.css(e,n)},e,n,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:A(this))?ut(this).show():ut(this).hide()})}}),ut.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=fn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ut.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,o,a,u=ut.camelCase(n),l=e.style;if(n=ut.cssProps[u]||(ut.cssProps[u]=w(l,u)),a=ut.cssHooks[n]||ut.cssHooks[u],r===t)return a&&"get"in a&&(s=a.get(e,!1,i))!==t?s:l[n];if(o=typeof r,"string"===o&&(s=xn.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(ut.css(e,n)),o="number"),!(null==r||"number"===o&&isNaN(r)||("number"!==o||ut.cssNumber[u]||(r+="px"),ut.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(l[n]="inherit"),a&&"set"in a&&(r=a.set(e,r,i))===t)))try{l[n]=r}catch(c){}}},css:function(e,n,r,i){var s,o,a,u=ut.camelCase(n);return n=ut.cssProps[u]||(ut.cssProps[u]=w(e.style,u)),a=ut.cssHooks[n]||ut.cssHooks[u],a&&"get"in a&&(o=a.get(e,!0,r)),o===t&&(o=fn(e,n,i)),"normal"===o&&n in Tn&&(o=Tn[n]),""===r||r?(s=parseFloat(o),r===!0||ut.isNumeric(s)?s||0:o):o},swap:function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i}}),e.getComputedStyle?(hn=function(t){return e.getComputedStyle(t,null)},fn=function(e,n,r){var i,s,o,a=r||hn(e),u=a?a.getPropertyValue(n)||a[n]:t,l=e.style;return a&&(""!==u||ut.contains(e.ownerDocument,e)||(u=ut.style(e,n)),bn.test(u)&&vn.test(n)&&(i=l.width,s=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=u,u=a.width,l.width=i,l.minWidth=s,l.maxWidth=o)),u}):G.documentElement.currentStyle&&(hn=function(e){return e.currentStyle},fn=function(e,n,r){var i,s,o,a=r||hn(e),u=a?a[n]:t,l=e.style;return null==u&&l&&l[n]&&(u=l[n]),bn.test(u)&&!gn.test(n)&&(i=l.left,s=e.runtimeStyle,o=s&&s.left,o&&(s.left=e.currentStyle.left),l.left="fontSize"===n?"1em":u,u=l.pixelLeft+"px",l.left=i,o&&(s.left=o)),""===u?"auto":u}),ut.each(["height","width"],function(e,t){ut.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&mn.test(ut.css(e,"display"))?ut.swap(e,An,function(){return E(e,t,r)}):E(e,t,r):void 0},set:function(e,n,r){var i=r&&hn(e);return C(e,n,r?S(e,t,r,ut.support.boxSizing&&"border-box"===ut.css(e,"boxSizing",!1,i),i):0)}}}),ut.support.opacity||(ut.cssHooks.opacity={get:function(e,t){return dn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=ut.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ut.trim(s.replace(pn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=pn.test(s)?s.replace(pn,i):s+" "+i)}}),ut(function(){ut.support.reliableMarginRight||(ut.cssHooks.marginRight={get:function(e,t){return t?ut.swap(e,{display:"inline-block"},fn,[e,"marginRight"]):void 0}}),!ut.support.pixelPosition&&ut.fn.position&&ut.each(["top","left"],function(e,t){ut.cssHooks[t]={get:function(e,n){return n?(n=fn(e,t),bn.test(n)?ut(e).position()[t]+"px":n):void 0}}})}),ut.expr&&ut.expr.filters&&(ut.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ut.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ut.css(e,"display"))},ut.expr.filters.visible=function(e){return!ut.expr.filters.hidden(e)}),ut.each({margin:"",padding:"",border:"Width"},function(e,t){ut.cssHooks[e+t]={expand:function(n){for(var r=0,i={},s="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Cn[r]+t]=s[r]||s[r-2]||s[0];return i}},vn.test(e)||(ut.cssHooks[e+t].set=C)});var En=/%20/g,Pn=/\[\]$/,kn=/\r?\n/g,_n=/^(?:submit|button|image|reset|file)$/i,Ln=/^(?:input|select|textarea|keygen)/i;ut.fn.extend({serialize:function(){return ut.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ut.prop(this,"elements");return e?ut.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ut(this).is(":disabled")&&Ln.test(this.nodeName)&&!_n.test(e)&&(this.checked||!tn.test(e))}).map(function(e,t){var n=ut(this).val();return null==n?null:ut.isArray(n)?ut.map(n,function(e){return{name:t.name,value:e.replace(kn,"\r\n")}}):{name:t.name,value:n.replace(kn,"\r\n")}}).get()}}),ut.param=function(e,n){var r,i=[],s=function(e,t){t=ut.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=ut.ajaxSettings&&ut.ajaxSettings.traditional),ut.isArray(e)||e.jquery&&!ut.isPlainObject(e))ut.each(e,function(){s(this.name,this.value)});else for(r in e)_(r,e[r],n,s);return i.join("&").replace(En,"+")},ut.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ut.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ut.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var Nn,Dn,Rn=ut.now(),In=/\?/,Fn=/#.*$/,Mn=/([?&])_=[^&]*/,On=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,$n=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Bn=/^(?:GET|HEAD)$/,zn=/^\/\//,jn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Hn=ut.fn.load,Vn={},Un={},Xn="*/".concat("*");try{Dn=Y.href}catch(qn){Dn=G.createElement("a"),Dn.href="",Dn=Dn.href}Nn=jn.exec(Dn.toLowerCase())||[],ut.fn.load=function(e,n,r){if("string"!=typeof e&&Hn)return Hn.apply(this,arguments);var i,s,o,a=this,u=e.indexOf(" ");return u>=0&&(i=e.slice(u,e.length),e=e.slice(0,u)),ut.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(o="POST"),a.length>0&&ut.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){s=arguments,a.html(i?ut("<div>").append(ut.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){a.each(r,s||[e.responseText,t,e])}),this},ut.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ut.fn[t]=function(e){return this.on(t,e)}}),ut.each(["get","post"],function(e,n){ut[n]=function(e,r,i,s){return ut.isFunction(r)&&(s=s||i,i=r,r=t),ut.ajax({url:e,type:n,dataType:s,data:r,success:i})}}),ut.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dn,type:"GET",isLocal:$n.test(Nn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":ut.parseJSON,"text xml":ut.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?D(D(e,ut.ajaxSettings),t):D(ut.ajaxSettings,e)},ajaxPrefilter:L(Vn),ajaxTransport:L(Un),ajax:function(e,n){function r(e,n,r,i){var s,h,y,b,w,T=n;2!==x&&(x=2,u&&clearTimeout(u),c=t,a=i||"",A.readyState=e>0?4:0,r&&(b=R(f,A,r)),e>=200&&300>e||304===e?(f.ifModified&&(w=A.getResponseHeader("Last-Modified"),w&&(ut.lastModified[o]=w),w=A.getResponseHeader("etag"),w&&(ut.etag[o]=w)),204===e?(s=!0,T="nocontent"):304===e?(s=!0,T="notmodified"):(s=I(f,b),T=s.state,h=s.data,y=s.error,s=!y)):(y=T,(e||!T)&&(T="error",0>e&&(e=0))),A.status=e,A.statusText=(n||T)+"",s?g.resolveWith(p,[h,T,A]):g.rejectWith(p,[A,T,y]),A.statusCode(v),v=t,l&&d.trigger(s?"ajaxSuccess":"ajaxError",[A,f,s?h:y]),m.fireWith(p,[A,T]),l&&(d.trigger("ajaxComplete",[A,f]),--ut.active||ut.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var i,s,o,a,u,l,c,h,f=ut.ajaxSetup({},n),p=f.context||f,d=f.context&&(p.nodeType||p.jquery)?ut(p):ut.event,g=ut.Deferred(),m=ut.Callbacks("once memory"),v=f.statusCode||{},y={},b={},x=0,w="canceled",A={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!h)for(h={};t=On.exec(a);)h[t[1].toLowerCase()]=t[2];t=h[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return x||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)v[t]=[v[t],e[t]];else A.always(e[A.status]);return this},abort:function(e){var t=e||w;return c&&c.abort(t),r(0,t),this}};if(g.promise(A).complete=m.add,A.success=A.done,A.error=A.fail,f.url=((e||f.url||Dn)+"").replace(Fn,"").replace(zn,Nn[1]+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=ut.trim(f.dataType||"*").toLowerCase().match(ct)||[""],null==f.crossDomain&&(i=jn.exec(f.url.toLowerCase()),f.crossDomain=!(!i||i[1]===Nn[1]&&i[2]===Nn[2]&&(i[3]||("http:"===i[1]?80:443))==(Nn[3]||("http:"===Nn[1]?80:443)))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ut.param(f.data,f.traditional)),N(Vn,f,n,A),2===x)return A;l=f.global,l&&0===ut.active++&&ut.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Bn.test(f.type),o=f.url,f.hasContent||(f.data&&(o=f.url+=(In.test(o)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=Mn.test(o)?o.replace(Mn,"$1_="+Rn++):o+(In.test(o)?"&":"?")+"_="+Rn++)),f.ifModified&&(ut.lastModified[o]&&A.setRequestHeader("If-Modified-Since",ut.lastModified[o]),ut.etag[o]&&A.setRequestHeader("If-None-Match",ut.etag[o])),(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&A.setRequestHeader("Content-Type",f.contentType),A.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Xn+"; q=0.01":""):f.accepts["*"]);for(s in f.headers)A.setRequestHeader(s,f.headers[s]);if(f.beforeSend&&(f.beforeSend.call(p,A,f)===!1||2===x))return A.abort();w="abort";for(s in{success:1,error:1,complete:1})A[s](f[s]);if(c=N(Un,f,n,A)){A.readyState=1,l&&d.trigger("ajaxSend",[A,f]),f.async&&f.timeout>0&&(u=setTimeout(function(){A.abort("timeout")},f.timeout));try{x=1,c.send(y,r)}catch(T){if(!(2>x))throw T;r(-1,T)}}else r(-1,"No Transport");return A},getScript:function(e,n){return ut.get(e,t,n,"script")},getJSON:function(e,t,n){return ut.get(e,t,n,"json")}}),ut.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ut.globalEval(e),e}}}),ut.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ut.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=G.head||ut("head")[0]||G.documentElement;return{send:function(t,i){n=G.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Wn=[],Gn=/(=)\?(?=&|$)|\?\?/;ut.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wn.pop()||ut.expando+"_"+Rn++;return this[e]=!0,e}}),ut.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,a,u=n.jsonp!==!1&&(Gn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gn.test(n.data)&&"data");return u||"jsonp"===n.dataTypes[0]?(s=n.jsonpCallback=ut.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,u?n[u]=n[u].replace(Gn,"$1"+s):n.jsonp!==!1&&(n.url+=(In.test(n.url)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return a||ut.error(s+" was not called"),a[0]},n.dataTypes[0]="json",o=e[s],e[s]=function(){a=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,Wn.push(s)),a&&ut.isFunction(o)&&o(a[0]),a=o=t}),"script"):void 0});var Yn,Zn,Kn=0,Qn=e.ActiveXObject&&function(){var e;for(e in Yn)Yn[e](t,!0)};ut.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&F()||M()}:F,Zn=ut.ajaxSettings.xhr(),ut.support.cors=!!Zn&&"withCredentials"in Zn,Zn=ut.support.ajax=!!Zn,Zn&&ut.ajaxTransport(function(n){if(!n.crossDomain||ut.support.cors){var r;return{send:function(i,s){var o,a,u=n.xhr();if(n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)u[a]=n.xhrFields[a];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(a in i)u.setRequestHeader(a,i[a])}catch(l){}u.send(n.hasContent&&n.data||null),r=function(e,i){var a,l,c,h;try{if(r&&(i||4===u.readyState))if(r=t,o&&(u.onreadystatechange=ut.noop,Qn&&delete Yn[o]),i)4!==u.readyState&&u.abort();else{h={},a=u.status,l=u.getAllResponseHeaders(),"string"==typeof u.responseText&&(h.text=u.responseText);try{c=u.statusText}catch(f){c=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=h.text?200:404}}catch(p){i||s(-1,p)}h&&s(a,c,h,l)},n.async?4===u.readyState?setTimeout(r):(o=++Kn,Qn&&(Yn||(Yn={},ut(e).unload(Qn)),Yn[o]=r),u.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Jn,er,tr=/^(?:toggle|show|hide)$/,nr=new RegExp("^(?:([+-])=|)("+lt+")([a-z%]*)$","i"),rr=/queueHooks$/,ir=[j],sr={"*":[function(e,t){var n,r,i=this.createTween(e,t),s=nr.exec(t),o=i.cur(),a=+o||0,u=1,l=20;if(s){if(n=+s[2],r=s[3]||(ut.cssNumber[e]?"":"px"),"px"!==r&&a){a=ut.css(i.elem,e,!0)||n||1;do u=u||".5",a/=u,ut.style(i.elem,e,a+r);while(u!==(u=i.cur()/o)&&1!==u&&--l)}i.unit=r,i.start=a,i.end=s[1]?a+(s[1]+1)*n:n}return i}]};ut.Animation=ut.extend(B,{tweener:function(e,t){ut.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],sr[n]=sr[n]||[],sr[n].unshift(t)},prefilter:function(e,t){t?ir.unshift(e):ir.push(e)}}),ut.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(ut.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.pos=t=this.options.duration?ut.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ut.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ut.fx.step[e.prop]?ut.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ut.cssProps[e.prop]]||ut.cssHooks[e.prop])?ut.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ut.each(["toggle","show","hide"],function(e,t){var n=ut.fn[t];ut.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(V(t,!0),e,r,i)}}),ut.fn.extend({fadeTo:function(e,t,n,r){return this.filter(A).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ut.isEmptyObject(e),s=ut.speed(t,n,r),o=function(){var t=B(this,ut.extend({},e),s);o.finish=function(){t.stop(!0)},(i||ut._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",s=ut.timers,o=ut._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&rr.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem!==this||null!=e&&s[n].queue!==e||(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&ut.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ut._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=ut.timers,o=r?r.length:0;for(n.finish=!0,ut.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ut.each({slideDown:V("show"),slideUp:V("hide"),slideToggle:V("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ut.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ut.speed=function(e,t,n){var r=e&&"object"==typeof e?ut.extend({},e):{complete:n||!n&&t||ut.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ut.isFunction(t)&&t};return r.duration=ut.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ut.fx.speeds?ut.fx.speeds[r.duration]:ut.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ut.isFunction(r.old)&&r.old.call(this),r.queue&&ut.dequeue(this,r.queue)},r},ut.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ut.timers=[],ut.fx=H.prototype.init,ut.fx.tick=function(){var e,n=ut.timers,r=0;for(Jn=ut.now();r<n.length;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||ut.fx.stop(),Jn=t},ut.fx.timer=function(e){e()&&ut.timers.push(e)&&ut.fx.start()},ut.fx.interval=13,ut.fx.start=function(){er||(er=setInterval(ut.fx.tick,ut.fx.interval))},ut.fx.stop=function(){clearInterval(er),er=null},ut.fx.speeds={slow:600,fast:200,_default:400},ut.fx.step={},ut.expr&&ut.expr.filters&&(ut.expr.filters.animated=function(e){return ut.grep(ut.timers,function(t){return e===t.elem}).length}),ut.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ut.offset.setOffset(this,e,t)});var n,r,i={top:0,left:0},s=this[0],o=s&&s.ownerDocument;if(o)return n=o.documentElement,ut.contains(n,s)?(typeof s.getBoundingClientRect!==W&&(i=s.getBoundingClientRect()),r=U(o),{top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):i},ut.offset={setOffset:function(e,t,n){var r=ut.css(e,"position");"static"===r&&(e.style.position="relative");var i,s,o=ut(e),a=o.offset(),u=ut.css(e,"top"),l=ut.css(e,"left"),c=("absolute"===r||"fixed"===r)&&ut.inArray("auto",[u,l])>-1,h={},f={};c?(f=o.position(),i=f.top,s=f.left):(i=parseFloat(u)||0,s=parseFloat(l)||0),ut.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(h.top=t.top-a.top+i),null!=t.left&&(h.left=t.left-a.left+s),"using"in t?t.using.call(e,h):o.css(h)}},ut.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ut.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ut.nodeName(e[0],"html")||(n=e.offset()),n.top+=ut.css(e[0],"borderTopWidth",!0),n.left+=ut.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ut.css(r,"marginTop",!0),left:t.left-n.left-ut.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||G.documentElement;e&&!ut.nodeName(e,"html")&&"static"===ut.css(e,"position");)e=e.offsetParent;return e||G.documentElement})}}),ut.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);ut.fn[e]=function(i){return ut.access(this,function(e,i,s){var o=U(e);return s===t?o?n in o?o[n]:o.document.documentElement[i]:e[i]:(o?o.scrollTo(r?ut(o).scrollLeft():s,r?s:ut(o).scrollTop()):e[i]=s,void 0)},e,i,arguments.length,null)}}),ut.each({Height:"height",Width:"width"},function(e,n){ut.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){ut.fn[i]=function(i,s){var o=arguments.length&&(r||"boolean"!=typeof i),a=r||(i===!0||s===!0?"margin":"border");return ut.access(this,function(n,r,i){var s;return ut.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?ut.css(n,r,a):ut.style(n,r,i,a)},n,o?i:t,o,null)}})}),e.jQuery=e.$=ut,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return ut})}(window),function(e,t){var n=function(){var t=e._data(document,"events");return t&&t.click&&e.grep(t.click,function(e){return"rails"===e.namespace}).length};n()&&e.error("jquery-ujs has already been loaded!");var r;e.rails=r={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,r){var i=e.Event(n);return t.trigger(i,r),i.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(n){var i,s,o,a,u,l,c,h;if(r.fire(n,"ajax:before")){if(a=n.data("cross-domain"),u=a===t?null:a,l=n.data("with-credentials")||null,c=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,n.is("form")){i=n.attr("method"),s=n.attr("action"),o=n.serializeArray();var f=n.data("ujs:submit-button");f&&(o.push(f),n.data("ujs:submit-button",null))}else n.is(r.inputChangeSelector)?(i=n.data("method"),s=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):(i=n.data("method"),s=r.href(n),o=n.data("params")||null);h={type:i||"GET",data:o,dataType:c,beforeSend:function(e,i){return i.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),r.fire(n,"ajax:beforeSend",[e,i])},success:function(e,t,r){n.trigger("ajax:success",[e,t,r])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,r){n.trigger("ajax:error",[e,t,r])},crossDomain:u},l&&(h.xhrFields={withCredentials:l}),s&&(h.url=s);var p=r.ajax(h);return n.trigger("ajax:send",p),p}return!1},handleMethod:function(n){var i=r.href(n),s=n.data("method"),o=n.attr("target"),a=e("meta[name=csrf-token]").attr("content"),u=e("meta[name=csrf-param]").attr("content"),l=e('<form method="post" action="'+i+'"></form>'),c='<input name="_method" value="'+s+'" type="hidden" />';u!==t&&a!==t&&(c+='<input name="'+u+'" value="'+a+'" type="hidden" />'),o&&l.attr("target",o),l.hide().append(c).appendTo("body"),l.submit()},disableFormElements:function(t){t.find(r.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(r.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,n=e.data("confirm"),i=!1;return n?(r.fire(e,"confirm")&&(i=r.confirm(n),t=r.fire(e,"confirm:complete",[i])),i&&t):!0},blankInputs:function(t,n,r){var i,s,o=e(),a=n||"input,textarea",u=t.find(a);return u.each(function(){if(i=e(this),s=i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):i.val(),!s==!r){if(i.is("input[type=radio]")&&u.filter('input[type=radio]:checked[name="'+i.attr("name")+'"]').length)return!0;o=o.add(i)}}),o.length?o:!1},nonBlankInputs:function(e,t){return r.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(n,r){var i=n.data("events"),s=!0;return i!==t&&i.submit!==t&&e.each(i.submit,function(e,t){return"function"==typeof t.handler?s=t.handler(r):void 0}),s},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return r.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},r.fire(e(document),"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||r.CSRFProtection(n)}),e(document).delegate(r.linkDisableSelector,"ajax:complete",function(){r.enableElement(e(this))}),e(document).delegate(r.linkClickSelector,"click.rails",function(n){var i=e(this),s=i.data("method"),o=i.data("params");if(!r.allowAction(i))return r.stopEverything(n);if(i.is(r.linkDisableSelector)&&r.disableElement(i),i.data("remote")!==t){if(!(!n.metaKey&&!n.ctrlKey||s&&"GET"!==s||o))return!0;var a=r.handleRemote(i);return a===!1?r.enableElement(i):a.error(function(){r.enableElement(i)}),!1}return i.data("method")?(r.handleMethod(i),!1):void 0}),e(document).delegate(r.inputChangeSelector,"change.rails",function(t){var n=e(this);return r.allowAction(n)?(r.handleRemote(n),!1):r.stopEverything(t)}),e(document).delegate(r.formSubmitSelector,"submit.rails",function(n){var i=e(this),s=i.data("remote")!==t,o=r.blankInputs(i,r.requiredInputSelector),a=r.nonBlankInputs(i,r.fileInputSelector);if(!r.allowAction(i))return r.stopEverything(n);if(o&&i.attr("novalidate")==t&&r.fire(i,"ajax:aborted:required",[o]))return r.stopEverything(n);if(s){if(a){setTimeout(function(){r.disableFormElements(i)},13);var u=r.fire(i,"ajax:aborted:file",[a]);return u||setTimeout(function(){r.enableFormElements(i)},13),u}return!e.support.submitBubbles&&e().jquery<"1.7"&&r.callFormSubmitBindings(i,n)===!1?r.stopEverything(n):(r.handleRemote(i),!1)
}setTimeout(function(){r.disableFormElements(i)},13)}),e(document).delegate(r.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!r.allowAction(n))return r.stopEverything(t);var i=n.attr("name"),s=i?{name:i,value:n.val()}:null;n.closest("form").data("ujs:submit-button",s)}),e(document).delegate(r.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&r.disableFormElements(e(this))}),e(document).delegate(r.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&r.enableFormElements(e(this))}),e(function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e('form input[name="'+n+'"]').val(t)}))}(jQuery),function(){var e,t,n,r,i,s,o,a,u,l,c,h,f,p,d,g,m,v,y,b,x,w,A,T,C,S,E,P,k,_,L,N,D,R,I,F,M,O,$,B,z,j,H,V,U,X,q,W={}.hasOwnProperty,G=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};w=!1,h=null,N=document.location.href,S=null,_={},l=null,B=(null!=(q=document.cookie.match(/request_method=(\w+)/))?q[1].toUpperCase():void 0)||"",X=null,U=function(e){return s&&i?(o(),D(e),v(e)):document.location.href=e},v=function(e){var t;return V("page:fetch"),t=O(e),null!=X&&X.abort(),X=new XMLHttpRequest,X.open("GET",t,!0),X.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),X.setRequestHeader("X-XHR-Referer",N),X.onload=function(){var e;return V("page:receive"),C(X)||n(e=l(X.responseText))?document.location.reload():(a.apply(null,d(e)),R(X),document.location.hash?document.location.href=document.location.href:j(),V("page:load"))},X.onloadend=function(){return X=null},X.onabort=function(){return F()},X.onerror=function(){return document.location.href=e},X.send()},m=function(e){var t;return o(),(t=_[e.position])?(null!=X&&X.abort(),a(t.title,t.body),L(t),V("page:restore")):v(document.location.href)},o=function(){return M(),_[h.position]={url:document.location.href,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset},u(10)},u=function(e){var t,n;for(t in _)W.call(_,t)&&(n=_[t],t<=h.position-e&&(_[t]=null))},a=function(t,n,r,i){return document.title=t,document.documentElement.replaceChild(n,document.body),null!=r&&e.update(r),$(),i&&f(),h=window.history.state,V("page:change")},f=function(){var e,t,n,r,i,s,o,a,u,l,c,h;for(s=Array.prototype.slice.call(document.body.getElementsByTagName("script")),o=0,u=s.length;u>o;o++)if(i=s[o],""===(c=i.type)||"text/javascript"===c){for(t=document.createElement("script"),h=i.attributes,a=0,l=h.length;l>a;a++)e=h[a],t.setAttribute(e.name,e.value);t.appendChild(document.createTextNode(i.innerHTML)),r=i.parentNode,n=i.nextSibling,r.removeChild(i),r.insertBefore(t,n)}},$=function(){var e,t,n,r;for(t=Array.prototype.slice.call(document.body.getElementsByTagName("noscript")),n=0,r=t.length;r>n;n++)e=t[n],e.parentNode.removeChild(e)},D=function(e){return e!==document.location.href?(N=document.location.href,window.history.pushState({turbolinks:!0,position:h.position+1},"",e)):void 0},R=function(e){var t;return(t=e.getResponseHeader("X-XHR-Current-Location"))&&t!==document.location.pathname+document.location.search?window.history.replaceState(h,"",t+document.location.hash):void 0},F=function(){return window.history.replaceState({turbolinks:!0,position:Date.now()},"",document.location.href)},I=function(){return h=window.history.state},M=function(){return w?void 0:(F(),I(),l=r(),w=!0)},L=function(e){return window.scrollTo(e.positionX,e.positionY)},j=function(){return window.scrollTo(0,0)},O=function(e){var t;return t=e,null==e.href&&(t=document.createElement("A"),t.href=e),t.href.replace(t.hash,"")},V=function(e){var t;return t=document.createEvent("Events"),t.initEvent(e,!0,!0),document.dispatchEvent(t)},C=function(e){return!e.getResponseHeader("Content-Type").match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},g=function(e){var t,n,r,i,s;for(i=e.head.childNodes,s=[],n=0,r=i.length;r>n;n++)t=i[n],null!=("function"==typeof t.getAttribute?t.getAttribute("data-turbolinks-track"):void 0)&&s.push(t.src||t.href);return s},n=function(e){var t;return S||(S=g(document)),t=g(e),t.length!==S.length||T(t,S).length!==S.length},T=function(e,t){var n,r,i,s,o;for(e.length>t.length&&(s=[t,e],e=s[0],t=s[1]),o=[],r=0,i=e.length;i>r;r++)n=e[r],G.call(t,n)>=0&&o.push(n);return o},d=function(t){var n;return n=t.querySelector("title"),[null!=n?n.textContent:void 0,t.body,e.get(t).token,"runScripts"]},e={get:function(e){var t;return null==e&&(e=document),{node:t=e.querySelector('meta[name="csrf-token"]'),token:null!=t?"function"==typeof t.getAttribute?t.getAttribute("content"):void 0:void 0}},update:function(e){var t;return t=this.get(),null!=t.token&&null!=e&&t.token!==e?t.node.setAttribute("content",e):void 0}},r=function(){var e,t,n,r,i,s;t=function(e){return(new DOMParser).parseFromString(e,"text/html")},e=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.documentElement.innerHTML=e,t},n=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.open("replace"),t.write(e),t.close(),t};try{if(window.DOMParser)return i=t("<html><body><p>test"),t}catch(o){return r=o,i=e("<html><body><p>test"),e}finally{if(1!==(null!=i?null!=(s=i.body)?s.childNodes.length:void 0:void 0))return n}},A=function(e){return e.defaultPrevented?void 0:(document.removeEventListener("click",y,!1),document.addEventListener("click",y,!1))},y=function(e){var t;return e.defaultPrevented||(t=p(e),"A"!==t.nodeName||b(e,t))?void 0:(U(t.href),e.preventDefault())},p=function(e){var t;for(t=e.target;t.parentNode&&"A"!==t.nodeName;)t=t.parentNode;return t},c=function(e){return location.protocol!==e.protocol||location.host!==e.host},t=function(e){return(e.hash&&O(e))===O(location)||e.href===location.href+"#"},P=function(e){var t;return t=O(e),t.match(/\.[a-z]+(\?.*)?$/g)&&!t.match(/\.html?(\?.*)?$/g)},E=function(e){for(var t;!t&&e!==document;)t=null!=e.getAttribute("data-no-turbolink"),e=e.parentNode;return t},H=function(e){return 0!==e.target.length},k=function(e){return e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey},b=function(e,n){return c(n)||t(n)||P(n)||E(n)||H(n)||k(e)},x=function(){return document.addEventListener("click",A,!0),window.addEventListener("popstate",function(e){var t;return(null!=(t=e.state)?t.turbolinks:void 0)?m(e.state):void 0},!1)},s=window.history&&window.history.pushState&&window.history.replaceState&&void 0!==window.history.state,i=!navigator.userAgent.match(/CriOS\//),z="GET"===B||""===B,s&&i&&z&&x(),this.Turbolinks={visit:U}}.call(this),function(e){"use strict";function t(){this.reset()}function n(){e(".balance-text").balanceText()}var r=document.documentElement.style,i=r.textWrap||r.WebkitTextWrap||r.MozTextWrap||r.MsTextWrap||r.OTextWrap;t.prototype.reset=function(){this.index=0,this.width=0};var s=function(e){return Boolean(e.match(/^\s$/))},o=function(t){t.find('br[data-owner="balance-text"]').replaceWith(document.createTextNode(" "));var n=t.find('span[data-owner="balance-text"]');if(n.length>0){var r="";n.each(function(){r+=e(this).text(),e(this).remove()}),t.html(r)}},a=function(e){return r=e.get(0).currentStyle||window.getComputedStyle(e.get(0),null),"justify"===r.textAlign},u=function(t,n,r){n=e.trim(n);var i=n.split(" ").length;if(n+=" ",2>i)return n;var s=e("<span></span>").html(n);t.append(s);var o=s.width();s.remove();var a=Math.floor((r-o)/(i-1));return s.css("word-spacing",a+"px").attr("data-owner","balance-text"),e("<div></div>").append(s).html()},l=function(e,t){return 0===t||t===e.length||s(e.charAt(t-1))&&!s(e.charAt(t))},c=function(e,t,n,r,i,s,o){for(var a;;){for(;!l(t,s);)s+=i;if(e.text(t.substr(0,s)),a=e.width(),0>i?r>=a||0>=a||0===s:a>=r||a>=n||s===t.length)break;s+=i}o.index=s,o.width=a};e.fn.balanceText=function(){return i?this:this.each(function(){var n=e(this),r=5e3;o(n);var i=n.width(),s=n.height(),l=n.css("white-space"),h=n.css("float"),f=n.css("display"),p=n.css("position");n.css({"white-space":"nowrap","float":"none",display:"inline",position:"static"});var d=n.width(),g=n.height(),m="pre-wrap"===l?0:g/4;if(i>0&&d>i&&r>d){for(var v=n.text(),y="",b="",x=a(n),w=Math.round(s/g),A=w;A>1;){var T=Math.round((d+m)/A-m),C=Math.round((v.length+1)/A)-1,S=new t;c(n,v,i,T,-1,C,S);var E=new t;C=S.index,c(n,v,i,T,1,C,E),S.reset(),C=E.index,c(n,v,i,T,-1,C,S);var P;P=0===S.index?E.index:i<E.width||S.index===E.index?S.index:Math.abs(T-S.width)<Math.abs(E.width-T)?S.index:E.index,b=v.substr(0,P),x?y+=u(n,b,i):(y+=b,y+='<br data-owner="balance-text" />'),v=v.substr(P),A--,n.text(v),d=n.width()}x?n.html(y+u(n,v,i)):n.html(y+v)}n.css({position:p,display:f,"float":h,"white-space":l})})},n(),e(window).resize(n)}(jQuery),function(e){e.fn.fitText=function(t,n){var r=t||1,i=e.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY},n);return this.each(function(){var t=e(this),n=function(){t.css("font-size",Math.max(Math.min(t.width()/(10*r),parseFloat(i.maxFontSize)),parseFloat(i.minFontSize)))};n(),e(window).on("resize.fittext orientationchange.fittext",n)})}}(jQuery),function(e,t,n,r){function i(t,n){return t in e?e[t]:"function"==typeof e[n]?e[n]:function(e){if(e instanceof Array)return e;if("number"==typeof e){var t=[];return t.length=e,t}}}function s(e){if("string"==typeof e){for(var t=0,i=0;i<e.length;++i)t=4294967295&31*t+e.charCodeAt(i);return t}return"object"!=typeof e?4294967295&e:e.hashCode instanceof Function?e.hashCode():(e.$id===r&&(e.$id=n.floor(65536*n.random())-32768<<16|n.floor(65536*n.random())),e.$id)}function o(e,t){return null===e||null===t?null===e&&null===t:"string"==typeof e?e===t:"object"!=typeof e?e===t:e.equals instanceof Function?e.equals(t):e===t}function a(){}function u(e,t,n){if(!e.hasOwnProperty(t)||"function"!=typeof e[t])return e[t]=n,void 0;var r=e[t];if("$overloads"in r)return r.$defaultOverload=n,void 0;if("$overloads"in n||r.length!==n.length){var i,s;"$overloads"in n?(i=n.$overloads.slice(0),i[r.length]=r,s=n.$defaultOverload):(i=[],i[n.length]=n,i[r.length]=r,s=r);var o=function(){var e=o.$overloads[arguments.length]||("$methodArgsIndex"in o&&arguments.length>o.$methodArgsIndex?o.$overloads[o.$methodArgsIndex]:null)||o.$defaultOverload;return e.apply(this,arguments)};o.$overloads=i,"$methodArgsIndex"in n&&(o.$methodArgsIndex=n.$methodArgsIndex),o.$defaultOverload=s,o.name=t,e[t]=o}}function l(e,t){function n(n){_.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},enumerable:!0})}var r=[];for(var i in t)"function"==typeof t[i]?u(e,i,t[i]):"$"===i.charAt(0)||i in e||r.push(i);for(;r.length>0;)n(r.shift());e.$super=t}function c(e){return"string"!=typeof e?!1:-1!==["byte","int","char","color","float","long","double"].indexOf(e)}function h(e){var r=250,i=e.size/r,s=t.createElement("canvas");s.width=2*r,s.height=2*r,s.style.opacity=0;var o=e.getCSSDefinition(r+"px","normal"),a=s.getContext("2d");a.font=o;var u="dbflkhyjqpg";s.width=a.measureText(u).width,a.font=o;var l=t.createElement("div");l.style.position="absolute",l.style.opacity=0,l.style.fontFamily='"'+e.name+'"',l.style.fontSize=r+"px",l.innerHTML=u+"<br/>"+u,t.body.appendChild(l);var c=s.width,h=s.height,f=h/2;a.fillStyle="white",a.fillRect(0,0,c,h),a.fillStyle="black",a.fillText(u,0,f);for(var p=a.getImageData(0,0,c,h).data,d=0,g=4*c,v=p.length;++d<v&&255===p[d];)m();var y=n.round(d/g);for(d=v-1;--d>0&&255===p[d];)m();var b=n.round(d/g);if(e.ascent=i*(f-y),e.descent=i*(b-f),t.defaultView.getComputedStyle){var x=t.defaultView.getComputedStyle(l,null).getPropertyValue("height");x=i*x.replace("px",""),x>=2*e.size&&(e.leading=n.round(x/2))}return t.body.removeChild(l),e.caching?a:void 0}function f(e,t){e===r&&(e=""),this.name=e,t===r&&(t=0),this.size=t,this.glyph=!1,this.ascent=0,this.descent=0,this.leading=1.2*t;var n=e.indexOf(" Italic Bold");-1!==n&&(e=e.substring(0,n)),this.style="normal";var i=e.indexOf(" Italic");-1!==i&&(e=e.substring(0,i),this.style="italic"),this.weight="normal";var s=e.indexOf(" Bold");if(-1!==s&&(e=e.substring(0,s),this.weight="bold"),this.family="sans-serif",e!==r)switch(e){case"sans-serif":case"serif":case"monospace":case"fantasy":case"cursive":this.family=e;break;default:this.family='"'+e+'", sans-serif'}this.context2d=h(this),this.css=this.getCSSDefinition(),this.context2d&&(this.context2d.font=this.css)}function p(){var e,t,n=["abs","acos","alpha","ambient","ambientLight","append","applyMatrix","arc","arrayCopy","asin","atan","atan2","background","beginCamera","beginDraw","beginShape","bezier","bezierDetail","bezierPoint","bezierTangent","bezierVertex","binary","blend","blendColor","blit_resize","blue","box","breakShape","brightness","camera","ceil","Character","color","colorMode","concat","constrain","copy","cos","createFont","createGraphics","createImage","cursor","curve","curveDetail","curvePoint","curveTangent","curveTightness","curveVertex","day","degrees","directionalLight","disableContextMenu","dist","draw","ellipse","ellipseMode","emissive","enableContextMenu","endCamera","endDraw","endShape","exit","exp","expand","externals","fill","filter","floor","focused","frameCount","frameRate","frustum","get","glyphLook","glyphTable","green","height","hex","hint","hour","hue","image","imageMode","intersect","join","key","keyCode","keyPressed","keyReleased","keyTyped","lerp","lerpColor","lightFalloff","lights","lightSpecular","line","link","loadBytes","loadFont","loadGlyphs","loadImage","loadPixels","loadShape","loadXML","loadStrings","log","loop","mag","map","match","matchAll","max","millis","min","minute","mix","modelX","modelY","modelZ","modes","month","mouseButton","mouseClicked","mouseDragged","mouseMoved","mouseOut","mouseOver","mousePressed","mouseReleased","mouseScroll","mouseScrolled","mouseX","mouseY","name","nf","nfc","nfp","nfs","noCursor","noFill","noise","noiseDetail","noiseSeed","noLights","noLoop","norm","normal","noSmooth","noStroke","noTint","ortho","param","parseBoolean","parseByte","parseChar","parseFloat","parseInt","peg","perspective","PImage","pixels","PMatrix2D","PMatrix3D","PMatrixStack","pmouseX","pmouseY","point","pointLight","popMatrix","popStyle","pow","print","printCamera","println","printMatrix","printProjection","PShape","PShapeSVG","pushMatrix","pushStyle","quad","radians","random","Random","randomSeed","rect","rectMode","red","redraw","requestImage","resetMatrix","reverse","rotate","rotateX","rotateY","rotateZ","round","saturation","save","saveFrame","saveStrings","scale","screenX","screenY","screenZ","second","set","setup","shape","shapeMode","shared","shearX","shearY","shininess","shorten","sin","size","smooth","sort","specular","sphere","sphereDetail","splice","split","splitTokens","spotLight","sq","sqrt","status","str","stroke","strokeCap","strokeJoin","strokeWeight","subset","tan","text","textAlign","textAscent","textDescent","textFont","textLeading","textMode","textSize","texture","textureMode","textWidth","tint","toImageData","touchCancel","touchEnd","touchMove","touchStart","translate","transform","triangle","trim","unbinary","unhex","updatePixels","use3DContext","vertex","width","XMLElement","XML","year","__contains","__equals","__equalsIgnoreCase","__frameRate","__hashCode","__int_cast","__instanceof","__keyPressed","__mousePressed","__printStackTrace","__replace","__replaceAll","__replaceFirst","__toCharArray","__split","__codePointAt","__startsWith","__endsWith","__matches"],r={};for(e=0,t=n.length;t>e;++e)r[n[e]]=null;for(var i in F.lib)if(F.lib.hasOwnProperty(i)&&F.lib[i].exports){var s=F.lib[i].exports;for(e=0,t=s.length;t>e;++e)r[s[e]]=null}return r}function d(e){function t(e){for(var t=[],n=e.split(/([\{\[\(\)\]\}])/),r=n[0],i=[],s=1;s<n.length;s+=2){var o=n[s];if("["===o||"{"===o||"("===o)i.push(r),r=o;else if("]"===o||"}"===o||")"===o){var a="}"===o?"A":")"===o?"B":"C",u=t.length;t.push(r+o),r=i.pop()+'"'+a+(u+1)+'"'}r+=n[s+1]}return t.unshift(r),t}function n(e,t){return e.replace(/'(\d+)'/g,function(e,n){var r=t[n];return"/"===r.charAt(0)?r:/^'((?:[^'\\\n])|(?:\\.[0-9A-Fa-f]*))'$/.test(r)?"(new $p.Character("+r+"))":r})}function i(e){var t,n=/^\s*/.exec(e);if(n[0].length===e.length)t={left:n[0],middle:"",right:""};else{var r=/\s*$/.exec(e);t={left:n[0],middle:e.substring(n[0].length,r.index),right:r[0]}}return t.untrim=function(e){return this.left+e+this.right},t}function s(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function o(e,t){for(var n=0,r=t.length;r>n;++n)e[t[n]]=null;return e}function a(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function u(e){return e.substring(2,e.length-1)}function l(e,t){var n=_t.length;return _t.push(e),'"'+t+n+'"'}function c(){return"class"+ ++Nt}function h(e,t,n){e.classId=t,e.scopeId=n,Lt[t]=e}function f(e){var t=e;return t=t.replace(Dt,function(e){return l(e,"E")}),t=t.replace(Rt,function(e){return l(e,"D")}),t=t.replace(Ot,function(e){return l(e,"H")})}function d(e,t){var n=e.replace(Ft,function(e,n,r){return r!==t?e:l(e,"G")});return n}function g(e){this.name=e}function m(e,t){this.params=e,this.methodArgsParam=t}function v(e){var t=s(e.substring(1,e.length-1)),n=[],r=null;if(""!==t)for(var i=t.split(","),o=0;o<i.length;++o){var a=/\b([A-Za-z_$][\w$]*\b)(\s*"[ABC][\d]*")*\s*$/.exec(i[o]);if(o===i.length-1&&i[o].indexOf("...")>=0){r=new g(a[1]);break}n.push(new g(a[1]))}return new m(n,r)}function y(e){function t(e,t,n,r){var o=_t[r];s=!0;var a=i(o.substring(1,o.length-1));return"__"+n+(""===a.middle?l("("+t.replace(/\.\s*$/,"")+")","B"):l("("+t.replace(/\.\s*$/,"")+","+a.middle+")","B"))}function n(e,t,n){return s=!0,"__instanceof"+l("("+t+", "+n+")","B")}var r=e;r=r.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"C\d+")+\s*("A\d+")/g,function(e,t,n){return n}),r=r.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"B\d+")\s*("A\d+")/g,function(e){return l(e,"F")}),r=r.replace(Ot,function(e){return l(e,"H")}),r=r.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*("C\d+"(?:\s*"C\d+")*)/g,function(e,t,n){var r=n.replace(/"C(\d+)"/g,function(e,t){return _t[t]}).replace(/\[\s*\]/g,"[null]").replace(/\s*\]\s*\[\s*/g,", "),i="{"+r.substring(1,r.length-1)+"}",s="('"+t+"', "+l(i,"A")+")";return"$p.createJavaArray"+l(s,"B")}),r=r.replace(/(\.\s*length)\s*"B\d+"/g,"$1"),r=r.replace(/#([0-9A-Fa-f]{6})\b/g,function(e,t){return"0xFF"+t}),r=r.replace(/"B(\d+)"(\s*(?:[\w$']|"B))/g,function(e,t,n){var r=_t[t];if(!/^\(\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\s*(?:"C\d+"\s*)*\)$/.test(r))return e;if(/^\(\s*int\s*\)$/.test(r))return"(int)"+n;var i=r.split(/"C(\d+)"/g);return i.length>1&&!/^\[\s*\]$/.test(_t[i[1]])?e:""+n}),r=r.replace(/\(int\)([^,\]\)\}\?\:\*\+\-\/\^\|\%\&\~<\>\=]+)/g,function(e,t){var n=i(t);return n.untrim("__int_cast("+n.middle+")")}),r=r.replace(/\bsuper(\s*"B\d+")/g,"$$superCstr$1").replace(/\bsuper(\s*\.)/g,"$$super$1"),r=r.replace(/\b0+((\d*)(?:\.[\d*])?(?:[eE][\-\+]?\d+)?[fF]?)\b/,function(e,t,n){return t===n?e:""===n?"0"+t:t}),r=r.replace(/\b(\.?\d+\.?)[fF]\b/g,"$1"),r=r.replace(/([^\s])%([^=\s])/g,"$1 % $2"),r=r.replace(/\b(frameRate|keyPressed|mousePressed)\b(?!\s*"B)/g,"__$1"),r=r.replace(/\b(boolean|byte|char|float|int)\s*"B/g,function(e,t){return"parse"+t.substring(0,1).toUpperCase()+t.substring(1)+'"B'}),r=r.replace(/\bpixels\b\s*(("C(\d+)")|\.length)?(\s*=(?!=)([^,\]\)\}]+))?/g,function(e,t,n,r,i,s){if(n){var o=_t[r];return i?"pixels.setPixel"+l("("+o.substring(1,o.length-1)+","+s+")","B"):"pixels.getPixel"+l("("+o.substring(1,o.length-1)+")","B")}return t?"pixels.getLength"+l("()","B"):i?"pixels.set"+l("("+s+")","B"):"pixels.toArray"+l("()","B")});var s;do s=!1,r=r.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*\.\s*(?:[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*\.\s*)*)(replace|replaceAll|replaceFirst|contains|equals|equalsIgnoreCase|hashCode|toCharArray|printStackTrace|split|startsWith|endsWith|codePointAt|matches)\s*"B(\d+)"/g,t);while(s);do s=!1,r=r.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*(?:\.\s*[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*)*)instanceof\s+([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)/g,n);while(s);return r=r.replace(/\bthis(\s*"B\d+")/g,"$$constr$1")}function b(e,t){this.baseInterfaceName=e,this.body=t,t.owner=this}function x(e){var t=new RegExp(/\bnew\s*([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)\s*"B\d+"\s*"A(\d+)"/).exec(e),n=At,r=c();At=r;var i=t[1]+"$"+r,s=new b(i,Tt(_t[t[2]],i,"","implements "+t[1]));return h(s,r,n),At=n,s}function w(e,t,n){this.name=e,this.params=t,this.body=n}function A(e){var t=new RegExp(/\b([A-Za-z_$][\w$]*)\s*"B(\d+)"\s*"A(\d+)"/).exec(e);return new w("function"!==t[1]?t[1]:null,v(_t[t[2]]),St(_t[t[3]]))}function T(e){this.members=e}function S(e){for(var t=e.split(","),n=0;n<t.length;++n){var r=t[n].indexOf(":");t[n]=0>r?{value:kt(t[n])}:{label:s(t[n].substring(0,r)),value:kt(s(t[n].substring(r+1)))}}return new T(t)}function E(e){if("("===e.charAt(0)||"["===e.charAt(0))return e.charAt(0)+E(e.substring(1,e.length-1))+e.charAt(e.length-1);if("{"===e.charAt(0))return/^\{\s*(?:[A-Za-z_$][\w$]*|'\d+')\s*:/.test(e)?"{"+l(e.substring(1,e.length-1),"I")+"}":"["+E(e.substring(1,e.length-1))+"]";var t=i(e),n=y(t.middle);return n=n.replace(/"[ABC](\d+)"/g,function(e,t){return E(_t[t])}),t.untrim(n)}function P(e){return e.replace(/(\.\s*)?((?:\b[A-Za-z_]|\$)[\w$]*)(\s*\.\s*([A-Za-z_$][\w$]*)(\s*\()?)?/g,function(e,t,n,i,s,o){if(t)return e;var a={name:n,member:s,callSign:!!o};return wt(a)+(i===r?"":i)})}function k(e,t){this.expr=e,this.transforms=t}function L(e,t,n){this.name=e,this.value=t,this.isDefault=n}function N(e,t){var n,r,i,o=e.indexOf("=");return 0>o?(n=e,r=t,i=!0):(n=e.substring(0,o),r=kt(e.substring(o+1)),i=!1),new L(s(n.replace(/(\s*"C\d+")+/g,"")),r,i)}function D(e){return"int"===e||"float"===e?"0":"boolean"===e?"false":"color"===e?"0x00000000":"null"}function R(e,t){this.definitions=e,this.varType=t}function I(e){this.expression=e}function F(e){if(It.test(e)){for(var t=Mt.exec(e),n=e.substring(t[0].length).split(","),r=D(t[2]),i=0;i<n.length;++i)n[i]=N(n[i],r);return new R(n,t[2])}return new I(kt(e))}function M(e,t,n){this.initStatement=e,this.condition=t,this.step=n}function O(e,t){this.initStatement=e,this.container=t}function $(e,t){this.initStatement=e,this.container=t}function B(e){var t;return/\bin\b/.test(e)?(t=e.substring(1,e.length-1).split(/\bin\b/g),new O(F(s(t[0])),kt(t[1]))):e.indexOf(":")>=0&&e.indexOf(";")<0?(t=e.substring(1,e.length-1).split(":"),new $(F(s(t[0])),kt(t[1]))):(t=e.substring(1,e.length-1).split(";"),new M(F(s(t[0])),kt(t[1]),kt(t[2])))}function z(e){e.sort(function(e,t){return t.weight-e.weight})}function j(e,t,n){this.name=e,this.body=t,this.isStatic=n,t.owner=this}function H(e,t,n){this.name=e,this.body=t,this.isStatic=n,t.owner=this}function V(e){var t=Dt.exec(e);Dt.lastIndex=0;var n,r=t[1].indexOf("static")>=0,i=_t[u(t[6])],s=At,o=c();return At=o,n="interface"===t[2]?new j(t[3],Ct(i,t[3],t[4]),r):new H(t[3],Tt(i,t[3],t[4],t[5]),r),h(n,o,s),At=s,n}function U(e,t,n,r){this.name=e,this.params=t,this.body=n,this.isStatic=r}function X(e){var t=Rt.exec(e);Rt.lastIndex=0;var n=t[1].indexOf("static")>=0,r=";"!==t[6]?_t[u(t[6])]:"{}";return new U(t[3],v(_t[u(t[4])]),St(r),n)}function q(e,t,n){this.definitions=e,this.fieldType=t,this.isStatic=n}function W(e){for(var t=Mt.exec(e),n=t[1].indexOf("static")>=0,r=e.substring(t[0].length).split(/,\s*/g),i=D(t[2]),s=0;s<r.length;++s)r[s]=N(r[s],i);return new q(r,t[2],n)}function G(e,t){this.params=e,this.body=t}function Y(e){var t=new RegExp(/"B(\d+)"\s*"A(\d+)"/).exec(e),n=v(_t[t[1]]);return new G(n,St(_t[t[2]]))}function Z(e,t,n,r,i,s){var o,a;for(this.name=e,this.interfacesNames=t,this.methodsNames=n,this.fields=r,this.innerClasses=i,this.misc=s,o=0,a=r.length;a>o;++o)r[o].owner=this}function K(e,t,n,r,i,s,o,a,u){var l,c;for(this.name=e,this.baseClassName=t,this.interfacesNames=n,this.functions=r,this.methods=i,this.fields=s,this.cstrs=o,this.innerClasses=a,this.misc=u,l=0,c=s.length;c>l;++l)s[l].owner=this}function Q(e,t){this.name=e,this.body=t,t.owner=this}function J(e,t){this.name=e,this.body=t,t.owner=this}function et(e){var t=Dt.exec(e);Dt.lastIndex=0;var n=_t[u(t[6])],r=At,i=c();At=i;var s;return s="interface"===t[2]?new Q(t[3],Ct(n,t[3],t[4])):new J(t[3],Tt(n,t[3],t[4],t[5])),h(s,i,r),At=r,s}function tt(e,t,n){this.name=e,this.params=t,this.body=n}function nt(e){var t=Rt.exec(e);return Rt.lastIndex=0,new tt(t[3],v(_t[u(t[4])]),St(_t[u(t[6])]))}function rt(e){var t=e;return t=t.replace(/\b(catch\s*"B\d+"\s*"A\d+")(\s*catch\s*"B\d+"\s*"A\d+")+/g,"$1")}function it(e,t){this.argument=e,this.misc=t}function st(e,t){this.argument=e,this.misc=t}function ot(e,t,n){this.name=e,this.argument=t,this.misc=n}function at(e){this.expr=e}function ut(e){this.label=e}function lt(e){for(var t=[],n=0,r=e.length;r>n;++n){var i=e[n];i instanceof R?t=t.concat(i.getNames()):i instanceof it&&i.argument.initStatement instanceof R?t=t.concat(i.argument.initStatement.getNames()):(i instanceof j||i instanceof H||i instanceof Q||i instanceof J||i instanceof tt||i instanceof w)&&t.push(i.name)}return o({},t)}function ct(e){this.statements=e}function ht(e){this.statements=e}function ft(){function e(e,t){for(var n,s=t.split("."),o=e.scope;o;){if(o.hasOwnProperty(s[0])){n=o[s[0]];break}o=o.scope}n===r&&(n=i[s[0]]);for(var a=1,u=s.length;u>a&&n;++a)n=n.inScope[s[a]];return n}var t,n,i={};for(t in Lt)if(Lt.hasOwnProperty(t)){n=Lt[t];var s=n.scopeId,o=n.name;if(s){var a=Lt[s];n.scope=a,a.inScope===r&&(a.inScope={}),a.inScope[o]=n}else i[o]=n}for(t in Lt)if(Lt.hasOwnProperty(t)){n=Lt[t];var u=n.body.baseClassName;if(u){var l=e(n,u);l&&(n.base=l,l.derived||(l.derived=[]),l.derived.push(n))}var c,h,f=n.body.interfacesNames,p=[];if(f&&f.length>0){for(c=0,h=f.length;h>c;++c){var d=e(n,f[c]);p.push(d),d&&(d.derived||(d.derived=[]),d.derived.push(n))}p.length>0&&(n.interfaces=p)}}}function pt(){function e(e,t){var n=s[e];if(!n)return!1;var r=n.indexOf(t);return 0>r?!1:(n.splice(r,1),n.length>0?!1:(delete s[e],!0))}var t,n,r,i=[],s={};for(t in Lt)if(Lt.hasOwnProperty(t))if(r=Lt[t],r.inScope||r.derived){var o=[];if(r.inScope)for(n in r.inScope)r.inScope.hasOwnProperty(n)&&o.push(r.inScope[n]);r.derived&&(o=o.concat(r.derived)),s[t]=o}else i.push(t),r.weight=0;for(;i.length>0;)if(t=i.shift(),r=Lt[t],r.scopeId&&e(r.scopeId,r)&&(i.push(r.scopeId),Lt[r.scopeId].weight=r.weight+1),r.base&&e(r.base.classId,r)&&(i.push(r.base.classId),r.base.weight=r.weight+1),r.interfaces){var a,u;for(a=0,u=r.interfaces.length;u>a;++a)r.interfaces[a]&&e(r.interfaces[a].classId,r)&&(i.push(r.interfaces[a].classId),r.interfaces[a].weight=r.weight+1)}}var dt=p(),gt=e.replace(/\r\n?|\n\r/g,"\n"),mt=[],vt=gt.replace(/("(?:[^"\\\n]|\\.)*")|('(?:[^'\\\n]|\\.)*')|(([\[\(=|&!\^:?]\s*)(\/(?![*\/])(?:[^\/\\\n]|\\.)*\/[gim]*)\b)|(\/\/[^\n]*\n)|(\/\*(?:(?!\*\/)(?:.|\n))*\*\/)/g,function(e,t,n,r,i,s,o,a){var u;return t||n?(u=mt.length,mt.push(e),"'"+u+"'"):r?(u=mt.length,mt.push(s),i+"'"+u+"'"):""!==a?" ":"\n"});vt=vt.replace(/__x([0-9A-F]{4})/g,function(e,t){return"__x005F_x"+t}),vt=vt.replace(/\$/g,"__x0024");var yt,bt=vt,xt=function(e,t,n,r){return t||r?e:(yt=!0,"")};do yt=!1,bt=bt.replace(/([<]?)<\s*((?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?(?:\s*,\s*(?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?)*)\s*>([=]?)/g,xt);while(yt);var wt,At,Tt,Ct,St,Et,Pt,kt,_t=t(bt),Lt={},Nt=0,Dt=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)(class|interface)\s+([A-Za-z_$][\w$]*\b)(\s+extends\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?(\s+implements\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?\s*("A\d+")/g,Rt=/\b((?:(?:public|private|final|protected|static|abstract|synchronized)\s+)*)((?!(?:else|new|return|throw|function|public|private|protected)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+"|;)/g,It=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:else|new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*(?:"C\d+"\s*)*([=,]|$)/,Ft=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+")/g,Mt=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*/,Ot=/\bfunction(?:\s+([A-Za-z_$][\w$]*))?\s*("B\d+")\s*("A\d+")/g;g.prototype.toString=function(){return this.name},m.prototype.getNames=function(){for(var e=[],t=0,n=this.params.length;n>t;++t)e.push(this.params[t].name);return e},m.prototype.prependMethodArgs=function(e){return this.methodArgsParam?"{\nvar "+this.methodArgsParam.name+" = Array.prototype.slice.call(arguments, "+this.params.length+");\n"+e.substring(1):e},m.prototype.toString=function(){if(0===this.params.length)return"()";for(var e="(",t=0,n=this.params.length;n>t;++t)e+=this.params[t]+", ";return e.substring(0,e.length-2)+")"},b.prototype.toString=function(){return"new ("+this.body+")"},w.prototype.toString=function(){var e=wt,t=o({"this":null},this.params.getNames());wt=function(n){return t.hasOwnProperty(n.name)?n.name:e(n)};var n="function";this.name&&(n+=" "+this.name);var r=this.params.prependMethodArgs(this.body.toString());return n+=this.params+" "+r,wt=e,n},T.prototype.toString=function(){var e=wt;wt=function(t){return"this"===t.name?"this":e(t)};for(var t="",n=0,r=this.members.length;r>n;++n)this.members[n].label&&(t+=this.members[n].label+": "),t+=this.members[n].value.toString()+", ";return wt=e,t.substring(0,t.length-2)},k.prototype.toString=function(){var e=this.transforms,t=P(this.expr);return t.replace(/"!(\d+)"/g,function(t,n){return e[n].toString()})},kt=function(e){var t=[],n=E(e);return n=n.replace(/"H(\d+)"/g,function(e,n){return t.push(A(_t[n])),'"!'+(t.length-1)+'"'}),n=n.replace(/"F(\d+)"/g,function(e,n){return t.push(x(_t[n])),'"!'+(t.length-1)+'"'}),n=n.replace(/"I(\d+)"/g,function(e,n){return t.push(S(_t[n])),'"!'+(t.length-1)+'"'}),new k(n,t)},L.prototype.toString=function(){return this.name+" = "+this.value},R.prototype.getNames=function(){for(var e=[],t=0,n=this.definitions.length;n>t;++t)e.push(this.definitions[t].name);return e},R.prototype.toString=function(){return"var "+this.definitions.join(",")},I.prototype.toString=function(){return this.expression.toString()},M.prototype.toString=function(){return"("+this.initStatement+"; "+this.condition+"; "+this.step+")"},O.prototype.toString=function(){var e=this.initStatement.toString();return e.indexOf("=")>=0&&(e=e.substring(0,e.indexOf("="))),"("+e+" in "+this.container+")"},$.iteratorId=0,$.prototype.toString=function(){var e=this.initStatement.toString(),t="$it"+$.iteratorId++,n=e.replace(/^\s*var\s*/,"").split("=")[0],r="var "+t+" = new $p.ObjectIterator("+this.container+"), "+n+" = void(0)",i=t+".hasNext() && (("+n+" = "+t+".next()) || true)";return"("+r+"; "+i+";)"},j.prototype.toString=function(){return""+this.body},H.prototype.toString=function(){return""+this.body},U.prototype.toString=function(){var e=o({},this.params.getNames()),t=wt;wt=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)};var n=this.params.prependMethodArgs(this.body.toString()),r="function "+this.methodId+this.params+" "+n+"\n";return wt=t,r},q.prototype.getNames=function(){for(var e=[],t=0,n=this.definitions.length;n>t;++t)e.push(this.definitions[t].name);return e},q.prototype.toString=function(){var e=wt({name:"[this]"});if(this.isStatic){for(var t=this.owner.name,n=[],r=0,i=this.definitions.length;i>r;++r){var s=this.definitions[r],o=s.name,a=t+"."+o,u="if("+a+" === void(0)) {\n"+" "+a+" = "+s.value+"; }\n"+"$p.defineProperty("+e+", "+"'"+o+"', { get: function(){return "+a+";}, "+"set: function(val){"+a+" = val;} });\n";n.push(u)}return n.join("")}return e+"."+this.definitions.join("; "+e+".")},G.prototype.toString=function(){var e=o({},this.params.getNames()),t=wt;wt=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)};var n="function $constr_"+this.params.params.length+this.params.toString(),r=this.params.prependMethodArgs(this.body.toString());return/\$(superCstr|constr)\b/.test(r)||(r="{\n$superCstr();\n"+r.substring(1)),wt=t,n+r+"\n"
},Z.prototype.getMembers=function(e,t,n){this.owner.base&&this.owner.base.body.getMembers(e,t,n);var r,i,s,o;for(r=0,s=this.fields.length;s>r;++r){var a=this.fields[r].getNames();for(i=0,o=a.length;o>i;++i)e[a[i]]=this.fields[r]}for(r=0,s=this.methodsNames.length;s>r;++r){var u=this.methodsNames[r];t[u]=!0}for(r=0,s=this.innerClasses.length;s>r;++r){var l=this.innerClasses[r];n[l.name]=l}},Z.prototype.toString=function(){function e(e){for(var t=0;e;)++t,e=e.scope;return t}e(this.owner);var t=this.name,n="",r="",i={},s={},o={};this.getMembers(i,s,o);var a,u;if(this.owner.interfaces){var l,c=[];for(a=0,u=this.interfacesNames.length;u>a;++a)this.owner.interfaces[a]&&(l=wt({name:this.interfacesNames[a]}),c.push(l),n+="$p.extendInterfaceMembers("+t+", "+l+");\n");r+=t+".$interfaces = ["+c.join(", ")+"];\n"}for(r+=t+".$isInterface = true;\n",r+=t+".$methods = ['"+this.methodsNames.join("', '")+"'];\n",z(this.innerClasses),a=0,u=this.innerClasses.length;u>a;++a){var h=this.innerClasses[a];h.isStatic&&(n+=t+"."+h.name+" = "+h+";\n")}for(a=0,u=this.fields.length;u>a;++a){var f=this.fields[a];f.isStatic&&(n+=t+"."+f.definitions.join(";\n"+t+".")+";\n")}return"(function() {\nfunction "+t+"() { throw 'Unable to create the interface'; }\n"+n+r+"return "+t+";\n"+"})()"},Ct=function(e,t,n){var s=e.substring(1,e.length-1);s=f(s),s=d(s,t);var o=[],a=[];s=s.replace(/"([DE])(\d+)"/g,function(e,t,n){return"D"===t?o.push(n):"E"===t&&a.push(n),""});var u,l,c,h=s.split(/;(?:\s*;)*/g);for(n!==r&&(u=n.replace(/^\s*extends\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g)),l=0,c=o.length;c>l;++l){var p=X(_t[o[l]]);o[l]=p.name}for(l=0,c=h.length-1;c>l;++l){var g=i(h[l]);h[l]=W(g.middle)}var m=h.pop();for(l=0,c=a.length;c>l;++l)a[l]=V(_t[a[l]]);return new Z(t,u,o,h,a,{tail:m})},K.prototype.getMembers=function(e,t,n){this.owner.base&&this.owner.base.body.getMembers(e,t,n);var r,i,s,o;for(r=0,s=this.fields.length;s>r;++r){var a=this.fields[r].getNames();for(i=0,o=a.length;o>i;++i)e[a[i]]=this.fields[r]}for(r=0,s=this.methods.length;s>r;++r){var u=this.methods[r];t[u.name]=u}for(r=0,s=this.innerClasses.length;s>r;++r){var l=this.innerClasses[r];n[l.name]=l}},K.prototype.toString=function(){function e(e){for(var t=0;e;)++t,e=e.scope;return t}var t=e(this.owner),n="$this_"+t,r=this.name,i="var "+n+" = this;\n",o="",a="",u={},l={},c={};this.getMembers(u,l,c);var h=wt;wt=function(e){var t=e.name;return"this"===t?e.callSign||!e.member?n+".$self":n:u.hasOwnProperty(t)?u[t].isStatic?r+"."+t:n+"."+t:c.hasOwnProperty(t)?n+"."+t:l.hasOwnProperty(t)?l[t].isStatic?r+"."+t:n+".$self."+t:h(e)};var f;this.baseClassName?(f=h({name:this.baseClassName}),i+="var $super = { $upcast: "+n+" };\n",i+="function $superCstr(){"+f+".apply($super,arguments);if(!('$self' in $super)) $p.extendClassChain($super)}\n",a+=r+".$base = "+f+";\n"):i+="function $superCstr(){$p.extendClassChain("+n+")}\n",this.owner.base&&(o+="$p.extendStaticMembers("+r+", "+f+");\n");var p,d,g,m;if(this.owner.interfaces){var v,y=[];for(p=0,d=this.interfacesNames.length;d>p;++p)this.owner.interfaces[p]&&(v=h({name:this.interfacesNames[p]}),y.push(v),o+="$p.extendInterfaceMembers("+r+", "+v+");\n");a+=r+".$interfaces = ["+y.join(", ")+"];\n"}for(this.functions.length>0&&(i+=this.functions.join("\n")+"\n"),z(this.innerClasses),p=0,d=this.innerClasses.length;d>p;++p){var b=this.innerClasses[p];b.isStatic?(o+=r+"."+b.name+" = "+b+";\n",i+=n+"."+b.name+" = "+r+"."+b.name+";\n"):i+=n+"."+b.name+" = "+b+";\n"}for(p=0,d=this.fields.length;d>p;++p){var x=this.fields[p];if(x.isStatic)for(o+=r+"."+x.definitions.join(";\n"+r+".")+";\n",g=0,m=x.definitions.length;m>g;++g){var w=x.definitions[g].name,A=r+"."+w;i+="$p.defineProperty("+n+", '"+w+"', {"+"get: function(){return "+A+"}, "+"set: function(val){"+A+" = val}});\n"}else i+=n+"."+x.definitions.join(";\n"+n+".")+";\n"}var T={};for(p=0,d=this.methods.length;d>p;++p){var C=this.methods[p],S=T[C.name],E=C.name+"$"+C.params.params.length,P=!!C.params.methodArgsParam;S?(++S,E+="_"+S):S=1,C.methodId=E,T[C.name]=S,C.isStatic?(o+=C,o+="$p.addMethod("+r+", '"+C.name+"', "+E+", "+P+");\n",i+="$p.addMethod("+n+", '"+C.name+"', "+E+", "+P+");\n"):(i+=C,i+="$p.addMethod("+n+", '"+C.name+"', "+E+", "+P+");\n")}i+=s(this.misc.tail),this.cstrs.length>0&&(i+=this.cstrs.join("\n")+"\n"),i+="function $constr() {\n";var k=[];for(p=0,d=this.cstrs.length;d>p;++p){var _=this.cstrs[p].params.params.length,L=!!this.cstrs[p].params.methodArgsParam;k.push("if(arguments.length "+(L?">=":"===")+" "+_+") { "+"$constr_"+_+".apply("+n+", arguments); }")}return k.length>0&&(i+=k.join(" else ")+" else "),i+="$superCstr();\n}\n",i+="$constr.apply(null, arguments);\n",wt=h,"(function() {\nfunction "+r+"() {\n"+i+"}\n"+o+a+"return "+r+";\n"+"})()"},Tt=function(e,t,n,s){var o=e.substring(1,e.length-1);o=f(o),o=d(o,t);var a=[],u=[],l=[],c=[];o=o.replace(/"([DEGH])(\d+)"/g,function(e,t,n){return"D"===t?a.push(n):"E"===t?u.push(n):"H"===t?c.push(n):l.push(n),""});var h,p,g,m=o.replace(/^(?:\s*;)+/,"").split(/;(?:\s*;)*/g);for(n!==r&&(h=n.replace(/^\s*extends\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*$/g,"$1")),s!==r&&(p=s.replace(/^\s*implements\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g)),g=0;g<c.length;++g)c[g]=A(_t[c[g]]);for(g=0;g<a.length;++g)a[g]=X(_t[a[g]]);for(g=0;g<m.length-1;++g){var v=i(m[g]);m[g]=W(v.middle)}var y=m.pop();for(g=0;g<l.length;++g)l[g]=Y(_t[l[g]]);for(g=0;g<u.length;++g)u[g]=V(_t[u[g]]);return new K(t,h,p,c,a,m,l,u,{tail:y})},Q.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n"+"$p."+this.name+" = "+this.name+";\n"},J.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n"+"$p."+this.name+" = "+this.name+";\n"},tt.prototype.toString=function(){var e=o({},this.params.getNames()),t=wt;wt=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)};var n=this.params.prependMethodArgs(this.body.toString()),r="function "+this.name+this.params+" "+n+"\n"+"$p."+this.name+" = "+this.name+";";return wt=t,r},it.prototype.toString=function(){return this.misc.prefix+this.argument.toString()},st.prototype.toString=function(){return this.misc.prefix+this.argument.toString()},ot.prototype.toString=function(){var e=this.misc.prefix;return this.argument!==r&&(e+=this.argument.toString()),e},at.prototype.toString=function(){return"case "+this.expr+":"},ut.prototype.toString=function(){return this.label},Et=function(e,t,n){var o=new RegExp(/\b(catch|for|if|switch|while|with)\s*"B(\d+)"|\b(do|else|finally|return|throw|try|break|continue)\b|("[ADEH](\d+)")|\b(case)\s+([^:]+):|\b([A-Za-z_$][\w$]*\s*:)|(;)/g),a=[];e=rt(e);for(var u,l,c=0;null!==(u=o.exec(e));){if(u[1]!==r){var h=e.lastIndexOf('"B',o.lastIndex),f=e.substring(c,h);"for"===u[1]?a.push(new it(B(_t[u[2]]),{prefix:f})):"catch"===u[1]?a.push(new st(v(_t[u[2]]),{prefix:f})):a.push(new ot(u[1],kt(_t[u[2]]),{prefix:f}))}else if(u[3]!==r)a.push(new ot(u[3],r,{prefix:e.substring(c,o.lastIndex)}));else if(u[4]!==r){if(l=e.substring(c,o.lastIndex-u[4].length),0!==s(l).length)continue;a.push(l);var p=u[4].charAt(1),d=u[5];"D"===p?a.push(t(_t[d])):"E"===p?a.push(n(_t[d])):"H"===p?a.push(A(_t[d])):a.push(St(_t[d]))}else if(u[6]!==r)a.push(new at(kt(s(u[7]))));else if(u[8]!==r){if(l=e.substring(c,o.lastIndex-u[8].length),0!==s(l).length)continue;a.push(new ut(e.substring(c,o.lastIndex)))}else{var g=i(e.substring(c,o.lastIndex-1));a.push(g.left),a.push(F(g.middle)),a.push(g.right+";")}c=o.lastIndex}var m=i(e.substring(c));return a.push(m.left),""!==m.middle&&(a.push(F(m.middle)),a.push(";"+m.right)),a},ct.prototype.toString=function(){var e=lt(this.statements),t=wt;a(e)||(wt=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)});var n="{\n"+this.statements.join("")+"\n}";return wt=t,n},St=function(e){var t=i(e.substring(1,e.length-1));return new ct(Et(t.middle))},ht.prototype.toString=function(){for(var e,t=[],n=[],r=0,i=this.statements.length;i>r;++r)e=this.statements[r],e instanceof J||e instanceof Q?t.push(e):n.push(e);z(t);var s=lt(this.statements);wt=function(e){var t=e.name;return s.hasOwnProperty(t)?t:dt.hasOwnProperty(t)||C.hasOwnProperty(t)||_.hasOwnProperty(t)?"$p."+t:t};var o="// this code was autogenerated from PJS\n(function($p) {\n"+t.join("")+"\n"+n.join("")+"\n})";return wt=null,o},Pt=function(){var e=f(_t[0]);return e=e.replace(/\bimport\s+[^;]+;/g,""),new ht(Et(e,nt,et))};var $t=Pt();ft($t),pt($t);var Bt=$t.toString();return Bt=Bt.replace(/\s*\n(?:[\t ]*\n)+/g,"\n\n"),Bt=Bt.replace(/__x([0-9A-F]{4})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}),n(Bt,mt)}function g(e,t){var n=new RegExp(/\/\*\s*@pjs\s+((?:[^\*]|\*+[^\*\/])*)\*\//g).exec(e);if(n&&2===n.length)for(var r=[],i=n.splice(1,2)[0].replace(/\{([\s\S]*?)\}/g,function(){return function(e,t){return r.push(t),"{"+(r.length-1)+"}"}}()).replace("\n","").replace("\r","").split(";"),s=function(e){return e.replace(/^\s*["']?/,"").replace(/["']?\s*$/,"")},o=0,a=i.length;a>o;o++){var u=i[o].split("=");if(u&&2===u.length){var l=s(u[0]),c=s(u[1]),h=[];if("preload"===l){h=c.split(",");for(var p=0,d=h.length;d>p;p++){var g=s(h[p]);t.imageCache.add(g)}}else if("font"===l){h=c.split(",");for(var m=0,v=h.length;v>m;m++){var y=s(h[m]),b=/^\{(\d*?)\}$/.exec(y);f.preloading.add(b?JSON.parse("{"+r[b[1]]+"}"):y)}}else"pauseOnBlur"===l?t.options.pauseOnBlur="true"===c:"globalKeyEvents"===l?t.options.globalKeyEvents="true"===c:"param-"===l.substring(0,6)?t.params[l.substring(6)]=c:t.options[l]=c}}return e}var m=function(){},v=function(){return"console"in e?function(t){e.console.log("Processing.js: "+t)}:m}(),y=function(e){var t=new XMLHttpRequest;if(t.open("GET",e,!1),t.overrideMimeType&&t.overrideMimeType("text/plain"),t.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT"),t.send(null),200!==t.status&&0!==t.status)throw"XMLHttpRequest failed, status code "+t.status;return t.responseText},b="document"in this&&!("fake"in this.document);if(t.head=t.head||t.getElementsByTagName("head")[0],t.documentMode>=9&&!t.doctype)throw"The doctype directive is missing. The recommended doctype in Internet Explorer is the HTML5 doctype: <!DOCTYPE html>";var x=i("Float32Array","WebGLFloatArray"),w=i("Int32Array","WebGLIntArray"),A=i("Uint16Array","WebGLUnsignedShortArray"),T=i("Uint8Array","WebGLUnsignedByteArray"),C={X:0,Y:1,Z:2,R:3,G:4,B:5,A:6,U:7,V:8,NX:9,NY:10,NZ:11,EDGE:12,SR:13,SG:14,SB:15,SA:16,SW:17,TX:18,TY:19,TZ:20,VX:21,VY:22,VZ:23,VW:24,AR:25,AG:26,AB:27,DR:3,DG:4,DB:5,DA:6,SPR:28,SPG:29,SPB:30,SHINE:31,ER:32,EG:33,EB:34,BEEN_LIT:35,VERTEX_FIELD_COUNT:36,P2D:1,JAVA2D:1,WEBGL:2,P3D:2,OPENGL:2,PDF:0,DXF:0,OTHER:0,WINDOWS:1,MAXOSX:2,LINUX:3,EPSILON:1e-4,MAX_FLOAT:3.4028235e38,MIN_FLOAT:-3.4028235e38,MAX_INT:2147483647,MIN_INT:-2147483648,PI:n.PI,TWO_PI:2*n.PI,HALF_PI:n.PI/2,THIRD_PI:n.PI/3,QUARTER_PI:n.PI/4,DEG_TO_RAD:n.PI/180,RAD_TO_DEG:180/n.PI,WHITESPACE:" 	\n\r\f ",RGB:1,ARGB:2,HSB:3,ALPHA:4,CMYK:5,TIFF:0,TARGA:1,JPEG:2,GIF:3,BLUR:11,GRAY:12,INVERT:13,OPAQUE:14,POSTERIZE:15,THRESHOLD:16,ERODE:17,DILATE:18,REPLACE:0,BLEND:1,ADD:2,SUBTRACT:4,LIGHTEST:8,DARKEST:16,DIFFERENCE:32,EXCLUSION:64,MULTIPLY:128,SCREEN:256,OVERLAY:512,HARD_LIGHT:1024,SOFT_LIGHT:2048,DODGE:4096,BURN:8192,ALPHA_MASK:4278190080,RED_MASK:16711680,GREEN_MASK:65280,BLUE_MASK:255,CUSTOM:0,ORTHOGRAPHIC:2,PERSPECTIVE:3,POINT:2,POINTS:2,LINE:4,LINES:4,TRIANGLE:8,TRIANGLES:9,TRIANGLE_STRIP:10,TRIANGLE_FAN:11,QUAD:16,QUADS:16,QUAD_STRIP:17,POLYGON:20,PATH:21,RECT:30,ELLIPSE:31,ARC:32,SPHERE:40,BOX:41,GROUP:0,PRIMITIVE:1,GEOMETRY:3,VERTEX:0,BEZIER_VERTEX:1,CURVE_VERTEX:2,BREAK:3,CLOSESHAPE:4,OPEN:1,CLOSE:2,CORNER:0,CORNERS:1,RADIUS:2,CENTER_RADIUS:2,CENTER:3,DIAMETER:3,CENTER_DIAMETER:3,BASELINE:0,TOP:101,BOTTOM:102,NORMAL:1,NORMALIZED:1,IMAGE:2,MODEL:4,SHAPE:5,SQUARE:"butt",ROUND:"round",PROJECT:"square",MITER:"miter",BEVEL:"bevel",AMBIENT:0,DIRECTIONAL:1,SPOT:3,BACKSPACE:8,TAB:9,ENTER:10,RETURN:13,ESC:27,DELETE:127,CODED:65535,SHIFT:16,CONTROL:17,ALT:18,CAPSLK:20,PGUP:33,PGDN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLK:144,META:157,INSERT:155,ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",NOCURSOR:"url('data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='), auto",DISABLE_OPENGL_2X_SMOOTH:1,ENABLE_OPENGL_2X_SMOOTH:-1,ENABLE_OPENGL_4X_SMOOTH:2,ENABLE_NATIVE_FONTS:3,DISABLE_DEPTH_TEST:4,ENABLE_DEPTH_TEST:-4,ENABLE_DEPTH_SORT:5,DISABLE_DEPTH_SORT:-5,DISABLE_OPENGL_ERROR_REPORT:6,ENABLE_OPENGL_ERROR_REPORT:-6,ENABLE_ACCURATE_TEXTURES:7,DISABLE_ACCURATE_TEXTURES:-7,HINT_COUNT:10,SINCOS_LENGTH:720,PRECISIONB:15,PRECISIONF:32768,PREC_MAXVAL:32767,PREC_ALPHA_SHIFT:9,PREC_RED_SHIFT:1,NORMAL_MODE_AUTO:0,NORMAL_MODE_SHAPE:1,NORMAL_MODE_VERTEX:2,MAX_LIGHTS:8},S=function(e){if(e.iterator instanceof Function)return e.iterator();if(!(e instanceof Array))throw"Unable to iterate: "+e;var t=-1;this.hasNext=function(){return++t<e.length},this.next=function(){return e[t]}},E=function(){function e(e){var t=0;this.hasNext=function(){return t<e.length},this.next=function(){return e[t++]},this.remove=function(){e.splice(t,1)}}function t(n){var r;n instanceof t?r=n.toArray():(r=[],"number"==typeof n&&(r.length=n>0?n:0)),this.get=function(e){return r[e]},this.contains=function(e){return this.indexOf(e)>-1},this.indexOf=function(e){for(var t=0,n=r.length;n>t;++t)if(o(e,r[t]))return t;return-1},this.lastIndexOf=function(e){for(var t=r.length-1;t>=0;--t)if(o(e,r[t]))return t;return-1},this.add=function(){if(1===arguments.length)r.push(arguments[0]);else{if(2!==arguments.length)throw"Please use the proper number of parameters.";var e=arguments[0];if("number"!=typeof e)throw typeof e+" is not a number";if(!(e>=0&&e<=r.length))throw e+" is not a valid index";r.splice(e,0,arguments[1])}},this.addAll=function(e,t){var n;if("number"==typeof e){if(0>e||e>r.length)throw"Index out of bounds for addAll: "+e+" greater or equal than "+r.length;for(n=new S(t);n.hasNext();)r.splice(e++,0,n.next())}else for(n=new S(e);n.hasNext();)r.push(n.next())},this.set=function(){if(2!==arguments.length)throw"Please use the proper number of parameters.";var e=arguments[0];if("number"!=typeof e)throw typeof e+" is not a number";if(!(e>=0&&e<r.length))throw e+" is not a valid index.";r.splice(e,1,arguments[1])},this.size=function(){return r.length},this.clear=function(){r.length=0},this.remove=function(e){return"number"==typeof e?r.splice(e,1)[0]:(e=this.indexOf(e),e>-1?(r.splice(e,1),!0):!1)},this.removeAll=function(e){var n,r,i,s=new t;for(s.addAll(this),this.clear(),n=0,r=0;n<s.size();n++)i=s.get(n),e.contains(i)||this.add(r++,i);return this.size()<s.size()?!0:!1},this.isEmpty=function(){return!r.length},this.clone=function(){return new t(this)},this.toArray=function(){return r.slice(0)},this.iterator=function(){return new e(r)}}return t}(),P=function(){function e(){function t(e){var t=s(e)%h.length;return 0>t?h.length+t:t}function n(){if(!(f<=c*h.length)){for(var e=[],n=0;n<h.length;++n)h[n]!==r&&(e=e.concat(h[n]));var i=2*h.length;h=[],h.length=i;for(var s=0;s<e.length;++s){var o=t(e[s].key),a=h[o];a===r&&(h[o]=a=[]),a.push(e[s])}}}function i(e,t){function n(){for(;!a;)if(++o,s>=h.length)a=!0;else{if(!(h[s]===r||o>=h[s].length))return;o=-1,++s}}var i,s=0,o=-1,a=!1;this.hasNext=function(){return!a},this.next=function(){return i=e(h[s][o]),n(),i},this.remove=function(){i!==r&&(t(i),--o,n())},n()}function a(e,t,n){this.clear=function(){p.clear()},this.contains=function(e){return t(e)},this.containsAll=function(e){for(var t=e.iterator();t.hasNext();)if(!this.contains(t.next()))return!1;return!0},this.isEmpty=function(){return p.isEmpty()},this.iterator=function(){return new i(e,n)},this.remove=function(e){return this.contains(e)?(n(e),!0):!1},this.removeAll=function(e){for(var t=e.iterator(),r=!1;t.hasNext();){var i=t.next();this.contains(i)&&(n(i),r=!0)}return!0},this.retainAll=function(e){for(var t=this.iterator(),r=[];t.hasNext();){var i=t.next();e.contains(i)||r.push(i)}for(var s=0;s<r.length;++s)n(r[s]);return r.length>0},this.size=function(){return p.size()},this.toArray=function(){for(var e=[],t=this.iterator();t.hasNext();)e.push(t.next());return e}}function u(e){this._isIn=function(t){return t===p&&e.removed===r},this.equals=function(t){return o(e.key,t.getKey())},this.getKey=function(){return e.key},this.getValue=function(){return e.value},this.hashCode=function(){return s(e.key)},this.setValue=function(t){var n=e.value;return e.value=t,n}}if(1===arguments.length&&arguments[0]instanceof e)return arguments[0].clone();var l=arguments.length>0?arguments[0]:16,c=arguments.length>1?arguments[1]:.75,h=[];h.length=l;var f=0,p=this;this.clear=function(){f=0,h=[],h.length=l},this.clone=function(){var t=new e;return t.putAll(this),t},this.containsKey=function(e){var n=t(e),i=h[n];if(i===r)return!1;for(var s=0;s<i.length;++s)if(o(i[s].key,e))return!0;return!1},this.containsValue=function(e){for(var t=0;t<h.length;++t){var n=h[t];if(n!==r)for(var i=0;i<n.length;++i)if(o(n[i].value,e))return!0}return!1},this.entrySet=function(){return new a(function(e){return new u(e)},function(e){return e instanceof u&&e._isIn(p)},function(e){return p.remove(e.getKey())})},this.get=function(e){var n=t(e),i=h[n];if(i===r)return null;for(var s=0;s<i.length;++s)if(o(i[s].key,e))return i[s].value;return null},this.isEmpty=function(){return 0===f},this.keySet=function(){return new a(function(e){return e.key},function(e){return p.containsKey(e)},function(e){return p.remove(e)})},this.values=function(){return new a(function(e){return e.value},function(e){return p.containsValue(e)},function(e){return p.removeByValue(e)})},this.put=function(e,i){var s=t(e),a=h[s];if(a===r)return++f,h[s]=[{key:e,value:i}],n(),null;for(var u=0;u<a.length;++u)if(o(a[u].key,e)){var l=a[u].value;return a[u].value=i,l}return++f,a.push({key:e,value:i}),n(),null},this.putAll=function(e){for(var t=e.entrySet().iterator();t.hasNext();){var n=t.next();this.put(n.getKey(),n.getValue())}},this.remove=function(e){var n=t(e),i=h[n];if(i===r)return null;for(var s=0;s<i.length;++s)if(o(i[s].key,e)){--f;var a=i[s].value;return i[s].removed=!0,i.length>1?i.splice(s,1):h[n]=r,a}return null},this.removeByValue=function(e){var t,n,r,i;for(t in h)if(h.hasOwnProperty(t))for(n=0,r=h[t].length;r>n;n++)if(i=h[t][n],i.value===e)return h[t].splice(n,1),!0;return!1},this.size=function(){return f}}return e}(),k=function(){function e(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function t(e){return function(t,n){var r=t.get();return r[e](n),r}}e.dist=function(e,t){return e.dist(t)},e.dot=function(e,t){return e.dot(t)},e.cross=function(e,t){return e.cross(t)},e.angleBetween=function(e,t){return n.acos(e.dot(t)/(e.mag()*t.mag()))},e.prototype={set:function(e,t,n){1===arguments.length?this.set(e.x||e[0]||0,e.y||e[1]||0,e.z||e[2]||0):(this.x=e,this.y=t,this.z=n)},get:function(){return new e(this.x,this.y,this.z)},mag:function(){var e=this.x,t=this.y,r=this.z;return n.sqrt(e*e+t*t+r*r)},add:function(e,t,n){1===arguments.length?(this.x+=e.x,this.y+=e.y,this.z+=e.z):(this.x+=e,this.y+=t,this.z+=n)},sub:function(e,t,n){1===arguments.length?(this.x-=e.x,this.y-=e.y,this.z-=e.z):(this.x-=e,this.y-=t,this.z-=n)},mult:function(e){"number"==typeof e?(this.x*=e,this.y*=e,this.z*=e):(this.x*=e.x,this.y*=e.y,this.z*=e.z)},div:function(e){"number"==typeof e?(this.x/=e,this.y/=e,this.z/=e):(this.x/=e.x,this.y/=e.y,this.z/=e.z)},dist:function(e){var t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n.sqrt(t*t+r*r+i*i)},dot:function(e,t,n){return 1===arguments.length?this.x*e.x+this.y*e.y+this.z*e.z:this.x*e+this.y*t+this.z*n},cross:function(t){var n=this.x,r=this.y,i=this.z;return new e(r*t.z-t.y*i,i*t.x-t.z*n,n*t.y-t.x*r)},normalize:function(){var e=this.mag();e>0&&this.div(e)},limit:function(e){this.mag()>e&&(this.normalize(),this.mult(e))},heading2D:function(){return-n.atan2(-this.y,this.x)},toString:function(){return"["+this.x+", "+this.y+", "+this.z+"]"},array:function(){return[this.x,this.y,this.z]}};for(var r in e.prototype)e.prototype.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t(r));return e}();a.prototype=C;var _=new a;_.ArrayList=E,_.HashMap=P,_.PVector=k,_.ObjectIterator=S,_.PConstants=C,_.defineProperty=function(e,t,n){"defineProperty"in Object?Object.defineProperty(e,t,n):(n.hasOwnProperty("get")&&e.__defineGetter__(t,n.get),n.hasOwnProperty("set")&&e.__defineSetter__(t,n.set))},_.extendClassChain=function(e){for(var t=[e],n=e.$upcast;n;n=n.$upcast)l(n,e),t.push(n),e=n;for(;t.length>0;)t.pop().$self=e},_.extendStaticMembers=function(e,t){l(e,t)},_.extendInterfaceMembers=function(e,t){l(e,t)},_.addMethod=function(e,t,n,r){var i=e[t];if(i||r){var s=n.length;if("$overloads"in i)i.$overloads[s]=n;else{var o=function(){var e=o.$overloads[arguments.length]||("$methodArgsIndex"in o&&arguments.length>o.$methodArgsIndex?o.$overloads[o.$methodArgsIndex]:null)||o.$defaultOverload;return e.apply(this,arguments)},a=[];i&&(a[i.length]=i),a[s]=n,o.$overloads=a,o.$defaultOverload=i||n,r&&(o.$methodArgsIndex=s),o.name=t,e[t]=o}}else e[t]=n},_.createJavaArray=function(e,t){var n=null,r=null;if("string"==typeof e&&("boolean"===e?r=!1:c(e)&&(r=0)),"number"==typeof t[0]){var i=0|t[0];if(t.length<=1){n=[],n.length=i;for(var s=0;i>s;++s)n[s]=r}else{n=[];for(var o=t.slice(1),a=0;i>a;++a)n.push(_.createJavaArray(e,o))}}return n};var L={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};!function(e){function t(e){return function(){throw"Processing.js does not support "+e+"."}}for(var n,r,i="open() createOutput() createInput() BufferedReader selectFolder() dataPath() createWriter() selectOutput() beginRecord() saveStream() endRecord() selectInput() saveBytes() createReader() beginRaw() endRaw() PrintWriter delay()".split(" "),s=i.length;s--;)n=i[s],r=n.replace("()",""),e[r]=t(n)}(_),_.defineProperty(_,"screenWidth",{get:function(){return e.innerWidth}}),_.defineProperty(_,"screenHeight",{get:function(){return e.innerHeight}}),_.defineProperty(_,"online",{get:function(){return!0}});var N=[],D={},R=function(e){N.splice(D[e],1),delete D[e]},I=function(e){e.externals.canvas.id!==r&&e.externals.canvas.id.length||(e.externals.canvas.id="__processing"+N.length),D[e.externals.canvas.id]=N.length,N.push(e)};f.prototype.caching=!0,f.prototype.getCSSDefinition=function(e,t){e===r&&(e=this.size+"px"),t===r&&(t=this.leading+"px");var n=[this.style,"normal",this.weight,e+"/"+t,this.family];return n.join(" ")},f.prototype.measureTextWidth=function(e){return this.context2d.measureText(e).width},f.prototype.measureTextWidthFallback=function(e){var n=t.createElement("canvas"),r=n.getContext("2d");return r.font=this.css,r.measureText(e).width},f.PFontCache={length:0},f.get=function(e,t){t=(0|10*t+.5)/10;var n=f.PFontCache,r=e+"/"+t;if(!n[r]){if(n[r]=new f(e,t),n.length++,50===n.length){f.prototype.measureTextWidth=f.prototype.measureTextWidthFallback,f.prototype.caching=!1;var i;for(i in n)"length"!==i&&(n[i].context2d=null);return new f(e,t)}if(400===n.length)return f.PFontCache={},f.get=f.getFallback,new f(e,t)}return n[r]},f.getFallback=function(e,t){return new f(e,t)},f.list=function(){return["sans-serif","serif","monospace","fantasy","cursive"]},f.preloading={template:{},initialized:!1,initialize:function(){var e=function(){var e="#E3KAI2wAgT1MvMg7Eo3VmNtYX7ABi3CxnbHlm7Abw3kaGVhZ7ACs3OGhoZWE7A53CRobXR47AY3AGbG9jYQ7G03Bm1heH7ABC3CBuYW1l7Ae3AgcG9zd7AI3AE#B3AQ2kgTY18PPPUACwAg3ALSRoo3#yld0xg32QAB77#E777773B#E3C#I#Q77773E#Q7777777772CMAIw7AB77732B#M#Q3wAB#g3B#E#E2BB//82BB////w#B7#gAEg3E77x2B32B#E#Q#MTcBAQ32gAe#M#QQJ#E32M#QQJ#I#g32Q77#",t=function(e){return"AAAAAAAA".substr(~~e?7-e:6)};return e.replace(/[#237]/g,t)},n=t.createElement("style");n.setAttribute("type","text/css"),n.innerHTML='@font-face {\n  font-family: "PjsEmptyFont";\n  src: url(\'data:application/x-font-ttf;base64,'+e()+"')\n"+"       format('truetype');\n"+"}",t.head.appendChild(n);var r=t.createElement("span");r.style.cssText='position: absolute; top: 0; left: 0; opacity: 0; font-family: "PjsEmptyFont", fantasy;',r.innerHTML="AAAAAAAA",t.body.appendChild(r),this.template=r,this.initialized=!0},getElementWidth:function(e){return t.defaultView.getComputedStyle(e,"").getPropertyValue("width")},timeAttempted:0,pending:function(e){this.initialized||this.initialize();for(var n,r,i=this.getElementWidth(this.template),s=0;s<this.fontList.length;s++){if(n=this.fontList[s],r=this.getElementWidth(n),this.timeAttempted<4e3&&r===i)return this.timeAttempted+=e,!0;t.body.removeChild(n),this.fontList.splice(s--,1),this.timeAttempted=0}return 0===this.fontList.length?!1:!0},fontList:[],addedList:{},add:function(e){this.initialized||this.initialize();var n="object"==typeof e?e.fontFace:e,r="object"==typeof e?e.url:e;if(!this.addedList[n]){var i=t.createElement("style");i.setAttribute("type","text/css"),i.innerHTML="@font-face{\n  font-family: '"+n+"';\n  src:  url('"+r+"');\n}\n",t.head.appendChild(i),this.addedList[n]=!0;var s=t.createElement("span");s.style.cssText="position: absolute; top: 0; left: 0; opacity: 0;",s.style.fontFamily='"'+n+'", "PjsEmptyFont", fantasy',s.innerHTML="AAAAAAAA",t.body.appendChild(s),this.fontList.push(s)}}},_.PFont=f;var F=this.Processing=function(i,o){function a(e){F.debug("Unimplemented - "+e)}function u(e,t,n,i){var s=Zn.locations[e];s===r&&(s=St.getUniformLocation(t,n),Zn.locations[e]=s),null!==s&&(4===i.length?St.uniform4fv(s,i):3===i.length?St.uniform3fv(s,i):2===i.length?St.uniform2fv(s,i):St.uniform1f(s,i))}function l(e,t,n,i){var s=Zn.locations[e];s===r&&(s=St.getUniformLocation(t,n),Zn.locations[e]=s),null!==s&&(4===i.length?St.uniform4iv(s,i):3===i.length?St.uniform3iv(s,i):2===i.length?St.uniform2iv(s,i):St.uniform1i(s,i))}function c(e,t,n,i,s){var o=Zn.locations[e];o===r&&(o=St.getUniformLocation(t,n),Zn.locations[e]=o),-1!==o&&(16===s.length?St.uniformMatrix4fv(o,i,s):9===s.length?St.uniformMatrix3fv(o,i,s):St.uniformMatrix2fv(o,i,s))}function h(e,t,n,i,s){var o=Zn.attributes[e];o===r&&(o=St.getAttribLocation(t,n),Zn.attributes[e]=o),-1!==o&&(St.bindBuffer(St.ARRAY_BUFFER,s),St.vertexAttribPointer(o,i,St.FLOAT,!1,0,0),St.enableVertexAttribArray(o))}function p(e,t,n){var i=Zn.attributes[e];i===r&&(i=St.getAttribLocation(t,n),Zn.attributes[e]=i),-1!==i&&St.disableVertexAttribArray(i)}function d(e,t,r,i){var s,o,a,u;if(3===Un){var l=Ct.color.toRGB(e,t,r);s=l[0],o=l[1],a=l[2]}else s=n.round(255*(e/Bn)),o=n.round(255*(t/zn)),a=n.round(255*(r/jn));return u=n.round(255*(i/$n)),s=0>s?0:s,o=0>o?0:o,a=0>a?0:a,u=0>u?0:u,s=s>255?255:s,o=o>255?255:o,a=a>255?255:a,u=u>255?255:u,4278190080&u<<24|16711680&s<<16|65280&o<<8|255&a}function g(e,t){var r;return 4278190080&e?(r=n.round(255*(t/$n)),r=r>255?255:r,r=0>r?0:r,e-(4278190080&e)+(4278190080&r<<24)):1===Un?d(e,e,e,t):3===Un?d(0,0,e/Bn*jn,t):void 0}function v(e){if(Bn>=e&&e>=0){if(1===Un)return d(e,e,e,$n);if(3===Un)return d(0,0,e/Bn*jn,$n)}return e?(e>2147483647&&(e-=4294967296),e):void 0}function b(e){var t,n,r;t=(255&e>>16)/255,n=(255&e>>8)/255,r=(255&e)/255;var i,s,o=Ct.max(Ct.max(t,n),r),a=Ct.min(Ct.min(t,n),r);return a===o?[0,0,o*jn]:(s=(o-a)/o,i=t===o?(n-r)/(o-a):n===o?2+(r-t)/(o-a):4+(t-n)/(o-a),i/=6,0>i?i+=1:i>1&&(i-=1),[i*Bn,s*zn,o*jn])}function S(){St.save()}function E(){St.restore(),gn=!0,hn=!0}function P(){var e=(Date.now()-Gn)/1e3;Yn++;var t=Yn/e;e>.5&&(Gn=Date.now(),Yn=0,Ct.__frameRate=t),Ct.frameCount++}function N(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n),Pi.push({elem:e,type:t,fn:n})}function D(e){var t=e.elem,n=e.type,r=e.fn;t.removeEventListener?t.removeEventListener(n,r,!1):t.detachEvent&&t.detachEvent("on"+n,r)}function M(e,t,i,s,o,a){var u=0>e?i:t,l=0===o,c=o===r||0>o?0:o,h=n.abs(e);if(l)for(c=1,h*=10;n.abs(n.round(h)-h)>1e-6&&7>c;)++c,h*=10;else 0!==c&&(h*=n.pow(10,c));var f,p=2*h;if(n.floor(h)===h)f=h;else if(n.floor(p)===p){var d=n.floor(h);f=d+d%2}else f=n.round(h);for(var g="",m=s+c;m>0||f>0;)m--,g=""+f%10+g,f=n.floor(f/10);if(a!==r)for(var v=g.length-3-c;v>0;)g=g.substring(0,v)+a+g.substring(v),v-=3;return c>0?u+g.substring(0,g.length-c)+"."+g.substring(g.length-c,g.length):u+g}function O(e,t,n,r,i,s){if(e instanceof Array){for(var o=[],a=0,u=e.length;u>a;a++)o.push(M(e[a],t,n,r,i,s));return o}return M(e,t,n,r,i,s)}function $(e){var t=parseInt("0x"+e,16);return t>2147483647&&(t-=4294967296),t}function B(e){return Array.prototype.slice.call(e,1)}function z(e){return"number"==typeof e?0!==e:"boolean"==typeof e?e:"string"==typeof e?"true"===e.toLowerCase():e instanceof vi?49===e.code||84===e.code||116===e.code:void 0}function j(e){return"number"==typeof e?e:"boolean"==typeof e?e?1:0:"string"==typeof e?parseFloat(e):e instanceof vi?e.code:void 0}function H(e,t){if("number"==typeof e)return 4294967295&e;if("boolean"==typeof e)return e?1:0;if("string"==typeof e){var n=parseInt(e,t||10);return 4294967295&n}return e instanceof vi?e.code:void 0}function V(e,t){var n=e||362436069,r=t||521288629,i=function(){return n=4294967295&36969*(65535&n)+(n>>>16),r=4294967295&18e3*(65535&r)+(r>>>16),4294967295&((65535&n)<<16|65535&r)};this.nextDouble=function(){var e=i()/4294967296;return 0>e?1+e:e},this.nextInt=i}function U(e){function t(e,t,n,r){var i=15&e,s=8>i?t:n,o=4>i?n:12===i||14===i?t:r;return(0===(1&i)?s:-s)+(0===(2&i)?o:-o)}function i(e,t,n){var r=0===(1&e)?t:n;return 0===(2&e)?-r:r}function s(e,t){return 0===(1&e)?-t:t}function o(e,t,n){return t+e*(n-t)}var a,u,l=e!==r?new V(e):V.createRandomized(),c=new T(512);for(a=0;256>a;++a)c[a]=a;for(a=0;256>a;++a){var h=c[u=255&l.nextInt()];c[u]=c[a],c[a]=h}for(a=0;256>a;++a)c[a+256]=c[a];this.noise3d=function(e,r,i){var s=255&n.floor(e),a=255&n.floor(r),u=255&n.floor(i);e-=n.floor(e),r-=n.floor(r),i-=n.floor(i);var l=(3-2*e)*e*e,h=(3-2*r)*r*r,f=(3-2*i)*i*i,p=c[s]+a,d=c[p]+u,g=c[p+1]+u,m=c[s+1]+a,v=c[m]+u,y=c[m+1]+u;return o(f,o(h,o(l,t(c[d],e,r,i),t(c[v],e-1,r,i)),o(l,t(c[g],e,r-1,i),t(c[y],e-1,r-1,i))),o(h,o(l,t(c[d+1],e,r,i-1),t(c[v+1],e-1,r,i-1)),o(l,t(c[g+1],e,r-1,i-1),t(c[y+1],e-1,r-1,i-1))))},this.noise2d=function(e,t){var r=255&n.floor(e),s=255&n.floor(t);
e-=n.floor(e),t-=n.floor(t);var a=(3-2*e)*e*e,u=(3-2*t)*t*t,l=c[r]+s,h=c[r+1]+s;return o(u,o(a,i(c[l],e,t),i(c[h],e-1,t)),o(a,i(c[l+1],e,t-1),i(c[h+1],e-1,t-1)))},this.noise1d=function(e){var t=255&n.floor(e);e-=n.floor(e);var r=(3-2*e)*e*e;return o(r,s(c[t],e),s(c[t+1],e-1))}}function X(){un&&(hn&&(St.fillStyle=Ct.color.toString(cn),hn=!1),St.fill())}function q(){fn&&(gn&&(St.strokeStyle=Ct.color.toString(dn),gn=!1),St.stroke())}function W(){X(),q(),St.closePath()}function G(e,n,i){var s=Hi.shift();s===r&&(s={},s.canvas=t.createElement("canvas"),s.context=s.canvas.getContext("2d")),Hi.push(s);var o=s.canvas,a=s.context,u=n||e.width,l=i||e.height;return o.width=u,o.height=l,e?"data"in e?a.putImageData(e,0,0):(a.clearRect(0,0,u,l),a.drawImage(e,0,0,u,l)):a.clearRect(0,0,u,l),s}function Y(e){return{getLength:function(e){return function(){if(e.isRemote)throw"Image is loaded remotely. Cannot get length.";return e.imageData.data.length?e.imageData.data.length/4:0}}(e),getPixel:function(e){return function(t){var n=4*t,r=e.imageData.data;if(e.isRemote)throw"Image is loaded remotely. Cannot get pixels.";return(255&r[n+3])<<24|(255&r[n])<<16|(255&r[n+1])<<8|255&r[n+2]}}(e),setPixel:function(e){return function(t,n){var r=4*t,i=e.imageData.data;if(e.isRemote)throw"Image is loaded remotely. Cannot set pixel.";i[r+0]=255&n>>16,i[r+1]=255&n>>8,i[r+2]=255&n,i[r+3]=255&n>>24,e.__isDirty=!0}}(e),toArray:function(e){return function(){var t=[],n=e.imageData.data,r=e.width*e.height;if(e.isRemote)throw"Image is loaded remotely. Cannot get pixels.";for(var i=0,s=0;r>i;i++,s+=4)t.push((255&n[s+3])<<24|(255&n[s])<<16|(255&n[s+1])<<8|255&n[s+2]);return t}}(e),set:function(e){return function(t){var n,r,i;if(this.isRemote)throw"Image is loaded remotely. Cannot set pixels.";r=e.imageData.data;for(var s=0,o=t.length;o>s;s++)i=t[s],n=4*s,r[n+0]=255&i>>16,r[n+1]=255&i>>8,r[n+2]=255&i,r[n+3]=255&i>>24;e.__isDirty=!0}}(e)}}function Z(e,t){var n;if(e>=Ct.width||0>e||0>t||t>=Ct.height)return 0;if(cr){var r=4*((0|e)+Ct.width*(0|t));return n=Ct.imageData.data,(255&n[r+3])<<24|(255&n[r])<<16|(255&n[r+1])<<8|255&n[r+2]}return n=Ct.toImageData(0|e,0|t,1,1).data,(255&n[3])<<24|(255&n[0])<<16|(255&n[1])<<8|255&n[2]}function K(e,t,n){if(n.isRemote)throw"Image is loaded remotely. Cannot get x,y.";var r=4*t*n.width+4*e,i=n.imageData.data;return(255&i[r+3])<<24|(255&i[r])<<16|(255&i[r+1])<<8|255&i[r+2]}function Q(e,t,n,r){var i=new Vi(n,r,2);return i.fromImageData(Ct.toImageData(e,t,n,r)),i}function J(e,t,r,i,s){if(s.isRemote)throw"Image is loaded remotely. Cannot get x,y,w,h.";for(var o=new Vi(r,i,2),a=o.imageData.data,u=s.width,l=s.height,c=s.imageData.data,h=n.max(0,-t),f=n.max(0,-e),p=n.min(i,l-t),d=n.min(r,u-e),g=h;p>g;++g)for(var m=4*((t+g)*u+(e+f)),v=4*(g*r+f),y=f;d>y;++y)a[v++]=c[m++],a[v++]=c[m++],a[v++]=c[m++],a[v++]=c[m++];return o.__isDirty=!0,o}function et(){cr&&(St=tn,cr=!1,Ct.updatePixels())}function tt(){function e(e,t){function n(){et(),St[t].apply(St,arguments)}e[t]=n}function t(e,t){function n(){return et(),St[t]}function r(e){et(),St[t]=e}Ct.defineProperty(e,t,{get:n,set:r})}for(var n in St)"function"==typeof St[n]?e(this,n):t(this,n)}function nt(){cr||(Ct.loadPixels(),null===lr&&(tn=St,lr=new tt),cr=!0,St=lr,nn=0)}function rt(e,t,n){e<Ct.width&&e>=0&&t>=0&&t<Ct.height&&(nt(),Ct.pixels.setPixel((0|e)+Ct.width*(0|t),n),++nn>hr&&et())}function it(e,t,n,r){if(r.isRemote)throw"Image is loaded remotely. Cannot set x,y.";var i=Ct.color.toArray(n),s=4*t*r.width+4*e,o=r.imageData.data;o[s]=i[0],o[s+1]=i[1],o[s+2]=i[2],o[s+3]=i[3]}function st(e){return e instanceof String?e:"number"==typeof e?e===(0|e)?e.toString():Ct.nf(e,0,3):null===e||e===r?"":e.toString()}function ot(e,t,n,r){var i,s;e.indexOf("\n")<0?(i=[e],s=1):(i=e.split(/\r?\n/g),s=i.length);var o=0;101===tr?o=sr+or:3===tr?o=sr/2-(s-1)*ar/2:102===tr&&(o=-(or+(s-1)*ar));for(var a=0;s>a;++a){var u=i[a];Pt.text$line(u,t,n+o,r,er),o+=ar}}function at(e,t,r,i,s,o){if(0!==e.length&&0!==i&&0!==s&&!(ir>s)){for(var a=-1,u=0,l=0,c=[],h=0,f=e.length;f>h;h++){var p=e[h],d=" "===p,g=ur.measureTextWidth(p);if("\n"!==p&&i>=l+g)d&&(a=h),l+=g;else{if(a+1===u){if(!(h>0))return;a=h}"\n"===p?(c.push({text:e.substring(u,h),width:l}),u=h+1):(c.push({text:e.substring(u,a+1),width:l}),u=a+1),l=0,h=u-1}}f>u&&c.push({text:e.substring(u),width:l});var m=1,v=sr;3===er?m=i/2:39===er&&(m=i);var y=c.length,b=n.min(y,n.floor(s/ar));101===tr?v=sr+or:3===tr?v=s/2-ar*(b/2-1):102===tr&&(v=or+ar);var x,w,A;for(x=0;y>x&&(A=x*ar,!(v+A>s-or));x++)w=c[x],Pt.text$line(w.text,t+m,r+v+A,o,er)}}function ut(e){Pt="3D"===e?new di:"2D"===e?new pi:new gi;for(var t in gi.prototype)gi.prototype.hasOwnProperty(t)&&t.indexOf("$")<0&&(Ct[t]=Pt[t]);Pt.$init()}function lt(e){return function(){return ut("2D"),Pt[e].apply(this,arguments)}}function ct(t){var n=t,r=0,i=0;if(Ct.pmouseX=Ct.mouseX,Ct.pmouseY=Ct.mouseY,n.offsetParent)do r+=n.offsetLeft,i+=n.offsetTop;while(n=n.offsetParent);n=t;do r-=n.scrollLeft||0,i-=n.scrollTop||0;while(n=n.parentNode);return r+=rn,i+=sn,r+=on,i+=an,r+=e.pageXOffset,i+=e.pageYOffset,{X:r,Y:i}}function ht(e,t){var n=ct(e,t);Ct.mouseX=t.pageX-n.X,Ct.mouseY=t.pageY-n.Y}function ft(e){var t,n=ct(e.changedTouches[0].target,e.changedTouches[0]);for(t=0;t<e.touches.length;t++){var r=e.touches[t];r.offsetX=r.pageX-n.X,r.offsetY=r.pageY-n.Y}for(t=0;t<e.targetTouches.length;t++){var i=e.targetTouches[t];i.offsetX=i.pageX-n.X,i.offsetY=i.pageY-n.Y}for(t=0;t<e.changedTouches.length;t++){var s=e.changedTouches[t];s.offsetX=s.pageX-n.X,s.offsetY=s.pageY-n.Y}return e}function pt(e){var t=e.which||e.keyCode;switch(t){case 13:return 10;case 91:case 93:case 224:return 157;case 57392:return 17;case 46:return 127;case 45:return 155}return t}function dt(e){var t=e.which||e.keyCode,n=e.shiftKey||e.ctrlKey||e.altKey||e.metaKey;switch(t){case 13:t=n?13:10;break;case 8:t=n?127:8}return new vi(t)}function gt(e){return"function"==typeof e.preventDefault?e.preventDefault():"function"==typeof e.stopPropagation&&e.stopPropagation(),!1}function mt(){var e;for(e in fr)if(fr.hasOwnProperty(e))return Ct.__keyPressed=!0,void 0;Ct.__keyPressed=!1}function vt(){Ct.__keyPressed=!1,fr=[],pr=null}function yt(e,t){fr[e]=t,pr=null,Ct.key=t,Ct.keyCode=e,Ct.keyPressed(),Ct.keyCode=0,Ct.keyTyped(),mt()}function bt(e){var t=pt(e);if(127===t)return yt(t,new vi(127)),void 0;if(dr.indexOf(t)<0)return pr=t,void 0;var n=new vi(65535);return Ct.key=n,Ct.keyCode=t,fr[t]=n,Ct.keyPressed(),pr=null,mt(),gt(e)}function xt(e){if(null!==pr){var t=pr,n=dt(e);return yt(t,n),gt(e)}}function wt(e){var t=pt(e),n=fr[t];n!==r&&(Ct.key=n,Ct.keyCode=t,Ct.keyReleased(),delete fr[t],mt())}if(!(this instanceof F))throw"called Processing constructor as if it were a function: missing 'new'.";var At,Tt=i===r&&o===r;if(At=Tt?t.createElement("canvas"):"string"==typeof i?t.getElementById(i):i,!(At instanceof HTMLCanvasElement))throw"called Processing constructor without passing canvas element reference or id.";var Ct=this;Ct.externals={canvas:At,context:r,sketch:r},Ct.name="Processing.js Instance",Ct.use3DContext=!1,Ct.focused=!1,Ct.breakShape=!1,Ct.glyphTable={},Ct.pmouseX=0,Ct.pmouseY=0,Ct.mouseX=0,Ct.mouseY=0,Ct.mouseButton=0,Ct.mouseScroll=0,Ct.mouseClicked=r,Ct.mouseDragged=r,Ct.mouseMoved=r,Ct.mousePressed=r,Ct.mouseReleased=r,Ct.mouseScrolled=r,Ct.mouseOver=r,Ct.mouseOut=r,Ct.touchStart=r,Ct.touchEnd=r,Ct.touchMove=r,Ct.touchCancel=r,Ct.key=r,Ct.keyCode=r,Ct.keyPressed=m,Ct.keyReleased=m,Ct.keyTyped=m,Ct.draw=r,Ct.setup=r,Ct.__mousePressed=!1,Ct.__keyPressed=!1,Ct.__frameRate=60,Ct.frameCount=0,Ct.width=100,Ct.height=100;var St,Et,Pt,kt,_t,Lt,Nt,Dt,Rt,It,Ft,Mt,Ot,$t,Bt,zt,jt,Ht,Vt,Ut,Xt,qt,Wt,Gt,Yt,Zt,Kt,Qt,Jt,en,tn,nn,rn,sn,on,an,un=!0,ln=[1,1,1,1],cn=4294967295,hn=!0,fn=!0,pn=[0,0,0,1],dn=4278190080,gn=!0,mn=1,vn=!1,yn=!1,bn=!0,xn=0,wn=0,An=3,Tn=0,Cn=0,Sn=0,En=0,Pn=60,kn=1e3/Pn,_n="default",Ln=At.style.cursor,Nn=20,Dn=[],Rn=0,In=20,Fn=!1,Mn=-3355444,On=20,$n=255,Bn=255,zn=255,jn=255,Hn=0,Vn=0,Un=1,Xn=null,qn=null,Wn=Date.now(),Gn=Wn,Yn=0,Zn={attributes:{},locations:{}},Kn={width:0,height:0},Qn=2,Jn=!1,er=37,tr=0,nr=4,rr="Arial",ir=12,sr=9,or=2,ar=14,ur=f.get(rr,ir),lr=null,cr=!1,hr=1e3,fr=[],pr=null,dr=[16,17,18,20,33,34,35,36,37,38,39,40,144,155,112,113,114,115,116,117,118,119,120,121,122,123,157];t.defaultView&&t.defaultView.getComputedStyle&&(rn=parseInt(t.defaultView.getComputedStyle(At,null).paddingLeft,10)||0,sn=parseInt(t.defaultView.getComputedStyle(At,null).paddingTop,10)||0,on=parseInt(t.defaultView.getComputedStyle(At,null).borderLeftWidth,10)||0,an=parseInt(t.defaultView.getComputedStyle(At,null).borderTopWidth,10)||0);var gr,mr,vr,yr,br,xr,wr,Ar,Tr,Cr=0,Sr=0,Er=0,Pr=[],kr=[],_r=[],Lr=new x(720),Nr=new x(720),Dr=!1,Rr=!1,Ir=60*(n.PI/180),Fr=Ct.width/2,Mr=Ct.height/2,Or=Mr/n.tan(Ir/2),$r=Or/10,Br=10*Or,zr=Ct.width/Ct.height,jr=[],Hr=[],Vr=0,Ur=!1,Xr=!1,qr=!0,Wr=0,Gr=[],Yr=new x([.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5]),Zr=new x([.5,.5,.5,.5,-.5,.5,.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,.5,-.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5]),Kr=new x([0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]),Qr=new x([0,0,0,0,1,0,1,1,0,1,0,0]),Jr=new x([0,0,1,0,0,1,0,0,1,0,0,1]),ei="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec4 aColor;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;void main(void) {  vFrontColor = aColor;  gl_PointSize = uPointSize;  gl_Position = uProjection * uView * vec4(aVertex, 1.0);}",ti="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  gl_FragColor = vFrontColor;}",ni="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec2 aTextureCoord;uniform vec4 uColor;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;varying vec2 vTextureCoord;void main(void) {  gl_PointSize = uPointSize;  vFrontColor = uColor;  gl_Position = uProjection * uView * uModel * vec4(aVertex, 1.0);  vTextureCoord = aTextureCoord;}",ri="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform int uIsDrawingText;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  if(uIsDrawingText == 1){    float alpha = texture2D(uSampler, vTextureCoord).a;    gl_FragColor = vec4(vFrontColor.rgb * alpha, alpha);  }  else{    gl_FragColor = vFrontColor;  }}",ii=/Windows/.test(navigator.userAgent),si="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec3 aNormal;attribute vec4 aColor;attribute vec2 aTexture;varying   vec2 vTexture;uniform vec4 uColor;uniform bool uUsingMat;uniform vec3 uSpecular;uniform vec3 uMaterialEmissive;uniform vec3 uMaterialAmbient;uniform vec3 uMaterialSpecular;uniform float uShininess;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform mat4 uNormalTransform;uniform int uLightCount;uniform vec3 uFalloff;struct Light {  int type;  vec3 color;  vec3 position;  vec3 direction;  float angle;  vec3 halfVector;  float concentration;};uniform Light uLights0;uniform Light uLights1;uniform Light uLights2;uniform Light uLights3;uniform Light uLights4;uniform Light uLights5;uniform Light uLights6;uniform Light uLights7;Light getLight(int index){  if(index == 0) return uLights0;  if(index == 1) return uLights1;  if(index == 2) return uLights2;  if(index == 3) return uLights3;  if(index == 4) return uLights4;  if(index == 5) return uLights5;  if(index == 6) return uLights6;  return uLights7;}void AmbientLight( inout vec3 totalAmbient, in vec3 ecPos, in Light light ) {  float d = length( light.position - ecPos );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  totalAmbient += light.color * attenuation;}void DirectionalLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor = 0.0;  float nDotVP = max(0.0, dot( vertNormal, normalize(-light.position) ));  float nDotVH = max(0.0, dot( vertNormal, normalize(-light.position-normalize(ecPos) )));  if( nDotVP != 0.0 ){    powerFactor = pow( nDotVH, uShininess );  }  col += light.color * nDotVP;  spec += uSpecular * powerFactor;}void PointLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor;   vec3 VP = light.position - ecPos;  float d = length( VP );   VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  float nDotVP = max( 0.0, dot( vertNormal, VP ));  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ));  if( nDotVP == 0.0 ) {    powerFactor = 0.0;  }  else {    powerFactor = pow( nDotHV, uShininess );  }  spec += uSpecular * powerFactor * attenuation;  col += light.color * nDotVP * attenuation;}void SpotLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float spotAttenuation;  float powerFactor = 0.0;  vec3 VP = light.position - ecPos;  vec3 ldir = normalize( -light.direction );  float d = length( VP );  VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ) );  float spotDot = dot( VP, ldir );"+(ii?"  spotAttenuation = 1.0; ":"  if( spotDot > cos( light.angle ) ) {    spotAttenuation = pow( spotDot, light.concentration );  }  else{    spotAttenuation = 0.0;  }  attenuation *= spotAttenuation;")+"  float nDotVP = max( 0.0, dot( vertNormal, VP ) );"+"  vec3 halfVector = normalize( VP - normalize(ecPos) );"+"  float nDotHV = max( 0.0, dot( vertNormal, halfVector ) );"+"  if( nDotVP != 0.0 ) {"+"    powerFactor = pow( nDotHV, uShininess );"+"  }"+"  spec += uSpecular * powerFactor * attenuation;"+"  col += light.color * nDotVP * attenuation;"+"}"+"void main(void) {"+"  vec3 finalAmbient = vec3( 0.0 );"+"  vec3 finalDiffuse = vec3( 0.0 );"+"  vec3 finalSpecular = vec3( 0.0 );"+"  vec4 col = uColor;"+"  if ( uColor[0] == -1.0 ){"+"    col = aColor;"+"  }"+"  vec3 norm = normalize(vec3( uNormalTransform * vec4( aNormal, 0.0 ) ));"+"  vec4 ecPos4 = uView * uModel * vec4(aVertex, 1.0);"+"  vec3 ecPos = (vec3(ecPos4))/ecPos4.w;"+"  if( uLightCount == 0 ) {"+"    vFrontColor = col + vec4(uMaterialSpecular, 1.0);"+"  }"+"  else {"+"    for( int i = 0; i < 8; i++ ) {"+"      Light l = getLight(i);"+"      if( i >= uLightCount ){"+"        break;"+"      }"+"      if( l.type == 0 ) {"+"        AmbientLight( finalAmbient, ecPos, l );"+"      }"+"      else if( l.type == 1 ) {"+"        DirectionalLight( finalDiffuse, finalSpecular, norm, ecPos, l );"+"      }"+"      else if( l.type == 2 ) {"+"        PointLight( finalDiffuse, finalSpecular, norm, ecPos, l );"+"      }"+"      else {"+"        SpotLight( finalDiffuse, finalSpecular, norm, ecPos, l );"+"      }"+"    }"+"   if( uUsingMat == false ) {"+"     vFrontColor = vec4("+"       vec3( col ) * finalAmbient +"+"       vec3( col ) * finalDiffuse +"+"       vec3( col ) * finalSpecular,"+"       col[3] );"+"   }"+"   else{"+"     vFrontColor = vec4( "+"       uMaterialEmissive + "+"       (vec3(col) * uMaterialAmbient * finalAmbient ) + "+"       (vec3(col) * finalDiffuse) + "+"       (uMaterialSpecular * finalSpecular), "+"       col[3] );"+"    }"+"  }"+"  vTexture.xy = aTexture.xy;"+"  gl_Position = uProjection * uView * uModel * vec4( aVertex, 1.0 );"+"}",oi="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform sampler2D uSampler;uniform bool uUsingTexture;varying vec2 vTexture;void main(void){  if( uUsingTexture ){    gl_FragColor = vec4(texture2D(uSampler, vTexture.xy)) * vFrontColor;  }  else{    gl_FragColor = vFrontColor;  }}",ai=function(e,t,n){var r=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw e.getShaderInfoLog(r);var i=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(i,n),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw e.getShaderInfoLog(i);var s=e.createProgram();if(e.attachShader(s,r),e.attachShader(s,i),e.linkProgram(s),!e.getProgramParameter(s,e.LINK_STATUS))throw"Error linking shaders.";return s},ui=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},li=ui,ci=function(e,t,n,r,i){return{x:e,y:t,w:i?n:n-e,h:i?r:r-t}},hi=function(e,t,n,r){return{x:e-n/2,y:t-r/2,w:n,h:r}},fi=function(){},pi=function(){},di=function(){},gi=function(){};pi.prototype=new fi,pi.prototype.constructor=pi,di.prototype=new fi,di.prototype.constructor=di,gi.prototype=new fi,gi.prototype.constructor=gi,fi.prototype.a3DOnlyFunction=m;var mi={},vi=Ct.Character=function(e){return this.code="string"==typeof e&&1===e.length?e.charCodeAt(0):"number"==typeof e?e:e instanceof vi?e:0/0,mi[this.code]===r?mi[this.code]=this:mi[this.code]};vi.prototype.toString=function(){return String.fromCharCode(this.code)},vi.prototype.valueOf=function(){return this.code};var yi=Ct.PShape=function(e){this.family=e||0,this.visible=!0,this.style=!0,this.children=[],this.nameTable=[],this.params=[],this.name="",this.image=null,this.matrix=null,this.kind=null,this.close=null,this.width=null,this.height=null,this.parent=null};yi.prototype={isVisible:function(){return this.visible},setVisible:function(e){this.visible=e},disableStyle:function(){this.style=!1;for(var e=0,t=this.children.length;t>e;e++)this.children[e].disableStyle()},enableStyle:function(){this.style=!0;for(var e=0,t=this.children.length;t>e;e++)this.children[e].enableStyle()},getFamily:function(){return this.family},getWidth:function(){return this.width},getHeight:function(){return this.height},setName:function(e){this.name=e},getName:function(){return this.name},draw:function(e){e=e||Ct,this.visible&&(this.pre(e),this.drawImpl(e),this.post(e))},drawImpl:function(e){0===this.family?this.drawGroup(e):1===this.family?this.drawPrimitive(e):3===this.family?this.drawGeometry(e):21===this.family&&this.drawPath(e)},drawPath:function(e){var t,n;if(0!==this.vertices.length){if(e.beginShape(),0===this.vertexCodes.length)if(2===this.vertices[0].length)for(t=0,n=this.vertices.length;n>t;t++)e.vertex(this.vertices[t][0],this.vertices[t][1]);else for(t=0,n=this.vertices.length;n>t;t++)e.vertex(this.vertices[t][0],this.vertices[t][1],this.vertices[t][2]);else{var r=0;if(2===this.vertices[0].length)for(t=0,n=this.vertexCodes.length;n>t;t++)0===this.vertexCodes[t]?(e.vertex(this.vertices[r][0],this.vertices[r][1],this.vertices[r].moveTo),e.breakShape=!1,r++):1===this.vertexCodes[t]?(e.bezierVertex(this.vertices[r+0][0],this.vertices[r+0][1],this.vertices[r+1][0],this.vertices[r+1][1],this.vertices[r+2][0],this.vertices[r+2][1]),r+=3):2===this.vertexCodes[t]?(e.curveVertex(this.vertices[r][0],this.vertices[r][1]),r++):3===this.vertexCodes[t]&&(e.breakShape=!0);else for(t=0,n=this.vertexCodes.length;n>t;t++)0===this.vertexCodes[t]?(e.vertex(this.vertices[r][0],this.vertices[r][1],this.vertices[r][2]),this.vertices[r].moveTo===!0?jr[jr.length-1].moveTo=!0:this.vertices[r].moveTo===!1&&(jr[jr.length-1].moveTo=!1),e.breakShape=!1):1===this.vertexCodes[t]?(e.bezierVertex(this.vertices[r+0][0],this.vertices[r+0][1],this.vertices[r+0][2],this.vertices[r+1][0],this.vertices[r+1][1],this.vertices[r+1][2],this.vertices[r+2][0],this.vertices[r+2][1],this.vertices[r+2][2]),r+=3):2===this.vertexCodes[t]?(e.curveVertex(this.vertices[r][0],this.vertices[r][1],this.vertices[r][2]),r++):3===this.vertexCodes[t]&&(e.breakShape=!0)}e.endShape(this.close?2:1)}},drawGeometry:function(e){var t,n;if(e.beginShape(this.kind),this.style)for(t=0,n=this.vertices.length;n>t;t++)e.vertex(this.vertices[t]);else for(t=0,n=this.vertices.length;n>t;t++){var r=this.vertices[t];0===r[2]?e.vertex(r[0],r[1]):e.vertex(r[0],r[1],r[2])}e.endShape()},drawGroup:function(e){for(var t=0,n=this.children.length;n>t;t++)this.children[t].draw(e)},drawPrimitive:function(e){if(2===this.kind)e.point(this.params[0],this.params[1]);else if(4===this.kind)4===this.params.length?e.line(this.params[0],this.params[1],this.params[2],this.params[3]):e.line(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(8===this.kind)e.triangle(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(16===this.kind)e.quad(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5],this.params[6],this.params[7]);else if(30===this.kind)if(null!==this.image){var t=li;e.imageMode(0),e.image(this.image,this.params[0],this.params[1],this.params[2],this.params[3]),li=t}else{var n=wn;e.rectMode(0),e.rect(this.params[0],this.params[1],this.params[2],this.params[3]),wn=n}else if(31===this.kind){var r=An;e.ellipseMode(0),e.ellipse(this.params[0],this.params[1],this.params[2],this.params[3]),An=r}else if(32===this.kind){var i=An;e.ellipseMode(0),e.arc(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]),An=i}else 41===this.kind?1===this.params.length?e.box(this.params[0]):e.box(this.params[0],this.params[1],this.params[2]):40===this.kind&&e.sphere(this.params[0])},pre:function(e){this.matrix&&(e.pushMatrix(),e.transform(this.matrix)),this.style&&(e.pushStyle(),this.styles(e))},post:function(e){this.matrix&&e.popMatrix(),this.style&&e.popStyle()},styles:function(e){this.stroke?(e.stroke(this.strokeColor),e.strokeWeight(this.strokeWeight),e.strokeCap(this.strokeCap),e.strokeJoin(this.strokeJoin)):e.noStroke(),this.fill?e.fill(this.fillColor):e.noFill()},getChild:function(e){var t,n;if("number"==typeof e)return this.children[e];var r;if(""===e||this.name===e)return this;if(this.nameTable.length>0){for(t=0,n=this.nameTable.length;n>t||r;t++)if(this.nameTable[t].getName===e){r=this.nameTable[t];break}if(r)return r}for(t=0,n=this.children.length;n>t;t++)if(r=this.children[t].getChild(e))return r;return null},getChildCount:function(){return this.children.length},addChild:function(e){this.children.push(e),e.parent=this,null!==e.getName()&&this.addName(e.getName(),e)},addName:function(e,t){null!==this.parent?this.parent.addName(e,t):this.nameTable.push([e,t])},translate:function(){2===arguments.length?(this.checkMatrix(2),this.matrix.translate(arguments[0],arguments[1])):(this.checkMatrix(3),this.matrix.translate(arguments[0],arguments[1],0))},checkMatrix:function(e){null===this.matrix?this.matrix=2===e?new Ct.PMatrix2D:new Ct.PMatrix3D:3===e&&this.matrix instanceof Ct.PMatrix2D&&(this.matrix=new Ct.PMatrix3D)},rotateX:function(e){this.rotate(e,1,0,0)},rotateY:function(e){this.rotate(e,0,1,0)},rotateZ:function(e){this.rotate(e,0,0,1)},rotate:function(){1===arguments.length?(this.checkMatrix(2),this.matrix.rotate(arguments[0])):(this.checkMatrix(3),this.matrix.rotate(arguments[0],arguments[1],arguments[2],arguments[3]))},scale:function(){2===arguments.length?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1])):3===arguments.length?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1],arguments[2])):(this.checkMatrix(2),this.matrix.scale(arguments[0]))},resetMatrix:function(){this.checkMatrix(2),this.matrix.reset()},applyMatrix:function(e){1===arguments.length?this.applyMatrix(e.elements[0],e.elements[1],0,e.elements[2],e.elements[3],e.elements[4],0,e.elements[5],0,0,1,0,0,0,0,1):6===arguments.length?(this.checkMatrix(2),this.matrix.apply(arguments[0],arguments[1],arguments[2],0,arguments[3],arguments[4],arguments[5],0,0,0,1,0,0,0,0,1)):16===arguments.length&&(this.checkMatrix(3),this.matrix.apply(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]))}};var bi=Ct.PShapeSVG=function(){if(Ct.PShape.call(this),1===arguments.length){if(this.element=arguments[0],this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=4278190080,this.strokeWeight=1,this.strokeCap="butt",this.strokeJoin="miter",this.strokeGradient=null,this.strokeGradientPaint=null,this.strokeName=null,this.strokeOpacity=1,this.fill=!0,this.fillColor=4278190080,this.fillGradient=null,this.fillGradientPaint=null,this.fillName=null,this.fillOpacity=1,"svg"!==this.element.getName())throw"root is not <svg>, it's <"+this.element.getName()+">"}else 2===arguments.length&&("string"==typeof arguments[1]?arguments[1].indexOf(".svg")>-1&&(this.element=new Ct.XMLElement(Ct,arguments[1]),this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=4278190080,this.strokeWeight=1,this.strokeCap="butt",this.strokeJoin="miter",this.strokeGradient="",this.strokeGradientPaint="",this.strokeName="",this.strokeOpacity=1,this.fill=!0,this.fillColor=4278190080,this.fillGradient=null,this.fillGradientPaint=null,this.fillOpacity=1):arguments[0]&&(this.element=arguments[1],this.vertexCodes=arguments[0].vertexCodes.slice(),this.vertices=arguments[0].vertices.slice(),this.stroke=arguments[0].stroke,this.strokeColor=arguments[0].strokeColor,this.strokeWeight=arguments[0].strokeWeight,this.strokeCap=arguments[0].strokeCap,this.strokeJoin=arguments[0].strokeJoin,this.strokeGradient=arguments[0].strokeGradient,this.strokeGradientPaint=arguments[0].strokeGradientPaint,this.strokeName=arguments[0].strokeName,this.fill=arguments[0].fill,this.fillColor=arguments[0].fillColor,this.fillGradient=arguments[0].fillGradient,this.fillGradientPaint=arguments[0].fillGradientPaint,this.fillName=arguments[0].fillName,this.strokeOpacity=arguments[0].strokeOpacity,this.fillOpacity=arguments[0].fillOpacity,this.opacity=arguments[0].opacity));this.name=this.element.getStringAttribute("id");var e=this.element.getStringAttribute("display","inline");this.visible="none"!==e;var t=this.element.getAttribute("transform");t&&(this.matrix=this.parseMatrix(t));var n=this.element.getStringAttribute("viewBox");if(null!==n){var r=n.split(" ");this.width=r[2],this.height=r[3]}var i=this.element.getStringAttribute("width"),s=this.element.getStringAttribute("height");if(null!==i)this.width=this.parseUnitSize(i),this.height=this.parseUnitSize(s);else if(0===this.width||0===this.height)throw this.width=1,this.height=1,"The width and/or height is not readable in the <svg> tag of this file.";this.parseColors(this.element),this.parseChildren(this.element)};bi.prototype=new yi,bi.prototype.parseMatrix=function(){function e(e){var t=[];return e.replace(/\((.*?)\)/,function(){return function(e,n){t=n.replace(/,+/g," ").split(/\s+/)}}()),t}return function(t){this.checkMatrix(2);var n=[];if(t.replace(/\s*(\w+)\((.*?)\)/g,function(e){n.push(Ct.trim(e))}),0===n.length)return null;for(var r=0,i=n.length;i>r;r++){var s=e(n[r]);if(-1!==n[r].indexOf("matrix"))this.matrix.set(s[0],s[2],s[4],s[1],s[3],s[5]);else if(-1!==n[r].indexOf("translate")){var o=s[0],a=2===s.length?s[1]:0;this.matrix.translate(o,a)}else if(-1!==n[r].indexOf("scale")){var u=s[0],l=2===s.length?s[1]:s[0];this.matrix.scale(u,l)}else if(-1!==n[r].indexOf("rotate")){var c=s[0];1===s.length?this.matrix.rotate(Ct.radians(c)):3===s.length&&(this.matrix.translate(s[1],s[2]),this.matrix.rotate(Ct.radians(s[0])),this.matrix.translate(-s[1],-s[2]))}else-1!==n[r].indexOf("skewX")?this.matrix.skewX(parseFloat(s[0])):-1!==n[r].indexOf("skewY")?this.matrix.skewY(s[0]):-1!==n[r].indexOf("shearX")?this.matrix.shearX(s[0]):-1!==n[r].indexOf("shearY")&&this.matrix.shearY(s[0])}return this.matrix}}(),bi.prototype.parseChildren=function(e){for(var t=e.getChildren(),n=new Ct.PShape,r=0,i=t.length;i>r;r++){var s=this.parseChild(t[r]);s&&n.addChild(s)}this.children.push(n)},bi.prototype.getName=function(){return this.name},bi.prototype.parseChild=function(e){var t,n=e.getName();return"g"===n?t=new bi(this,e):"defs"===n?t=new bi(this,e):"line"===n?(t=new bi(this,e),t.parseLine()):"circle"===n?(t=new bi(this,e),t.parseEllipse(!0)):"ellipse"===n?(t=new bi(this,e),t.parseEllipse(!1)):"rect"===n?(t=new bi(this,e),t.parseRect()):"polygon"===n?(t=new bi(this,e),t.parsePoly(!0)):"polyline"===n?(t=new bi(this,e),t.parsePoly(!1)):"path"===n?(t=new bi(this,e),t.parsePath()):"radialGradient"===n?a("PShapeSVG.prototype.parseChild, name = radialGradient"):"linearGradient"===n?a("PShapeSVG.prototype.parseChild, name = linearGradient"):"text"===n?a("PShapeSVG.prototype.parseChild, name = text"):"filter"===n?a("PShapeSVG.prototype.parseChild, name = filter"):"mask"===n?a("PShapeSVG.prototype.parseChild, name = mask"):m(),t},bi.prototype.parsePath=function(){this.family=21,this.kind=0;var e=Ct.trim(this.element.getStringAttribute("d").replace(/[\s,]+/g," "));if(null!==e){e=Ct.__toCharArray(e);for(var t,n,r,i,s=0,o=0,a=0,u=0,l=0,c=0,h=0,f=0,p=0,d=0,g=0,m=0,v=0,y=0,b=0,x=0,w="",A=[],T=!1;b<e.length;)if(x=e[b].valueOf(),x>=65&&90>=x||x>=97&&122>=x){if(r=b,b++,b<e.length)for(A=[],x=e[b].valueOf();!(x>=65&&90>=x||x>=97&&100>=x||x>=102&&122>=x)&&T===!1;)32===x?(""!==w&&(A.push(parseFloat(w)),w=""),b++):45===x?101===e[b-1].valueOf()?(w+=e[b].toString(),b++):(""!==w&&A.push(parseFloat(w)),w=e[b].toString(),b++):(w+=e[b].toString(),b++),b===e.length?T=!0:x=e[b].valueOf();if(""!==w&&(A.push(parseFloat(w)),w=""),n=e[r],x=n.valueOf(),77===x){if(A.length>=2&&0===A.length%2&&(s=A[0],o=A[1],this.parsePathMoveto(s,o),A.length>2))for(r=2,i=A.length;i>r;r+=2)s=A[r],o=A[r+1],this.parsePathLineto(s,o)}else if(109===x){if(A.length>=2&&0===A.length%2&&(s+=A[0],o+=A[1],this.parsePathMoveto(s,o),A.length>2))for(r=2,i=A.length;i>r;r+=2)s+=A[r],o+=A[r+1],this.parsePathLineto(s,o)}else if(76===x){if(A.length>=2&&0===A.length%2)for(r=0,i=A.length;i>r;r+=2)s=A[r],o=A[r+1],this.parsePathLineto(s,o)}else if(108===x){if(A.length>=2&&0===A.length%2)for(r=0,i=A.length;i>r;r+=2)s+=A[r],o+=A[r+1],this.parsePathLineto(s,o)}else if(72===x)for(r=0,i=A.length;i>r;r++)s=A[r],this.parsePathLineto(s,o);else if(104===x)for(r=0,i=A.length;i>r;r++)s+=A[r],this.parsePathLineto(s,o);else if(86===x)for(r=0,i=A.length;i>r;r++)o=A[r],this.parsePathLineto(s,o);else if(118===x)for(r=0,i=A.length;i>r;r++)o+=A[r],this.parsePathLineto(s,o);else if(67===x){if(A.length>=6&&0===A.length%6)for(r=0,i=A.length;i>r;r+=6)l=A[r],h=A[r+1],c=A[r+2],f=A[r+3],p=A[r+4],d=A[r+5],this.parsePathCurveto(l,h,c,f,p,d),s=p,o=d}else if(99===x){if(A.length>=6&&0===A.length%6)for(r=0,i=A.length;i>r;r+=6)l=s+A[r],h=o+A[r+1],c=s+A[r+2],f=o+A[r+3],p=s+A[r+4],d=o+A[r+5],this.parsePathCurveto(l,h,c,f,p,d),s=p,o=d}else if(83===x){if(A.length>=4&&0===A.length%4)for(r=0,i=A.length;i>r;r+=4)"c"===t.toLowerCase()||"s"===t.toLowerCase()?(g=this.vertices[this.vertices.length-2][0],m=this.vertices[this.vertices.length-2][1],v=this.vertices[this.vertices.length-1][0],y=this.vertices[this.vertices.length-1][1],l=v+(v-g),h=y+(y-m)):(l=this.vertices[this.vertices.length-1][0],h=this.vertices[this.vertices.length-1][1]),c=A[r],f=A[r+1],p=A[r+2],d=A[r+3],this.parsePathCurveto(l,h,c,f,p,d),s=p,o=d}else if(115===x){if(A.length>=4&&0===A.length%4)for(r=0,i=A.length;i>r;r+=4)"c"===t.toLowerCase()||"s"===t.toLowerCase()?(g=this.vertices[this.vertices.length-2][0],m=this.vertices[this.vertices.length-2][1],v=this.vertices[this.vertices.length-1][0],y=this.vertices[this.vertices.length-1][1],l=v+(v-g),h=y+(y-m)):(l=this.vertices[this.vertices.length-1][0],h=this.vertices[this.vertices.length-1][1]),c=s+A[r],f=o+A[r+1],p=s+A[r+2],d=o+A[r+3],this.parsePathCurveto(l,h,c,f,p,d),s=p,o=d}else if(81===x){if(A.length>=4&&0===A.length%4)for(r=0,i=A.length;i>r;r+=4)a=A[r],u=A[r+1],p=A[r+2],d=A[r+3],this.parsePathQuadto(s,o,a,u,p,d),s=p,o=d}else if(113===x){if(A.length>=4&&0===A.length%4)for(r=0,i=A.length;i>r;r+=4)a=s+A[r],u=o+A[r+1],p=s+A[r+2],d=o+A[r+3],this.parsePathQuadto(s,o,a,u,p,d),s=p,o=d}else if(84===x){if(A.length>=2&&0===A.length%2)for(r=0,i=A.length;i>r;r+=2)"q"===t.toLowerCase()||"t"===t.toLowerCase()?(g=this.vertices[this.vertices.length-2][0],m=this.vertices[this.vertices.length-2][1],v=this.vertices[this.vertices.length-1][0],y=this.vertices[this.vertices.length-1][1],a=v+(v-g),u=y+(y-m)):(a=s,u=o),p=A[r],d=A[r+1],this.parsePathQuadto(s,o,a,u,p,d),s=p,o=d
}else if(116===x){if(A.length>=2&&0===A.length%2)for(r=0,i=A.length;i>r;r+=2)"q"===t.toLowerCase()||"t"===t.toLowerCase()?(g=this.vertices[this.vertices.length-2][0],m=this.vertices[this.vertices.length-2][1],v=this.vertices[this.vertices.length-1][0],y=this.vertices[this.vertices.length-1][1],a=v+(v-g),u=y+(y-m)):(a=s,u=o),p=s+A[r],d=o+A[r+1],this.parsePathQuadto(s,o,a,u,p,d),s=p,o=d}else(90===x||122===x)&&(this.close=!0);t=n.toString()}else b++}},bi.prototype.parsePathQuadto=function(e,t,n,r,i,s){if(!(this.vertices.length>0))throw"Path must start with M/m";this.parsePathCode(1),this.parsePathVertex(e+2*(n-e)/3,t+2*(r-t)/3),this.parsePathVertex(i+2*(n-i)/3,s+2*(r-s)/3),this.parsePathVertex(i,s)},bi.prototype.parsePathCurveto=function(e,t,n,r,i,s){if(!(this.vertices.length>0))throw"Path must start with M/m";this.parsePathCode(1),this.parsePathVertex(e,t),this.parsePathVertex(n,r),this.parsePathVertex(i,s)},bi.prototype.parsePathLineto=function(e,t){if(!(this.vertices.length>0))throw"Path must start with M/m";this.parsePathCode(0),this.parsePathVertex(e,t),this.vertices[this.vertices.length-1].moveTo=!1},bi.prototype.parsePathMoveto=function(e,t){this.vertices.length>0&&this.parsePathCode(3),this.parsePathCode(0),this.parsePathVertex(e,t),this.vertices[this.vertices.length-1].moveTo=!0},bi.prototype.parsePathVertex=function(e,t){var n=[];n[0]=e,n[1]=t,this.vertices.push(n)},bi.prototype.parsePathCode=function(e){this.vertexCodes.push(e)},bi.prototype.parsePoly=function(e){this.family=21,this.close=e;var t=Ct.trim(this.element.getStringAttribute("points").replace(/[,\s]+/g," "));if(null!==t){var n=t.split(" ");if(0!==n.length%2)throw"Error parsing polygon points: odd number of coordinates provided";for(var r=0,i=n.length;i>r;r++){var s=[];s[0]=n[r],s[1]=n[++r],this.vertices.push(s)}}},bi.prototype.parseRect=function(){if(this.kind=30,this.family=1,this.params=[],this.params[0]=this.element.getFloatAttribute("x"),this.params[1]=this.element.getFloatAttribute("y"),this.params[2]=this.element.getFloatAttribute("width"),this.params[3]=this.element.getFloatAttribute("height"),this.params[2]<0||this.params[3]<0)throw"svg error: negative width or height found while parsing <rect>"},bi.prototype.parseEllipse=function(e){this.kind=31,this.family=1,this.params=[],this.params[0]=0|this.element.getFloatAttribute("cx"),this.params[1]=0|this.element.getFloatAttribute("cy");var t,n;if(e){if(t=n=this.element.getFloatAttribute("r"),0>t)throw"svg error: negative radius found while parsing <circle>"}else if(t=this.element.getFloatAttribute("rx"),n=this.element.getFloatAttribute("ry"),0>t||0>n)throw"svg error: negative x-axis radius or y-axis radius found while parsing <ellipse>";this.params[0]-=t,this.params[1]-=n,this.params[2]=2*t,this.params[3]=2*n},bi.prototype.parseLine=function(){this.kind=4,this.family=1,this.params=[],this.params[0]=this.element.getFloatAttribute("x1"),this.params[1]=this.element.getFloatAttribute("y1"),this.params[2]=this.element.getFloatAttribute("x2"),this.params[3]=this.element.getFloatAttribute("y2")},bi.prototype.parseColors=function(e){if(e.hasAttribute("opacity")&&this.setOpacity(e.getAttribute("opacity")),e.hasAttribute("stroke")&&this.setStroke(e.getAttribute("stroke")),e.hasAttribute("stroke-width")&&this.setStrokeWeight(e.getAttribute("stroke-width")),e.hasAttribute("stroke-linejoin")&&this.setStrokeJoin(e.getAttribute("stroke-linejoin")),e.hasAttribute("stroke-linecap")&&this.setStrokeCap(e.getStringAttribute("stroke-linecap")),e.hasAttribute("fill")&&this.setFill(e.getStringAttribute("fill")),e.hasAttribute("style"))for(var t=e.getStringAttribute("style"),n=t.toString().split(";"),r=0,i=n.length;i>r;r++){var s=Ct.trim(n[r].split(":"));"fill"===s[0]?this.setFill(s[1]):"fill-opacity"===s[0]?this.setFillOpacity(s[1]):"stroke"===s[0]?this.setStroke(s[1]):"stroke-width"===s[0]?this.setStrokeWeight(s[1]):"stroke-linecap"===s[0]?this.setStrokeCap(s[1]):"stroke-linejoin"===s[0]?this.setStrokeJoin(s[1]):"stroke-opacity"===s[0]?this.setStrokeOpacity(s[1]):"opacity"===s[0]&&this.setOpacity(s[1])}},bi.prototype.setFillOpacity=function(e){this.fillOpacity=parseFloat(e),this.fillColor=255*this.fillOpacity<<24|16777215&this.fillColor},bi.prototype.setFill=function(e){var t=4278190080&this.fillColor;"none"===e?this.fill=!1:0===e.indexOf("#")?(this.fill=!0,4===e.length&&(e=e.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.fillColor=t|16777215&parseInt(e.substring(1),16)):0===e.indexOf("rgb")?(this.fill=!0,this.fillColor=t|this.parseRGB(e)):0===e.indexOf("url(#")?this.fillName=e.substring(5,e.length-1):L[e]&&(this.fill=!0,this.fillColor=t|16777215&parseInt(L[e].substring(1),16))},bi.prototype.setOpacity=function(e){this.strokeColor=255*parseFloat(e)<<24|16777215&this.strokeColor,this.fillColor=255*parseFloat(e)<<24|16777215&this.fillColor},bi.prototype.setStroke=function(e){var t=4278190080&this.strokeColor;"none"===e?this.stroke=!1:"#"===e.charAt(0)?(this.stroke=!0,4===e.length&&(e=e.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.strokeColor=t|16777215&parseInt(e.substring(1),16)):0===e.indexOf("rgb")?(this.stroke=!0,this.strokeColor=t|this.parseRGB(e)):0===e.indexOf("url(#")?this.strokeName=e.substring(5,e.length-1):L[e]&&(this.stroke=!0,this.strokeColor=t|16777215&parseInt(L[e].substring(1),16))},bi.prototype.setStrokeWeight=function(e){this.strokeWeight=this.parseUnitSize(e)},bi.prototype.setStrokeJoin=function(e){"miter"===e?this.strokeJoin="miter":"round"===e?this.strokeJoin="round":"bevel"===e&&(this.strokeJoin="bevel")},bi.prototype.setStrokeCap=function(e){"butt"===e?this.strokeCap="butt":"round"===e?this.strokeCap="round":"square"===e&&(this.strokeCap="square")},bi.prototype.setStrokeOpacity=function(e){this.strokeOpacity=parseFloat(e),this.strokeColor=255*this.strokeOpacity<<24|16777215&this.strokeColor},bi.prototype.parseRGB=function(e){var t=e.substring(e.indexOf("(")+1,e.indexOf(")")),n=t.split(", ");return n[0]<<16|n[1]<<8|n[2]},bi.prototype.parseUnitSize=function(e){var t=e.length-2;return 0>t?e:e.indexOf("pt")===t?1.25*parseFloat(e.substring(0,t)):e.indexOf("pc")===t?15*parseFloat(e.substring(0,t)):e.indexOf("mm")===t?3.543307*parseFloat(e.substring(0,t)):e.indexOf("cm")===t?35.43307*parseFloat(e.substring(0,t)):e.indexOf("in")===t?90*parseFloat(e.substring(0,t)):e.indexOf("px")===t?parseFloat(e.substring(0,t)):parseFloat(e)},Ct.shape=function(e,t,n,r,i){arguments.length>=1&&null!==arguments[0]&&e.isVisible()&&(Ct.pushMatrix(),3===Wr?5===arguments.length?(Ct.translate(t-r/2,n-i/2),Ct.scale(r/e.getWidth(),i/e.getHeight())):3===arguments.length?Ct.translate(t-e.getWidth()/2,-e.getHeight()/2):Ct.translate(-e.getWidth()/2,-e.getHeight()/2):0===Wr?5===arguments.length?(Ct.translate(t,n),Ct.scale(r/e.getWidth(),i/e.getHeight())):3===arguments.length&&Ct.translate(t,n):1===Wr&&(5===arguments.length?(r-=t,i-=n,Ct.translate(t,n),Ct.scale(r/e.getWidth(),i/e.getHeight())):3===arguments.length&&Ct.translate(t,n)),e.draw(Ct),(1===arguments.length&&3===Wr||arguments.length>1)&&Ct.popMatrix())},Ct.shapeMode=function(e){Wr=e},Ct.loadShape=function(e){return 1===arguments.length&&e.indexOf(".svg")>-1?new bi(null,e):null};var xi=function(e,t,n,r,i){this.fullName=e||"",this.name=t||"",this.namespace=n||"",this.value=r,this.type=i};xi.prototype={getName:function(){return this.name},getFullName:function(){return this.fullName},getNamespace:function(){return this.namespace},getValue:function(){return this.value},getType:function(){return this.type},setValue:function(e){this.value=e}};var wi=Ct.XMLElement=function(e,t,n,i){this.attributes=[],this.children=[],this.fullName=null,this.name=null,this.namespace="",this.content=null,this.parent=null,this.lineNr="",this.systemID="",this.type="ELEMENT",e&&("string"==typeof e?t===r&&e.indexOf("<")>-1?this.parse(e):(this.fullName=e,this.namespace=t,this.systemId=n,this.lineNr=i):this.parse(t))};wi.prototype={parse:function(e){var t;try{var n=e.substring(e.length-4);(".xml"===n||".svg"===n)&&(e=y(e)),t=(new DOMParser).parseFromString(e,"text/xml");var r=t.documentElement;if(!r)throw"Error loading document";return this.parseChildrenRecursive(null,r),this}catch(i){throw i}},parseChildrenRecursive:function(e,t){var n,r,i,s,o,a;if(e?(n=new wi(t.nodeName),n.parent=e):(this.fullName=t.localName,this.name=t.nodeName,n=this),3===t.nodeType&&""!==t.textContent)return this.createPCDataElement(t.textContent);if(4===t.nodeType)return this.createCDataElement(t.textContent);if(t.attributes)for(s=0,o=t.attributes.length;o>s;s++)i=t.attributes[s],r=new xi(i.getname,i.nodeName,i.namespaceURI,i.nodeValue,i.nodeType),n.attributes.push(r);if(t.childNodes)for(s=0,o=t.childNodes.length;o>s;s++){var u=t.childNodes[s];a=n.parseChildrenRecursive(n,u),null!==a&&n.children.push(a)}return n},createElement:function(e,t,n,i){return n===r?new wi(e,t):new wi(e,t,n,i)},createPCDataElement:function(e){if(""===e.replace(/^\s+$/g,""))return null;var t=new wi;return t.type="TEXT",t.content=e,t},createCDataElement:function(e){var t=this.createPCDataElement(e);if(null===t)return null;t.type="CDATA";var n,r={"<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"};for(n in r)Object.hasOwnProperty(r,n)||(e=e.replace(new RegExp(n,"g"),r[n]));return t.cdata=e,t},hasAttribute:function(){return 1===arguments.length?null!==this.getAttribute(arguments[0]):2===arguments.length?null!==this.getAttribute(arguments[0],arguments[1]):void 0},equals:function(e){if(!(e instanceof wi))return!1;var t,n;if(this.fullName!==e.fullName)return!1;if(this.attributes.length!==e.getAttributeCount())return!1;if(this.attributes.length!==e.attributes.length)return!1;var r,i,s;for(t=0,n=this.attributes.length;n>t;t++){if(r=this.attributes[t].getName(),i=this.attributes[t].getNamespace(),s=e.findAttribute(r,i),null===s)return!1;if(this.attributes[t].getValue()!==s.getValue())return!1;if(this.attributes[t].getType()!==s.getType())return!1}if(this.children.length!==e.getChildCount())return!1;if(this.children.length>0){var o,a;for(t=0,n=this.children.length;n>t;t++)if(o=this.getChild(t),a=e.getChild(t),!o.equals(a))return!1;return!0}return this.content===e.content},getContent:function(){if("TEXT"===this.type||"CDATA"===this.type)return this.content;var e=this.children;return 1!==e.length||"TEXT"!==e[0].type&&"CDATA"!==e[0].type?null:e[0].content},getAttribute:function(){var e;return 2===arguments.length?(e=this.findAttribute(arguments[0]),e?e.getValue():arguments[1]):1===arguments.length?(e=this.findAttribute(arguments[0]),e?e.getValue():null):3===arguments.length?(e=this.findAttribute(arguments[0],arguments[1]),e?e.getValue():arguments[2]):void 0},getStringAttribute:function(){return 1===arguments.length?this.getAttribute(arguments[0]):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getString:function(e){return this.getStringAttribute(e)},getFloatAttribute:function(){return 1===arguments.length?parseFloat(this.getAttribute(arguments[0],0)):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getFloat:function(e){return this.getFloatAttribute(e)},getIntAttribute:function(){return 1===arguments.length?this.getAttribute(arguments[0],0):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getInt:function(e){return this.getIntAttribute(e)},hasChildren:function(){return this.children.length>0},addChild:function(e){null!==e&&(e.parent=this,this.children.push(e))},insertChild:function(e,t){if(e){if(null===e.getLocalName()&&!this.hasChildren()){var n=this.children[this.children.length-1];if(null===n.getLocalName())return n.setContent(n.getContent()+e.getContent()),void 0}e.parent=this,this.children.splice(t,0,e)}},getChild:function(e){if("number"==typeof e)return this.children[e];if(-1!==e.indexOf("/"))return this.getChildRecursive(e.split("/"),0);for(var t,n,r=0,i=this.getChildCount();i>r;r++)if(t=this.getChild(r),n=t.getName(),null!==n&&n===e)return t;return null},getChildren:function(){if(1===arguments.length){if("number"==typeof arguments[0])return this.getChild(arguments[0]);if(-1!==arguments[0].indexOf("/"))return this.getChildrenRecursive(arguments[0].split("/"),0);for(var e,t,n=[],r=0,i=this.getChildCount();i>r;r++)e=this.getChild(r),t=e.getName(),null!==t&&t===arguments[0]&&n.push(e);return n}return this.children},getChildCount:function(){return this.children.length},getChildRecursive:function(e,t){if(t===e.length)return this;for(var n,r,i=e[t],s=0,o=this.getChildCount();o>s;s++)if(n=this.getChild(s),r=n.getName(),null!==r&&r===i)return n.getChildRecursive(e,t+1);return null},getChildrenRecursive:function(e,t){if(t===e.length-1)return this.getChildren(e[t]);for(var n=this.getChildren(e[t]),r=[],i=0;i<n.length;i++)r=r.concat(n[i].getChildrenRecursive(e,t+1));return r},isLeaf:function(){return!this.hasChildren()},listChildren:function(){for(var e=[],t=0,n=this.children.length;n>t;t++)e.push(this.getChild(t).getName());return e},removeAttribute:function(e,t){this.namespace=t||"";for(var n=0,r=this.attributes.length;r>n;n++)if(this.attributes[n].getName()===e&&this.attributes[n].getNamespace()===this.namespace){this.attributes.splice(n,1);break}},removeChild:function(e){if(e)for(var t=0,n=this.children.length;n>t;t++)if(this.children[t].equals(e)){this.children.splice(t,1);break}},removeChildAtIndex:function(e){this.children.length>e&&this.children.splice(e,1)},findAttribute:function(e,t){this.namespace=t||"";for(var n=0,r=this.attributes.length;r>n;n++)if(this.attributes[n].getName()===e&&this.attributes[n].getNamespace()===this.namespace)return this.attributes[n];return null},setAttribute:function(){var e;if(3===arguments.length){var t=arguments[0].indexOf(":"),n=arguments[0].substring(t+1);e=this.findAttribute(n,arguments[1]),e?e.setValue(arguments[2]):(e=new xi(arguments[0],n,arguments[1],arguments[2],"CDATA"),this.attributes.push(e))}else e=this.findAttribute(arguments[0]),e?e.setValue(arguments[1]):(e=new xi(arguments[0],arguments[0],null,arguments[1],"CDATA"),this.attributes.push(e))},setString:function(e,t){this.setAttribute(e,t)},setInt:function(e,t){this.setAttribute(e,t)},setFloat:function(e,t){this.setAttribute(e,t)},setContent:function(e){this.children.length>0&&F.debug("Tried to set content for XMLElement with children"),this.content=e},setName:function(){if(1===arguments.length)this.name=arguments[0],this.fullName=arguments[0],this.namespace=null;else{var e=arguments[0].indexOf(":");this.name=null===arguments[1]||0>e?arguments[0]:arguments[0].substring(e+1),this.fullName=arguments[0],this.namespace=arguments[1]}},getName:function(){return this.fullName},getLocalName:function(){return this.name},getAttributeCount:function(){return this.attributes.length},toString:function(){if("TEXT"===this.type)return this.content;if("CDATA"===this.type)return this.cdata;var e,t,n=this.fullName,r="<"+n;for(e=0;e<this.attributes.length;e++){var i=this.attributes[e];r+=" "+i.getName()+"="+'"'+i.getValue()+'"'}if(0===this.children.length)r+=""===this.content?"/>":">"+this.content+"</"+n+">";else{for(r+=">",t=0;t<this.children.length;t++)r+=this.children[t].toString();r+="</"+n+">"}return r}},wi.parse=function(e){var t=new wi;return t.parse(e),t};var Ai=Ct.XML=Ct.XMLElement;Ct.loadXML=function(e){return new Ai(Ct,e)};var Ti=function(e){for(var t=0,r=0;r<e.length;r++)t=0!==r?n.max(t,n.abs(e[r])):n.abs(e[r]);var i=(t+"").indexOf(".");return 0===i?i=1:-1===i&&(i=(t+"").length),i},Ci=Ct.PMatrix2D=function(){0===arguments.length?this.reset():1===arguments.length&&arguments[0]instanceof Ci?this.set(arguments[0].array()):6===arguments.length&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};Ci.prototype={set:function(){if(6===arguments.length){var e=arguments;this.set([e[0],e[1],e[2],e[3],e[4],e[5]])}else 1===arguments.length&&arguments[0]instanceof Ci?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new Ci;return e.set(this.elements),e},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},translate:function(e,t){this.elements[2]=e*this.elements[0]+t*this.elements[1]+this.elements[2],this.elements[5]=e*this.elements[3]+t*this.elements[4]+this.elements[5]},invTranslate:function(e,t){this.translate(-e,-t)},transpose:function(){},mult:function(e,t){var n,r;return e instanceof k?(n=e.x,r=e.y,t||(t=new k)):e instanceof Array&&(n=e[0],r=e[1],t||(t=[])),t instanceof Array?(t[0]=this.elements[0]*n+this.elements[1]*r+this.elements[2],t[1]=this.elements[3]*n+this.elements[4]*r+this.elements[5]):t instanceof k&&(t.x=this.elements[0]*n+this.elements[1]*r+this.elements[2],t.y=this.elements[3]*n+this.elements[4]*r+this.elements[5],t.z=0),t},multX:function(e,t){return e*this.elements[0]+t*this.elements[1]+this.elements[2]},multY:function(e,t){return e*this.elements[3]+t*this.elements[4]+this.elements[5]},skewX:function(e){this.apply(1,0,1,e,0,0)},skewY:function(e){this.apply(1,0,1,0,e,0)},shearX:function(e){this.apply(1,0,1,n.tan(e),0,0)},shearY:function(e){this.apply(1,0,1,0,n.tan(e),0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var e=this.determinant();if(n.abs(e)>-2147483648){var t=this.elements[0],r=this.elements[1],i=this.elements[2],s=this.elements[3],o=this.elements[4],a=this.elements[5];return this.elements[0]=o/e,this.elements[3]=-s/e,this.elements[1]=-r/e,this.elements[4]=t/e,this.elements[2]=(r*a-o*i)/e,this.elements[5]=(s*i-t*a)/e,!0}return!1},scale:function(e,t){e&&!t&&(t=e),e&&t&&(this.elements[0]*=e,this.elements[1]*=t,this.elements[3]*=e,this.elements[4]*=t)},invScale:function(e,t){e&&!t&&(t=e),this.scale(1/e,1/t)},apply:function(){var e;1===arguments.length&&arguments[0]instanceof Ci?e=arguments[0].array():6===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var t=[0,0,this.elements[2],0,0,this.elements[5]],n=0,r=0;2>r;r++)for(var i=0;3>i;i++,n++)t[n]+=this.elements[3*r+0]*e[i+0]+this.elements[3*r+1]*e[i+3];this.elements=t.slice()},preApply:function(){var e;1===arguments.length&&arguments[0]instanceof Ci?e=arguments[0].array():6===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);var t=[0,0,e[2],0,0,e[5]];t[2]=e[2]+this.elements[2]*e[0]+this.elements[5]*e[1],t[5]=e[5]+this.elements[2]*e[3]+this.elements[5]*e[4],t[0]=this.elements[0]*e[0]+this.elements[3]*e[1],t[3]=this.elements[0]*e[3]+this.elements[3]*e[4],t[1]=this.elements[1]*e[0]+this.elements[4]*e[1],t[4]=this.elements[1]*e[3]+this.elements[4]*e[4],this.elements=t.slice()},rotate:function(e){var t=n.cos(e),r=n.sin(e),i=this.elements[0],s=this.elements[1];this.elements[0]=t*i+r*s,this.elements[1]=-r*i+t*s,i=this.elements[3],s=this.elements[4],this.elements[3]=t*i+r*s,this.elements[4]=-r*i+t*s},rotateZ:function(e){this.rotate(e)},invRotateZ:function(e){this.rotateZ(e-n.PI)},print:function(){var e=Ti(this.elements),t=""+Ct.nfs(this.elements[0],e,4)+" "+Ct.nfs(this.elements[1],e,4)+" "+Ct.nfs(this.elements[2],e,4)+"\n"+Ct.nfs(this.elements[3],e,4)+" "+Ct.nfs(this.elements[4],e,4)+" "+Ct.nfs(this.elements[5],e,4)+"\n\n";Ct.println(t)}};var Si=Ct.PMatrix3D=function(){this.reset()};Si.prototype={set:function(){16===arguments.length?this.elements=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Si?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new Si;return e.set(this.elements),e},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function(){return this.elements.slice()},translate:function(e,t,n){n===r&&(n=0),this.elements[3]+=e*this.elements[0]+t*this.elements[1]+n*this.elements[2],this.elements[7]+=e*this.elements[4]+t*this.elements[5]+n*this.elements[6],this.elements[11]+=e*this.elements[8]+t*this.elements[9]+n*this.elements[10],this.elements[15]+=e*this.elements[12]+t*this.elements[13]+n*this.elements[14]},transpose:function(){var e=this.elements[4];this.elements[4]=this.elements[1],this.elements[1]=e,e=this.elements[8],this.elements[8]=this.elements[2],this.elements[2]=e,e=this.elements[6],this.elements[6]=this.elements[9],this.elements[9]=e,e=this.elements[3],this.elements[3]=this.elements[12],this.elements[12]=e,e=this.elements[7],this.elements[7]=this.elements[13],this.elements[13]=e,e=this.elements[11],this.elements[11]=this.elements[14],this.elements[14]=e},mult:function(e,t){var n,r,i,s;return e instanceof k?(n=e.x,r=e.y,i=e.z,s=1,t||(t=new k)):e instanceof Array&&(n=e[0],r=e[1],i=e[2],s=e[3]||1,(!t||3!==t.length&&4!==t.length)&&(t=[0,0,0])),t instanceof Array&&(3===t.length?(t[0]=this.elements[0]*n+this.elements[1]*r+this.elements[2]*i+this.elements[3],t[1]=this.elements[4]*n+this.elements[5]*r+this.elements[6]*i+this.elements[7],t[2]=this.elements[8]*n+this.elements[9]*r+this.elements[10]*i+this.elements[11]):4===t.length&&(t[0]=this.elements[0]*n+this.elements[1]*r+this.elements[2]*i+this.elements[3]*s,t[1]=this.elements[4]*n+this.elements[5]*r+this.elements[6]*i+this.elements[7]*s,t[2]=this.elements[8]*n+this.elements[9]*r+this.elements[10]*i+this.elements[11]*s,t[3]=this.elements[12]*n+this.elements[13]*r+this.elements[14]*i+this.elements[15]*s)),t instanceof k&&(t.x=this.elements[0]*n+this.elements[1]*r+this.elements[2]*i+this.elements[3],t.y=this.elements[4]*n+this.elements[5]*r+this.elements[6]*i+this.elements[7],t.z=this.elements[8]*n+this.elements[9]*r+this.elements[10]*i+this.elements[11]),t},preApply:function(){var e;1===arguments.length&&arguments[0]instanceof Si?e=arguments[0].array():16===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0,r=0;4>r;r++)for(var i=0;4>i;i++,n++)t[n]+=this.elements[i+0]*e[4*r+0]+this.elements[i+4]*e[4*r+1]+this.elements[i+8]*e[4*r+2]+this.elements[i+12]*e[4*r+3];this.elements=t.slice()},apply:function(){var e;1===arguments.length&&arguments[0]instanceof Si?e=arguments[0].array():16===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0,r=0;4>r;r++)for(var i=0;4>i;i++,n++)t[n]+=this.elements[4*r+0]*e[i+0]+this.elements[4*r+1]*e[i+4]+this.elements[4*r+2]*e[i+8]+this.elements[4*r+3]*e[i+12];this.elements=t.slice()},rotate:function(e,t,n,r){if(n){var i=Ct.cos(e),s=Ct.sin(e),o=1-i;this.apply(o*t*t+i,o*t*n-s*r,o*t*r+s*n,0,o*t*n+s*r,o*n*n+i,o*n*r-s*t,0,o*t*r-s*n,o*n*r+s*t,o*r*r+i,0,0,0,0,1)}else this.rotateZ(e)},invApply:function(){Ar===r&&(Ar=new Si);var e=arguments;return Ar.set(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),Ar.invert()?(this.preApply(Ar),!0):!1},rotateX:function(e){var t=Ct.cos(e),n=Ct.sin(e);this.apply([1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1])},rotateY:function(e){var t=Ct.cos(e),n=Ct.sin(e);this.apply([t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1])},rotateZ:function(e){var t=n.cos(e),r=n.sin(e);this.apply([t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1])},scale:function(e,t,n){!e||t||n?e&&t&&!n&&(n=1):t=n=e,e&&t&&n&&(this.elements[0]*=e,this.elements[1]*=t,this.elements[2]*=n,this.elements[4]*=e,this.elements[5]*=t,this.elements[6]*=n,this.elements[8]*=e,this.elements[9]*=t,this.elements[10]*=n,this.elements[12]*=e,this.elements[13]*=t,this.elements[14]*=n)},skewX:function(e){var t=n.tan(e);this.apply(1,t,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(e){var t=n.tan(e);this.apply(1,0,0,0,t,1,0,0,0,0,1,0,0,0,0,1)},shearX:function(e){var t=n.tan(e);this.apply(1,t,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},shearY:function(e){var t=n.tan(e);this.apply(1,0,0,0,t,1,0,0,0,0,1,0,0,0,0,1)},multX:function(e,t,n,r){return n?r?this.elements[0]*e+this.elements[1]*t+this.elements[2]*n+this.elements[3]*r:this.elements[0]*e+this.elements[1]*t+this.elements[2]*n+this.elements[3]:this.elements[0]*e+this.elements[1]*t+this.elements[3]},multY:function(e,t,n,r){return n?r?this.elements[4]*e+this.elements[5]*t+this.elements[6]*n+this.elements[7]*r:this.elements[4]*e+this.elements[5]*t+this.elements[6]*n+this.elements[7]:this.elements[4]*e+this.elements[5]*t+this.elements[7]},multZ:function(e,t,n,r){return r?this.elements[8]*e+this.elements[9]*t+this.elements[10]*n+this.elements[11]*r:this.elements[8]*e+this.elements[9]*t+this.elements[10]*n+this.elements[11]},multW:function(e,t,n,r){return r?this.elements[12]*e+this.elements[13]*t+this.elements[14]*n+this.elements[15]*r:this.elements[12]*e+this.elements[13]*t+this.elements[14]*n+this.elements[15]},invert:function(){var e=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4],t=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4],r=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],i=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],s=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5],o=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],a=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],u=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12],l=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12],c=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],h=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],f=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14],p=e*f-t*h+r*c+i*l-s*u+o*a;if(n.abs(p)<=1e-9)return!1;var d=[];d[0]=+this.elements[5]*f-this.elements[6]*h+this.elements[7]*c,d[4]=-this.elements[4]*f+this.elements[6]*l-this.elements[7]*u,d[8]=+this.elements[4]*h-this.elements[5]*l+this.elements[7]*a,d[12]=-this.elements[4]*c+this.elements[5]*u-this.elements[6]*a,d[1]=-this.elements[1]*f+this.elements[2]*h-this.elements[3]*c,d[5]=+this.elements[0]*f-this.elements[2]*l+this.elements[3]*u,d[9]=-this.elements[0]*h+this.elements[1]*l-this.elements[3]*a,d[13]=+this.elements[0]*c-this.elements[1]*u+this.elements[2]*a,d[2]=+this.elements[13]*o-this.elements[14]*s+this.elements[15]*i,d[6]=-this.elements[12]*o+this.elements[14]*r-this.elements[15]*t,d[10]=+this.elements[12]*s-this.elements[13]*r+this.elements[15]*e,d[14]=-this.elements[12]*i+this.elements[13]*t-this.elements[14]*e,d[3]=-this.elements[9]*o+this.elements[10]*s-this.elements[11]*i,d[7]=+this.elements[8]*o-this.elements[10]*r+this.elements[11]*t,d[11]=-this.elements[8]*s+this.elements[9]*r-this.elements[11]*e,d[15]=+this.elements[8]*i-this.elements[9]*t+this.elements[10]*e;var g=1/p;return d[0]*=g,d[1]*=g,d[2]*=g,d[3]*=g,d[4]*=g,d[5]*=g,d[6]*=g,d[7]*=g,d[8]*=g,d[9]*=g,d[10]*=g,d[11]*=g,d[12]*=g,d[13]*=g,d[14]*=g,d[15]*=g,this.elements=d.slice(),!0},toString:function(){for(var e="",t=0;15>t;t++)e+=this.elements[t]+", ";return e+=this.elements[15]},print:function(){var e=Ti(this.elements),t=""+Ct.nfs(this.elements[0],e,4)+" "+Ct.nfs(this.elements[1],e,4)+" "+Ct.nfs(this.elements[2],e,4)+" "+Ct.nfs(this.elements[3],e,4)+"\n"+Ct.nfs(this.elements[4],e,4)+" "+Ct.nfs(this.elements[5],e,4)+" "+Ct.nfs(this.elements[6],e,4)+" "+Ct.nfs(this.elements[7],e,4)+"\n"+Ct.nfs(this.elements[8],e,4)+" "+Ct.nfs(this.elements[9],e,4)+" "+Ct.nfs(this.elements[10],e,4)+" "+Ct.nfs(this.elements[11],e,4)+"\n"+Ct.nfs(this.elements[12],e,4)+" "+Ct.nfs(this.elements[13],e,4)+" "+Ct.nfs(this.elements[14],e,4)+" "+Ct.nfs(this.elements[15],e,4)+"\n\n";Ct.println(t)},invTranslate:function(e,t,n){this.preApply(1,0,0,-e,0,1,0,-t,0,0,1,-n,0,0,0,1)},invRotateX:function(e){var t=n.cos(-e),r=n.sin(-e);this.preApply([1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1])},invRotateY:function(e){var t=n.cos(-e),r=n.sin(-e);this.preApply([t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1])},invRotateZ:function(e){var t=n.cos(-e),r=n.sin(-e);this.preApply([t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1])},invScale:function(e,t,n){this.preApply([1/e,0,0,0,0,1/t,0,0,0,0,1/n,0,0,0,0,1])}};var Ei=Ct.PMatrixStack=function(){this.matrixStack=[]};Ei.prototype.load=function(){var e=Pt.$newPMatrix();1===arguments.length?e.set(arguments[0]):e.set(arguments),this.matrixStack.push(e)},pi.prototype.$newPMatrix=function(){return new Ci},di.prototype.$newPMatrix=function(){return new Si},Ei.prototype.push=function(){this.matrixStack.push(this.peek())},Ei.prototype.pop=function(){return this.matrixStack.pop()},Ei.prototype.peek=function(){var e=Pt.$newPMatrix();return e.set(this.matrixStack[this.matrixStack.length-1]),e},Ei.prototype.mult=function(e){this.matrixStack[this.matrixStack.length-1].apply(e)},Ct.split=function(e,t){return e.split(t)},Ct.splitTokens=function(e,t){if(t===r)return e.split(/\s+/g);var n,i,s=t.split(/()/g),o="",a=e.length,u=[];for(n=0;a>n;n++)i=e[n],s.indexOf(i)>-1?(""!==o&&u.push(o),o=""):o+=i;return""!==o&&u.push(o),u},Ct.append=function(e,t){return e[e.length]=t,e},Ct.concat=function(e,t){return e.concat(t)},Ct.sort=function(e,t){var n=[];if(e.length>0){for(var r=t>0?t:e.length,i=0;r>i;i++)n.push(e[i]);if("string"==typeof e[0]?n.sort():n.sort(function(e,t){return e-t}),t>0)for(var s=n.length;s<e.length;s++)n.push(e[s])}return n},Ct.splice=function(e,t,n){if(0===t.length)return e;if(t instanceof Array)for(var r=0,i=n;r<t.length;i++,r++)e.splice(i,0,t[r]);else e.splice(n,0,t);return e},Ct.subset=function(e,t,n){var i=n!==r?t+n:e.length;return e.slice(t,i)},Ct.join=function(e,t){return e.join(t)},Ct.shorten=function(e){for(var t=[],n=e.length,r=0;n>r;r++)t[r]=e[r];return t.pop(),t},Ct.expand=function(e,t){var n=e.slice(0),r=t||2*e.length;return n.length=r,n},Ct.arrayCopy=function(){var e,t,n,i=0,s=0;2===arguments.length?(e=arguments[0],t=arguments[1],n=e.length):3===arguments.length?(e=arguments[0],t=arguments[1],n=arguments[2]):5===arguments.length&&(e=arguments[0],i=arguments[1],t=arguments[2],s=arguments[3],n=arguments[4]);for(var o=i,a=s;n+i>o;o++,a++){if(t[a]===r)throw"array index out of bounds exception";t[a]=e[o]}},Ct.reverse=function(e){return e.reverse()},Ct.mix=function(e,t,n){return e+((t-e)*n>>8)},Ct.peg=function(e){return 0>e?0:e>255?255:e},Ct.modes=function(){function e(e,t,n,r,i,s,a,u,l,c,h){var f=o(((4278190080&e)>>>24)+t,255)<<24,p=n+((l-n)*t>>8);p=(0>p?0:p>255?255:p)<<16;var d=r+((c-r)*t>>8);d=(0>d?0:d>255?255:d)<<8;var g=i+((h-i)*t>>8);return g=0>g?0:g>255?255:g,f|p|d|g}var t=4278190080,r=16711680,i=65280,s=255,o=n.min,a=n.max;return{replace:function(e,t){return t},blend:function(e,n){var a=(n&t)>>>24,u=e&r,l=e&i,c=e&s,h=n&r,f=n&i,p=n&s;return o(((e&t)>>>24)+a,255)<<24|u+((h-u)*a>>8)&r|l+((f-l)*a>>8)&i|c+((p-c)*a>>8)&s},add:function(e,n){var a=(n&t)>>>24;return o(((e&t)>>>24)+a,255)<<24|o((e&r)+((n&r)>>8)*a,r)&r|o((e&i)+((n&i)>>8)*a,i)&i|o((e&s)+((n&s)*a>>8),s)},subtract:function(e,n){var u=(n&t)>>>24;return o(((e&t)>>>24)+u,255)<<24|a((e&r)-((n&r)>>8)*u,i)&r|a((e&i)-((n&i)>>8)*u,s)&i|a((e&s)-((n&s)*u>>8),0)},lightest:function(e,n){var u=(n&t)>>>24;return o(((e&t)>>>24)+u,255)<<24|a(e&r,((n&r)>>8)*u)&r|a(e&i,((n&i)>>8)*u)&i|a(e&s,(n&s)*u>>8)},darkest:function(e,n){var a=(n&t)>>>24,u=e&r,l=e&i,c=e&s,h=o(e&r,((n&r)>>8)*a),f=o(e&i,((n&i)>>8)*a),p=o(e&s,(n&s)*a>>8);return o(((e&t)>>>24)+a,255)<<24|u+((h-u)*a>>8)&r|l+((f-l)*a>>8)&i|c+((p-c)*a>>8)&s},difference:function(n,o){var a=(o&t)>>>24,u=(n&r)>>16,l=(n&i)>>8,c=n&s,h=(o&r)>>16,f=(o&i)>>8,p=o&s,d=u>h?u-h:h-u,g=l>f?l-f:f-l,m=c>p?c-p:p-c;return e(n,a,u,l,c,h,f,p,d,g,m)},exclusion:function(n,o){var a=(o&t)>>>24,u=(n&r)>>16,l=(n&i)>>8,c=n&s,h=(o&r)>>16,f=(o&i)>>8,p=o&s,d=u+h-(u*h>>7),g=l+f-(l*f>>7),m=c+p-(c*p>>7);return e(n,a,u,l,c,h,f,p,d,g,m)},multiply:function(n,o){var a=(o&t)>>>24,u=(n&r)>>16,l=(n&i)>>8,c=n&s,h=(o&r)>>16,f=(o&i)>>8,p=o&s,d=u*h>>8,g=l*f>>8,m=c*p>>8;return e(n,a,u,l,c,h,f,p,d,g,m)},screen:function(n,o){var a=(o&t)>>>24,u=(n&r)>>16,l=(n&i)>>8,c=n&s,h=(o&r)>>16,f=(o&i)>>8,p=o&s,d=255-((255-u)*(255-h)>>8),g=255-((255-l)*(255-f)>>8),m=255-((255-c)*(255-p)>>8);return e(n,a,u,l,c,h,f,p,d,g,m)},hard_light:function(n,o){var a=(o&t)>>>24,u=(n&r)>>16,l=(n&i)>>8,c=n&s,h=(o&r)>>16,f=(o&i)>>8,p=o&s,d=128>h?u*h>>7:255-((255-u)*(255-h)>>7),g=128>f?l*f>>7:255-((255-l)*(255-f)>>7),m=128>p?c*p>>7:255-((255-c)*(255-p)>>7);return e(n,a,u,l,c,h,f,p,d,g,m)},soft_light:function(n,o){var a=(o&t)>>>24,u=(n&r)>>16,l=(n&i)>>8,c=n&s,h=(o&r)>>16,f=(o&i)>>8,p=o&s,d=(u*h>>7)+(u*u>>8)-(u*u*h>>15),g=(l*f>>7)+(l*l>>8)-(l*l*f>>15),m=(c*p>>7)+(c*c>>8)-(c*c*p>>15);return e(n,a,u,l,c,h,f,p,d,g,m)},overlay:function(n,o){var a=(o&t)>>>24,u=(n&r)>>16,l=(n&i)>>8,c=n&s,h=(o&r)>>16,f=(o&i)>>8,p=o&s,d=128>u?u*h>>7:255-((255-u)*(255-h)>>7),g=128>l?l*f>>7:255-((255-l)*(255-f)>>7),m=128>c?c*p>>7:255-((255-c)*(255-p)>>7);
return e(n,a,u,l,c,h,f,p,d,g,m)},dodge:function(n,o){var a=(o&t)>>>24,u=(n&r)>>16,l=(n&i)>>8,c=n&s,h=(o&r)>>16,f=(o&i)>>8,p=o&s,d=255;255!==h&&(d=(u<<8)/(255-h),d=0>d?0:d>255?255:d);var g=255;255!==f&&(g=(l<<8)/(255-f),g=0>g?0:g>255?255:g);var m=255;return 255!==p&&(m=(c<<8)/(255-p),m=0>m?0:m>255?255:m),e(n,a,u,l,c,h,f,p,d,g,m)},burn:function(n,o){var a=(o&t)>>>24,u=(n&r)>>16,l=(n&i)>>8,c=n&s,h=(o&r)>>16,f=(o&i)>>8,p=o&s,d=0;0!==h&&(d=(255-u<<8)/h,d=255-(0>d?0:d>255?255:d));var g=0;0!==f&&(g=(255-l<<8)/f,g=255-(0>g?0:g>255?255:g));var m=0;return 0!==p&&(m=(255-c<<8)/p,m=255-(0>m?0:m>255?255:m)),e(n,a,u,l,c,h,f,p,d,g,m)}}}(),Ct.color=function(e,t,n,i){return e!==r&&t!==r&&n!==r&&i!==r?d(e,t,n,i):e!==r&&t!==r&&n!==r?d(e,t,n,$n):e!==r&&t!==r?g(e,t):"number"==typeof e?v(e):d(Bn,zn,jn,$n)},Ct.color.toString=function(e){return"rgba("+(255&e>>16)+","+(255&e>>8)+","+(255&e)+","+(255&e>>24)/255+")"},Ct.color.toInt=function(e,t,n,r){return 4278190080&r<<24|16711680&e<<16|65280&t<<8|255&n},Ct.color.toArray=function(e){return[255&e>>16,255&e>>8,255&e,255&e>>24]},Ct.color.toGLArray=function(e){return[((16711680&e)>>>16)/255,(255&e>>8)/255,(255&e)/255,(255&e>>24)/255]},Ct.color.toRGB=function(e,t,r){e=e>Bn?Bn:e,t=t>zn?zn:t,r=r>jn?jn:r,e=360*(e/Bn),t=100*(t/zn),r=100*(r/jn);var i=n.round(255*(r/100));if(0===t)return[i,i,i];var s=e%360,o=s%60,a=n.round(255*(r*(100-t)/1e4)),u=n.round(255*(r*(6e3-t*o)/6e5)),l=n.round(255*(r*(6e3-t*(60-o))/6e5));switch(n.floor(s/60)){case 0:return[i,l,a];case 1:return[u,i,a];case 2:return[a,i,l];case 3:return[a,u,i];case 4:return[l,a,i];case 5:return[i,a,u]}},Ct.brightness=function(e){return b(e)[2]},Ct.saturation=function(e){return b(e)[1]},Ct.hue=function(e){return b(e)[0]},Ct.red=function(e){return(255&e>>16)/255*Bn},Ct.green=function(e){return((65280&e)>>>8)/255*zn},Ct.blue=function(e){return(255&e)/255*jn},Ct.alpha=function(e){return(255&e>>24)/255*$n},Ct.lerpColor=function(e,t,n){var r,i,s,o,a,u,l,c,h,f,p,d,g,m,v,y,x,w=Ct.color(e),A=Ct.color(t);return 3===Un?(g=b(w),c=(255&w>>24)/$n,m=b(A),d=((4278190080&A)>>>24)/$n,y=Ct.lerp(g[0],m[0],n),x=Ct.lerp(g[1],m[1],n),s=Ct.lerp(g[2],m[2],n),v=Ct.color.toRGB(y,x,s),o=Ct.lerp(c,d,n)*$n,4278190080&o<<24|(255&v[0])<<16|(255&v[1])<<8|255&v[2]):(a=255&w>>16,u=255&w>>8,l=255&w,c=(255&w>>24)/$n,h=(16711680&A)>>>16,f=255&A>>8,p=255&A,d=(255&A>>24)/$n,r=0|Ct.lerp(a,h,n),i=0|Ct.lerp(u,f,n),s=0|Ct.lerp(l,p,n),o=Ct.lerp(c,d,n)*$n,4278190080&o<<24|16711680&r<<16|65280&i<<8|255&s)},Ct.colorMode=function(){Un=arguments[0],arguments.length>1&&(Bn=arguments[1],zn=arguments[2]||arguments[1],jn=arguments[3]||arguments[1],$n=arguments[4]||arguments[1])},Ct.blendColor=function(e,t,n){return 0===n?Ct.modes.replace(e,t):1===n?Ct.modes.blend(e,t):2===n?Ct.modes.add(e,t):4===n?Ct.modes.subtract(e,t):8===n?Ct.modes.lightest(e,t):16===n?Ct.modes.darkest(e,t):32===n?Ct.modes.difference(e,t):64===n?Ct.modes.exclusion(e,t):128===n?Ct.modes.multiply(e,t):256===n?Ct.modes.screen(e,t):1024===n?Ct.modes.hard_light(e,t):2048===n?Ct.modes.soft_light(e,t):512===n?Ct.modes.overlay(e,t):4096===n?Ct.modes.dodge(e,t):8192===n?Ct.modes.burn(e,t):void 0},Ct.printMatrix=function(){yr.print()},pi.prototype.translate=function(e,t){yr.translate(e,t),br.invTranslate(e,t),St.translate(e,t)},di.prototype.translate=function(e,t,n){yr.translate(e,t,n),br.invTranslate(e,t,n)},pi.prototype.scale=function(e,t){yr.scale(e,t),br.invScale(e,t),St.scale(e,t||e)},di.prototype.scale=function(e,t,n){yr.scale(e,t,n),br.invScale(e,t,n)},pi.prototype.transform=function(e){var t=e.array();St.transform(t[0],t[3],t[1],t[4],t[2],t[5])},di.prototype.transformm=function(){throw"p.transform is currently not supported in 3D mode"},pi.prototype.pushMatrix=function(){xr.load(yr),wr.load(br),S()},di.prototype.pushMatrix=function(){xr.load(yr),wr.load(br)},pi.prototype.popMatrix=function(){yr.set(xr.pop()),br.set(wr.pop()),E()},di.prototype.popMatrix=function(){yr.set(xr.pop()),br.set(wr.pop())},pi.prototype.resetMatrix=function(){yr.reset(),br.reset(),St.setTransform(1,0,0,1,0,0)},di.prototype.resetMatrix=function(){yr.reset(),br.reset()},fi.prototype.applyMatrix=function(){var e=arguments;yr.apply(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),br.invApply(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},pi.prototype.applyMatrix=function(){for(var e=arguments,t=e.length;16>t;t++)e[t]=0;e[10]=e[15]=1,fi.prototype.applyMatrix.apply(this,e)},Ct.rotateX=function(e){yr.rotateX(e),br.invRotateX(e)},pi.prototype.rotateZ=function(){throw"rotateZ() is not supported in 2D mode. Use rotate(float) instead."},di.prototype.rotateZ=function(e){yr.rotateZ(e),br.invRotateZ(e)},Ct.rotateY=function(e){yr.rotateY(e),br.invRotateY(e)},pi.prototype.rotate=function(e){yr.rotateZ(e),br.invRotateZ(e),St.rotate(e)},di.prototype.rotate=function(e){Ct.rotateZ(e)},pi.prototype.shearX=function(e){yr.shearX(e),St.transform(1,0,e,1,0,0)},di.prototype.shearX=function(e){yr.shearX(e)},pi.prototype.shearY=function(e){yr.shearY(e),St.transform(1,e,0,1,0,0)},di.prototype.shearY=function(e){yr.shearY(e)},Ct.pushStyle=function(){S(),Ct.pushMatrix();var e={doFill:un,currentFillColor:cn,doStroke:fn,currentStrokeColor:dn,curTint:Xn,curRectMode:wn,curColorMode:Un,colorModeX:Bn,colorModeZ:jn,colorModeY:zn,colorModeA:$n,curTextFont:ur,horizontalTextAlignment:er,verticalTextAlignment:tr,textMode:nr,curFontName:rr,curTextSize:ir,curTextAscent:sr,curTextDescent:or,curTextLeading:ar};Gr.push(e)},Ct.popStyle=function(){var e=Gr.pop();if(!e)throw"Too many popStyle() without enough pushStyle()";E(),Ct.popMatrix(),un=e.doFill,cn=e.currentFillColor,fn=e.doStroke,dn=e.currentStrokeColor,Xn=e.curTint,wn=e.curRectMode,Un=e.curColorMode,Bn=e.colorModeX,jn=e.colorModeZ,zn=e.colorModeY,$n=e.colorModeA,ur=e.curTextFont,rr=e.curFontName,ir=e.curTextSize,er=e.horizontalTextAlignment,tr=e.verticalTextAlignment,nr=e.textMode,sr=e.curTextAscent,or=e.curTextDescent,ar=e.curTextLeading},Ct.year=function(){return(new Date).getFullYear()},Ct.month=function(){return(new Date).getMonth()+1},Ct.day=function(){return(new Date).getDate()},Ct.hour=function(){return(new Date).getHours()},Ct.minute=function(){return(new Date).getMinutes()},Ct.second=function(){return(new Date).getSeconds()},Ct.millis=function(){return Date.now()-Wn},pi.prototype.redraw=function(){P(),St.lineWidth=mn;var e=Ct.pmouseX,t=Ct.pmouseY;Ct.pmouseX=Hn,Ct.pmouseY=Vn,S(),Ct.draw(),E(),Hn=Ct.mouseX,Vn=Ct.mouseY,Ct.pmouseX=e,Ct.pmouseY=t},di.prototype.redraw=function(){P();var e=Ct.pmouseX,t=Ct.pmouseY;Ct.pmouseX=Hn,Ct.pmouseY=Vn,St.clear(St.DEPTH_BUFFER_BIT),Zn={attributes:{},locations:{}},Ct.noLights(),Ct.lightFalloff(1,0,0),Ct.shininess(1),Ct.ambient(255,255,255),Ct.specular(0,0,0),Ct.emissive(0,0,0),Ct.camera(),Ct.draw(),Hn=Ct.mouseX,Vn=Ct.mouseY,Ct.pmouseX=e,Ct.pmouseY=t},Ct.noLoop=function(){bn=!1,vn=!1,clearInterval(xn),Et.onPause()},Ct.loop=function(){vn||(Gn=Date.now(),Yn=0,xn=e.setInterval(function(){try{Et.onFrameStart(),Ct.redraw(),Et.onFrameEnd()}catch(t){throw e.clearInterval(xn),t}},kn),bn=!0,vn=!0,Et.onLoop())},Ct.frameRate=function(e){Pn=e,kn=1e3/Pn,bn&&(Ct.noLoop(),Ct.loop())};var Pi=[];Ct.exit=function(){e.clearInterval(xn),R(Ct.externals.canvas.id),delete At.onmousedown;for(var t in F.lib)F.lib.hasOwnProperty(t)&&F.lib[t].hasOwnProperty("detach")&&F.lib[t].detach(Ct);for(var n=Pi.length;n--;)D(Pi[n]);Et.onExit()},Ct.cursor=function(){if(arguments.length>1||1===arguments.length&&arguments[0]instanceof Ct.PImage){var e,t,n=arguments[0];if(arguments.length>=3){if(e=arguments[1],t=arguments[2],0>e||0>t||t>=n.height||e>=n.width)throw"x and y must be non-negative and less than the dimensions of the image"}else e=n.width>>>1,t=n.height>>>1;var r=n.toDataURL(),i='url("'+r+'") '+e+" "+t+", default";_n=At.style.cursor=i}else if(1===arguments.length){var s=arguments[0];_n=At.style.cursor=s}else _n=At.style.cursor=Ln},Ct.noCursor=function(){_n=At.style.cursor=C.NOCURSOR},Ct.link=function(t,n){n!==r?e.open(t,n):e.location=t},Ct.beginDraw=m,Ct.endDraw=m,pi.prototype.toImageData=function(e,t,n,i){return e=e!==r?e:0,t=t!==r?t:0,n=n!==r?n:Ct.width,i=i!==r?i:Ct.height,St.getImageData(e,t,n,i)},di.prototype.toImageData=function(e,i,s,o){e=e!==r?e:0,i=i!==r?i:0,s=s!==r?s:Ct.width,o=o!==r?o:Ct.height;var a=t.createElement("canvas"),u=a.getContext("2d"),l=u.createImageData(s,o),c=new T(4*s*o);St.readPixels(e,i,s,o,St.RGBA,St.UNSIGNED_BYTE,c);for(var h=0,f=c.length,p=l.data;f>h;h++)p[h]=c[4*(o-1-n.floor(h/4/s))*s+h%(4*s)];return l},Ct.status=function(t){e.status=t},Ct.binary=function(e,t){var n;if(t>0)n=t;else if(e instanceof vi)n=16,e|=0;else for(n=32;n>1&&!(1&e>>>n-1);)n--;for(var r="";n>0;)r+=1&e>>>--n?"1":"0";return r},Ct.unbinary=function(e){for(var t=e.length-1,n=1,r=0;t>=0;){var i=e[t--];if("0"!==i&&"1"!==i)throw"the value passed into unbinary was not an 8 bit binary number";"1"===i&&(r+=n),n<<=1}return r},Ct.nf=function(e,t,n){return O(e,"","-",t,n)},Ct.nfs=function(e,t,n){return O(e," ","-",t,n)},Ct.nfp=function(e,t,n){return O(e,"+","-",t,n)},Ct.nfc=function(e,t,n){return O(e,"","-",t,n,",")};var ki=function(e,t){t=t===r||null===t?t=8:t,0>e&&(e=4294967295+e+1);for(var n=Number(e).toString(16).toUpperCase();n.length<t;)n="0"+n;return n.length>=t&&(n=n.substring(n.length-t,n.length)),n};Ct.hex=function(e,t){return 1===arguments.length&&(t=e instanceof vi?4:8),ki(e,t)},Ct.unhex=function(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push($(e[n]));return t}return $(e)},Ct.loadStrings=function(e){if(localStorage[e])return localStorage[e].split("\n");var t=y(e);return"string"!=typeof t||""===t?[]:(t=t.replace(/(\r\n?)/g,"\n").replace(/\n$/,""),t.split("\n"))},Ct.saveStrings=function(e,t){localStorage[e]=t.join("\n")},Ct.loadBytes=function(e){for(var t=y(e),n=[],r=0;r<t.length;r++)n.push(t.charCodeAt(r));return n},Ct.matchAll=function(e,t){for(var n,r=[],i=new RegExp(t,"g");null!==(n=i.exec(e));)r.push(n),0===n[0].length&&++i.lastIndex;return r.length>0?r:null},Ct.__contains=function(e,t){return"string"!=typeof e?e.contains.apply(e,B(arguments)):null!==e&&null!==t&&"string"==typeof t&&e.indexOf(t)>-1},Ct.__replaceAll=function(e,t,n){return"string"!=typeof e?e.replaceAll.apply(e,B(arguments)):e.replace(new RegExp(t,"g"),n)},Ct.__replaceFirst=function(e,t,n){return"string"!=typeof e?e.replaceFirst.apply(e,B(arguments)):e.replace(new RegExp(t,""),n)},Ct.__replace=function(e,t,n){if("string"!=typeof e)return e.replace.apply(e,B(arguments));if(t instanceof RegExp)return e.replace(t,n);if("string"!=typeof t&&(t=t.toString()),""===t)return e;var r=e.indexOf(t);if(0>r)return e;var i=0,s="";do s+=e.substring(i,r)+n,i=r+t.length;while((r=e.indexOf(t,i))>=0);return s+e.substring(i)},Ct.__equals=function(e,t){return e.equals instanceof Function?e.equals.apply(e,B(arguments)):e.valueOf()===t.valueOf()},Ct.__equalsIgnoreCase=function(e,t){return"string"!=typeof e?e.equalsIgnoreCase.apply(e,B(arguments)):e.toLowerCase()===t.toLowerCase()},Ct.__toCharArray=function(e){if("string"!=typeof e)return e.toCharArray.apply(e,B(arguments));for(var t=[],n=0,r=e.length;r>n;++n)t[n]=new vi(e.charAt(n));return t},Ct.__split=function(e,t,n){if("string"!=typeof e)return e.split.apply(e,B(arguments));var i=new RegExp(t);if(n===r||1>n)return e.split(i);for(var s,o=[],a=e;-1!==(s=a.search(i))&&o.length<n-1;){var u=i.exec(a).toString();o.push(a.substring(0,s)),a=a.substring(s+u.length)}return(-1!==s||""!==a)&&o.push(a),o},Ct.__codePointAt=function(e,t){var n,r,i=e.charCodeAt(t);return i>=55296&&56319>=i?(n=i,r=e.charCodeAt(t+1),1024*(n-55296)+(r-56320)+65536):i},Ct.match=function(e,t){return e.match(t)},Ct.__matches=function(e,t){return new RegExp(t).test(e)},Ct.__startsWith=function(e,t,n){return"string"!=typeof e?e.startsWith.apply(e,B(arguments)):(n=n||0,0>n||n>e.length?!1:""===t||t===e?!0:e.indexOf(t)===n)},Ct.__endsWith=function(e,t){if("string"!=typeof e)return e.endsWith.apply(e,B(arguments));var n=t?t.length:0;return""===t||t===e?!0:e.indexOf(t)===e.length-n},Ct.__hashCode=function(e){return e.hashCode instanceof Function?e.hashCode.apply(e,B(arguments)):s(e)},Ct.__printStackTrace=function(e){Ct.println("Exception: "+e.toString())};var _i=[];Ct.println=function(e){var t=_i.length;t&&(F.logger.log(_i.join("")),_i.length=0),0===arguments.length&&0===t?F.logger.log(""):0!==arguments.length&&F.logger.log(e)},Ct.print=function(e){_i.push(e)},Ct.str=function(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString()+"");return t}return e.toString()+""},Ct.trim=function(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(e[n].replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,""));return t}return e.replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,"")},Ct.parseBoolean=function(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(z(e[n]));return t}return z(e)},Ct.parseByte=function(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(0-(128&e[n])|127&e[n]);return t}return 0-(128&e)|127&e},Ct.parseChar=function(e){if("number"==typeof e)return new vi(String.fromCharCode(65535&e));if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(new vi(String.fromCharCode(65535&e[n])));return t}throw"char() may receive only one argument of type int, byte, int[], or byte[]."},Ct.parseFloat=function(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(j(e[n]));return t}return j(e)},Ct.parseInt=function(e,t){if(e instanceof Array){for(var n=[],r=0;r<e.length;r++)"string"!=typeof e[r]||/^\s*[+\-]?\d+\s*$/.test(e[r])?n.push(H(e[r],t)):n.push(0);return n}return H(e,t)},Ct.__int_cast=function(e){return 0|e},Ct.__instanceof=function(e,t){if("function"!=typeof t)throw"Function is expected as type argument for instanceof operator";if("string"==typeof e)return t===Object||t===String;if(e instanceof t)return!0;if("object"!=typeof e||null===e)return!1;var n=e.constructor;if(t.$isInterface){for(var r=[];n;)n.$interfaces&&(r=r.concat(n.$interfaces)),n=n.$base;for(;r.length>0;){var i=r.shift();if(i===t)return!0;i.$interfaces&&(r=r.concat(i.$interfaces))}return!1}for(;n.hasOwnProperty("$base");)if(n=n.$base,n===t)return!0;return!1},Ct.abs=n.abs,Ct.ceil=n.ceil,Ct.constrain=function(e,t,n){return e>n?n:t>e?t:e},Ct.dist=function(){var e,t,r;return 4===arguments.length?(e=arguments[0]-arguments[2],t=arguments[1]-arguments[3],n.sqrt(e*e+t*t)):6===arguments.length?(e=arguments[0]-arguments[3],t=arguments[1]-arguments[4],r=arguments[2]-arguments[5],n.sqrt(e*e+t*t+r*r)):void 0},Ct.exp=n.exp,Ct.floor=n.floor,Ct.lerp=function(e,t,n){return(t-e)*n+e},Ct.log=n.log,Ct.mag=function(e,t,r){return r?n.sqrt(e*e+t*t+r*r):n.sqrt(e*e+t*t)},Ct.map=function(e,t,n,r,i){return r+(i-r)*((e-t)/(n-t))},Ct.max=function(){if(2===arguments.length)return arguments[0]<arguments[1]?arguments[1]:arguments[0];var e=1===arguments.length?arguments[0]:arguments;if(!("length"in e&&e.length>0))throw"Non-empty array is expected";for(var t=e[0],n=e.length,r=1;n>r;++r)t<e[r]&&(t=e[r]);return t},Ct.min=function(){if(2===arguments.length)return arguments[0]<arguments[1]?arguments[0]:arguments[1];var e=1===arguments.length?arguments[0]:arguments;if(!("length"in e&&e.length>0))throw"Non-empty array is expected";for(var t=e[0],n=e.length,r=1;n>r;++r)t>e[r]&&(t=e[r]);return t},Ct.norm=function(e,t,n){return(e-t)/(n-t)},Ct.pow=n.pow,Ct.round=n.round,Ct.sq=function(e){return e*e},Ct.sqrt=n.sqrt,Ct.acos=n.acos,Ct.asin=n.asin,Ct.atan=n.atan,Ct.atan2=n.atan2,Ct.cos=n.cos,Ct.degrees=function(e){return 180*e/n.PI},Ct.radians=function(e){return e/180*n.PI},Ct.sin=n.sin,Ct.tan=n.tan;var Li=n.random;Ct.random=function(){if(0===arguments.length)return Li();if(1===arguments.length)return Li()*arguments[0];var e=arguments[0],t=arguments[1];return Li()*(t-e)+e},V.createRandomized=function(){var e=new Date;return new V(4294967295&e/6e4,4294967295&e)},Ct.randomSeed=function(e){Li=new V(e).nextDouble},Ct.Random=function(e){var t,i,s=!1;this.nextGaussian=function(){if(s)return s=!1,t;var e,r,o;do e=2*i()-1,r=2*i()-1,o=e*e+r*r;while(o>=1||0===o);var a=n.sqrt(-2*n.log(o)/o);return t=r*a,s=!0,e*a},i=e===r?n.random:new V(e).nextDouble};var Ni={generator:r,octaves:4,fallout:.5,seed:r};Ct.noise=function(e,t,n){Ni.generator===r&&(Ni.generator=new U(Ni.seed));for(var i=Ni.generator,s=1,o=1,a=0,u=0;u<Ni.octaves;++u){switch(s*=Ni.fallout,arguments.length){case 1:a+=s*(1+i.noise1d(o*e))/2;break;case 2:a+=s*(1+i.noise2d(o*e,o*t))/2;break;case 3:a+=s*(1+i.noise3d(o*e,o*t,o*n))/2}o*=2}return a},Ct.noiseDetail=function(e,t){Ni.octaves=e,t!==r&&(Ni.fallout=t)},Ct.noiseSeed=function(e){Ni.seed=e,Ni.generator=r},fi.prototype.size=function(e,t){fn&&Ct.stroke(0),un&&Ct.fill(255);var r={fillStyle:St.fillStyle,strokeStyle:St.strokeStyle,lineCap:St.lineCap,lineJoin:St.lineJoin};At.style.length>0&&(At.style.removeProperty("width"),At.style.removeProperty("height")),At.width=Ct.width=e||100,At.height=Ct.height=t||100;for(var i in r)r.hasOwnProperty(i)&&(St[i]=r[i]);Ct.textFont(ur),Ct.background(),hr=n.max(1e3,.05*e*t),Ct.externals.context=St;for(var s=0;720>s;s++)Lr[s]=Ct.sin(.5*s*(n.PI/180)),Nr[s]=Ct.cos(.5*s*(n.PI/180))},pi.prototype.size=function(){St===r&&(St=At.getContext("2d"),xr=new Ei,wr=new Ei,yr=new Ci,br=new Ci),fi.prototype.size.apply(this,arguments)},di.prototype.size=function(){var e=!1;return function(t,n){function r(e){for(var t,n=["experimental-webgl","webgl","webkit-3d"],r=0,i=n.length;i>r&&!(t=e.getContext(n[r],{antialias:!1,preserveDrawingBuffer:!0}));r++);return t}if(e)throw"Multiple calls to size() for 3D renders are not allowed.";e=!0;try{At.width=Ct.width=t||100,At.height=Ct.height=n||100,St=r(At),Zt=St.createTexture(),Kt=St.createTexture()}catch(i){F.debug(i)}if(!St)throw"WebGL context is not supported on this browser.";St.viewport(0,0,At.width,At.height),St.enable(St.DEPTH_TEST),St.enable(St.BLEND),St.blendFunc(St.SRC_ALPHA,St.ONE_MINUS_SRC_ALPHA),Mt=ai(St,ni,ri),Ot=ai(St,ei,ti),Ct.strokeWeight(1),Ft=ai(St,si,oi),St.useProgram(Ft),l("usingTexture3d",Ft,"usingTexture",Jn),Ct.lightFalloff(1,0,0),Ct.shininess(1),Ct.ambient(255,255,255),Ct.specular(0,0,0),Ct.emissive(0,0,0),$t=St.createBuffer(),St.bindBuffer(St.ARRAY_BUFFER,$t),St.bufferData(St.ARRAY_BUFFER,Yr,St.STATIC_DRAW),Bt=St.createBuffer(),St.bindBuffer(St.ARRAY_BUFFER,Bt),St.bufferData(St.ARRAY_BUFFER,Kr,St.STATIC_DRAW),zt=St.createBuffer(),St.bindBuffer(St.ARRAY_BUFFER,zt),St.bufferData(St.ARRAY_BUFFER,Zr,St.STATIC_DRAW),jt=St.createBuffer(),St.bindBuffer(St.ARRAY_BUFFER,jt),St.bufferData(St.ARRAY_BUFFER,Qr,St.STATIC_DRAW),Ht=St.createBuffer(),St.bindBuffer(St.ARRAY_BUFFER,Ht),St.bufferData(St.ARRAY_BUFFER,Jr,St.STATIC_DRAW),Vt=St.createBuffer(),Ut=St.createBuffer(),Xt=St.createBuffer(),qt=St.createBuffer(),Wt=St.createBuffer(),Yt=St.createBuffer(),Gt=St.createBuffer(),St.bindBuffer(St.ARRAY_BUFFER,Gt),St.bufferData(St.ARRAY_BUFFER,new x([0,0,0]),St.STATIC_DRAW),Qt=St.createBuffer(),St.bindBuffer(St.ARRAY_BUFFER,Qt),St.bufferData(St.ARRAY_BUFFER,new x([1,1,0,-1,1,0,-1,-1,0,1,-1,0]),St.STATIC_DRAW),Jt=St.createBuffer(),St.bindBuffer(St.ARRAY_BUFFER,Jt),St.bufferData(St.ARRAY_BUFFER,new x([0,0,1,0,1,1,0,1]),St.STATIC_DRAW),en=St.createBuffer(),St.bindBuffer(St.ELEMENT_ARRAY_BUFFER,en),St.bufferData(St.ELEMENT_ARRAY_BUFFER,new A([0,1,2,2,3,0]),St.STATIC_DRAW),mr=new Si,vr=new Si,yr=new Si,br=new Si,Tr=new Si,Ct.camera(),Ct.perspective(),xr=new Ei,wr=new Ei,_t=new Si,Lt=new Si,Nt=new Si,Dt=new Si,Rt=new Si,It=new Si,It.set(-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0),fi.prototype.size.apply(this,arguments)}}(),pi.prototype.ambientLight=fi.prototype.a3DOnlyFunction,di.prototype.ambientLight=function(e,t,n,r,i,s){if(8===Cr)throw"can only create 8 lights";var o=new k(r,i,s),a=new Si;a.scale(1,-1,1),a.apply(yr.array()),a.mult(o,o);var c=d(e,t,n,0),h=[(255&c>>16)/255,(255&c>>8)/255,(255&c)/255];St.useProgram(Ft),u("uLights.color.3d."+Cr,Ft,"uLights"+Cr+".color",h),u("uLights.position.3d."+Cr,Ft,"uLights"+Cr+".position",o.array()),l("uLights.type.3d."+Cr,Ft,"uLights"+Cr+".type",0),l("uLightCount3d",Ft,"uLightCount",++Cr)},pi.prototype.directionalLight=fi.prototype.a3DOnlyFunction,di.prototype.directionalLight=function(e,t,n,r,i,s){if(8===Cr)throw"can only create 8 lights";St.useProgram(Ft);var o=new Si;o.scale(1,-1,1),o.apply(yr.array()),o=o.array();var a=[o[0]*r+o[4]*i+o[8]*s,o[1]*r+o[5]*i+o[9]*s,o[2]*r+o[6]*i+o[10]*s],c=d(e,t,n,0),h=[(255&c>>16)/255,(255&c>>8)/255,(255&c)/255];u("uLights.color.3d."+Cr,Ft,"uLights"+Cr+".color",h),u("uLights.position.3d."+Cr,Ft,"uLights"+Cr+".position",a),l("uLights.type.3d."+Cr,Ft,"uLights"+Cr+".type",1),l("uLightCount3d",Ft,"uLightCount",++Cr)},pi.prototype.lightFalloff=fi.prototype.a3DOnlyFunction,di.prototype.lightFalloff=function(e,t,n){St.useProgram(Ft),u("uFalloff3d",Ft,"uFalloff",[e,t,n])},pi.prototype.lightSpecular=fi.prototype.a3DOnlyFunction,di.prototype.lightSpecular=function(e,t,n){var r=d(e,t,n,0),i=[(255&r>>16)/255,(255&r>>8)/255,(255&r)/255];St.useProgram(Ft),u("uSpecular3d",Ft,"uSpecular",i)},Ct.lights=function(){Ct.ambientLight(128,128,128),Ct.directionalLight(128,128,128,0,0,-1),Ct.lightFalloff(1,0,0),Ct.lightSpecular(0,0,0)},pi.prototype.pointLight=fi.prototype.a3DOnlyFunction,di.prototype.pointLight=function(e,t,n,r,i,s){if(8===Cr)throw"can only create 8 lights";var o=new k(r,i,s),a=new Si;a.scale(1,-1,1),a.apply(yr.array()),a.mult(o,o);var c=d(e,t,n,0),h=[(255&c>>16)/255,(255&c>>8)/255,(255&c)/255];St.useProgram(Ft),u("uLights.color.3d."+Cr,Ft,"uLights"+Cr+".color",h),u("uLights.position.3d."+Cr,Ft,"uLights"+Cr+".position",o.array()),l("uLights.type.3d."+Cr,Ft,"uLights"+Cr+".type",2),l("uLightCount3d",Ft,"uLightCount",++Cr)},pi.prototype.noLights=fi.prototype.a3DOnlyFunction,di.prototype.noLights=function(){Cr=0,St.useProgram(Ft),l("uLightCount3d",Ft,"uLightCount",Cr)},pi.prototype.spotLight=fi.prototype.a3DOnlyFunction,di.prototype.spotLight=function(e,t,n,r,i,s,o,a,c,h,f){if(8===Cr)throw"can only create 8 lights";St.useProgram(Ft);var p=new k(r,i,s),g=new Si;g.scale(1,-1,1),g.apply(yr.array()),g.mult(p,p),g=g.array();var m=[g[0]*o+g[4]*a+g[8]*c,g[1]*o+g[5]*a+g[9]*c,g[2]*o+g[6]*a+g[10]*c],v=d(e,t,n,0),y=[(255&v>>16)/255,(255&v>>8)/255,(255&v)/255];u("uLights.color.3d."+Cr,Ft,"uLights"+Cr+".color",y),u("uLights.position.3d."+Cr,Ft,"uLights"+Cr+".position",p.array()),u("uLights.direction.3d."+Cr,Ft,"uLights"+Cr+".direction",m),u("uLights.concentration.3d."+Cr,Ft,"uLights"+Cr+".concentration",f),u("uLights.angle.3d."+Cr,Ft,"uLights"+Cr+".angle",h),l("uLights.type.3d."+Cr,Ft,"uLights"+Cr+".type",3),l("uLightCount3d",Ft,"uLightCount",++Cr)},pi.prototype.beginCamera=function(){throw"beginCamera() is not available in 2D mode"},di.prototype.beginCamera=function(){if(Dr)throw"You cannot call beginCamera() again before calling endCamera()";Dr=!0,yr=vr,br=mr},pi.prototype.endCamera=function(){throw"endCamera() is not available in 2D mode"},di.prototype.endCamera=function(){if(!Dr)throw"You cannot call endCamera() before calling beginCamera()";yr.set(mr),br.set(vr),Dr=!1},Ct.camera=function(e,t,i,s,o,a,u,l,c){e===r&&(Fr=Ct.width/2,Mr=Ct.height/2,Or=Mr/n.tan(Ir/2),e=Fr,t=Mr,i=Or,s=Fr,o=Mr,a=0,u=0,l=1,c=0);var h=new k(e-s,t-o,i-a),f=new k(u,l,c);h.normalize();var p=k.cross(f,h);f=k.cross(h,p),p.normalize(),f.normalize();var d=p.x,g=p.y,m=p.z,v=f.x,y=f.y,b=f.z,x=h.x,w=h.y,A=h.z;mr.set(d,g,m,0,v,y,b,0,x,w,A,0,0,0,0,1),mr.translate(-e,-t,-i),vr.reset(),vr.invApply(d,g,m,0,v,y,b,0,x,w,A,0,0,0,0,1),vr.translate(e,t,i),yr.set(mr),br.set(vr)},Ct.perspective=function(e,t,r,i){0===arguments.length&&(Mr=At.height/2,Or=Mr/n.tan(Ir/2),$r=Or/10,Br=10*Or,zr=Ct.width/Ct.height,e=Ir,t=zr,r=$r,i=Br);var s,o,a,u;s=r*n.tan(e/2),o=-s,a=s*t,u=o*t,Ct.frustum(u,a,o,s,r,i)},pi.prototype.frustum=function(){throw"Processing.js: frustum() is not supported in 2D mode"},di.prototype.frustum=function(e,t,n,r,i,s){Rr=!0,Tr=new Si,Tr.set(2*i/(t-e),0,(t+e)/(t-e),0,0,2*i/(r-n),(r+n)/(r-n),0,0,0,-(s+i)/(s-i),-(2*s*i)/(s-i),0,0,-1,0);var o=new Si;o.set(Tr),o.transpose(),St.useProgram(Mt),c("projection2d",Mt,"uProjection",!1,o.array()),St.useProgram(Ft),c("projection3d",Ft,"uProjection",!1,o.array()),St.useProgram(Ot),c("uProjectionUS",Ot,"uProjection",!1,o.array())},Ct.ortho=function(e,t,n,r,i,s){0===arguments.length&&(e=0,t=Ct.width,n=0,r=Ct.height,i=-10,s=10);var o=2/(t-e),a=2/(r-n),u=-2/(s-i),l=-(t+e)/(t-e),h=-(r+n)/(r-n),f=-(s+i)/(s-i);Tr=new Si,Tr.set(o,0,0,l,0,a,0,h,0,0,u,f,0,0,0,1);var p=new Si;p.set(Tr),p.transpose(),St.useProgram(Mt),c("projection2d",Mt,"uProjection",!1,p.array()),St.useProgram(Ft),c("projection3d",Ft,"uProjection",!1,p.array()),St.useProgram(Ot),c("uProjectionUS",Ot,"uProjection",!1,p.array()),Rr=!1},Ct.printProjection=function(){Tr.print()},Ct.printCamera=function(){mr.print()},pi.prototype.box=fi.prototype.a3DOnlyFunction,di.prototype.box=function(e,t,n){t&&n||(t=n=e);var r=new Si;r.scale(e,t,n);var i=new Si;if(i.scale(1,-1,1),i.apply(yr.array()),i.transpose(),un){if(St.useProgram(Ft),c("model3d",Ft,"uModel",!1,r.array()),c("view3d",Ft,"uView",!1,i.array()),St.enable(St.POLYGON_OFFSET_FILL),St.polygonOffset(1,1),u("color3d",Ft,"uColor",ln),Cr>0){var s=new Si;s.set(i);var o=new Si;o.set(r),s.mult(o);var a=new Si;a.set(s),a.invert(),a.transpose(),c("uNormalTransform3d",Ft,"uNormalTransform",!1,a.array()),h("aNormal3d",Ft,"aNormal",3,Bt)}else p("aNormal3d",Ft,"aNormal");h("aVertex3d",Ft,"aVertex",3,$t),p("aColor3d",Ft,"aColor"),p("aTexture3d",Ft,"aTexture"),St.drawArrays(St.TRIANGLES,0,Yr.length/3),St.disable(St.POLYGON_OFFSET_FILL)}mn>0&&fn&&(St.useProgram(Mt),c("uModel2d",Mt,"uModel",!1,r.array()),c("uView2d",Mt,"uView",!1,i.array()),u("uColor2d",Mt,"uColor",pn),l("uIsDrawingText2d",Mt,"uIsDrawingText",!1),h("vertex2d",Mt,"aVertex",3,zt),p("aTextureCoord2d",Mt,"aTextureCoord"),St.drawArrays(St.LINES,0,Zr.length/3))};var Di=function(){var e;for(gr=[],e=0;Er>e;e++)gr.push(0),gr.push(-1),gr.push(0),gr.push(Pr[e]),gr.push(kr[e]),gr.push(_r[e]);gr.push(0),gr.push(-1),gr.push(0),gr.push(Pr[0]),gr.push(kr[0]),gr.push(_r[0]);var t,n,r,i=0;for(e=2;Sr>e;e++){t=n=i,i+=Er,r=i;for(var s=0;Er>s;s++)gr.push(Pr[t]),gr.push(kr[t]),gr.push(_r[t++]),gr.push(Pr[r]),gr.push(kr[r]),gr.push(_r[r++]);t=n,r=i,gr.push(Pr[t]),gr.push(kr[t]),gr.push(_r[t]),gr.push(Pr[r]),gr.push(kr[r]),gr.push(_r[r])}for(e=0;Er>e;e++)r=i+e,gr.push(Pr[r]),gr.push(kr[r]),gr.push(_r[r]),gr.push(0),gr.push(1),gr.push(0);gr.push(Pr[i]),gr.push(kr[i]),gr.push(_r[i]),gr.push(0),gr.push(1),gr.push(0),St.bindBuffer(St.ARRAY_BUFFER,Vt),St.bufferData(St.ARRAY_BUFFER,new x(gr),St.STATIC_DRAW)};Ct.sphereDetail=function(e,t){var n;if(1===arguments.length&&(e=t=arguments[0]),3>e&&(e=3),2>t&&(t=2),e!==Er||t!==Sr){var r=720/e,i=new x(e),s=new x(e);for(n=0;e>n;n++)i[n]=Nr[0|n*r%720],s[n]=Lr[0|n*r%720];var o=e*(t-1)+2,a=0;Pr=new x(o),kr=new x(o),_r=new x(o);var u=360/t,l=u;for(n=1;t>n;n++){for(var c=Lr[0|l%720],h=-Nr[0|l%720],f=0;e>f;f++)Pr[a]=i[f]*c,kr[a]=h,_r[a++]=s[f]*c;l+=u}Er=e,Sr=t,Di()}},pi.prototype.sphere=fi.prototype.a3DOnlyFunction,di.prototype.sphere=function(){var e=arguments[0];(3>Er||2>Sr)&&Ct.sphereDetail(30);var t=new Si;t.scale(e,e,e);var n=new Si;if(n.scale(1,-1,1),n.apply(yr.array()),n.transpose(),un){if(Cr>0){var r=new Si;r.set(n);var i=new Si;i.set(t),r.mult(i);var s=new Si;s.set(r),s.invert(),s.transpose(),c("uNormalTransform3d",Ft,"uNormalTransform",!1,s.array()),h("aNormal3d",Ft,"aNormal",3,Vt)}else p("aNormal3d",Ft,"aNormal");St.useProgram(Ft),p("aTexture3d",Ft,"aTexture"),c("uModel3d",Ft,"uModel",!1,t.array()),c("uView3d",Ft,"uView",!1,n.array()),h("aVertex3d",Ft,"aVertex",3,Vt),p("aColor3d",Ft,"aColor"),St.enable(St.POLYGON_OFFSET_FILL),St.polygonOffset(1,1),u("uColor3d",Ft,"uColor",ln),St.drawArrays(St.TRIANGLE_STRIP,0,gr.length/3),St.disable(St.POLYGON_OFFSET_FILL)}mn>0&&fn&&(St.useProgram(Mt),c("uModel2d",Mt,"uModel",!1,t.array()),c("uView2d",Mt,"uView",!1,n.array()),h("aVertex2d",Mt,"aVertex",3,Vt),p("aTextureCoord2d",Mt,"aTextureCoord"),u("uColor2d",Mt,"uColor",pn),l("uIsDrawingText",Mt,"uIsDrawingText",!1),St.drawArrays(St.LINE_STRIP,0,gr.length/3))},Ct.modelX=function(e,t,n){var r=yr.array(),i=vr.array(),s=r[0]*e+r[1]*t+r[2]*n+r[3],o=r[4]*e+r[5]*t+r[6]*n+r[7],a=r[8]*e+r[9]*t+r[10]*n+r[11],u=r[12]*e+r[13]*t+r[14]*n+r[15],l=i[0]*s+i[1]*o+i[2]*a+i[3]*u,c=i[12]*s+i[13]*o+i[14]*a+i[15]*u;return 0!==c?l/c:l},Ct.modelY=function(e,t,n){var r=yr.array(),i=vr.array(),s=r[0]*e+r[1]*t+r[2]*n+r[3],o=r[4]*e+r[5]*t+r[6]*n+r[7],a=r[8]*e+r[9]*t+r[10]*n+r[11],u=r[12]*e+r[13]*t+r[14]*n+r[15],l=i[4]*s+i[5]*o+i[6]*a+i[7]*u,c=i[12]*s+i[13]*o+i[14]*a+i[15]*u;return 0!==c?l/c:l},Ct.modelZ=function(e,t,n){var r=yr.array(),i=vr.array(),s=r[0]*e+r[1]*t+r[2]*n+r[3],o=r[4]*e+r[5]*t+r[6]*n+r[7],a=r[8]*e+r[9]*t+r[10]*n+r[11],u=r[12]*e+r[13]*t+r[14]*n+r[15],l=i[8]*s+i[9]*o+i[10]*a+i[11]*u,c=i[12]*s+i[13]*o+i[14]*a+i[15]*u;return 0!==c?l/c:l},pi.prototype.ambient=fi.prototype.a3DOnlyFunction,di.prototype.ambient=function(e,t,n){St.useProgram(Ft),l("uUsingMat3d",Ft,"uUsingMat",!0);var r=Ct.color(e,t,n);u("uMaterialAmbient3d",Ft,"uMaterialAmbient",Ct.color.toGLArray(r).slice(0,3))},pi.prototype.emissive=fi.prototype.a3DOnlyFunction,di.prototype.emissive=function(e,t,n){St.useProgram(Ft),l("uUsingMat3d",Ft,"uUsingMat",!0);var r=Ct.color(e,t,n);u("uMaterialEmissive3d",Ft,"uMaterialEmissive",Ct.color.toGLArray(r).slice(0,3))},pi.prototype.shininess=fi.prototype.a3DOnlyFunction,di.prototype.shininess=function(e){St.useProgram(Ft),l("uUsingMat3d",Ft,"uUsingMat",!0),u("uShininess3d",Ft,"uShininess",e)},pi.prototype.specular=fi.prototype.a3DOnlyFunction,di.prototype.specular=function(e,t,n){St.useProgram(Ft),l("uUsingMat3d",Ft,"uUsingMat",!0);var r=Ct.color(e,t,n);u("uMaterialSpecular3d",Ft,"uMaterialSpecular",Ct.color.toGLArray(r).slice(0,3))},Ct.screenX=function(e,t,n){var r=yr.array();if(16===r.length){var i=r[0]*e+r[1]*t+r[2]*n+r[3],s=r[4]*e+r[5]*t+r[6]*n+r[7],o=r[8]*e+r[9]*t+r[10]*n+r[11],a=r[12]*e+r[13]*t+r[14]*n+r[15],u=Tr.array(),l=u[0]*i+u[1]*s+u[2]*o+u[3]*a,c=u[12]*i+u[13]*s+u[14]*o+u[15]*a;return 0!==c&&(l/=c),Ct.width*(1+l)/2}return yr.multX(e,t)},Ct.screenY=function(e,t,n){var r=yr.array();if(16===r.length){var i=r[0]*e+r[1]*t+r[2]*n+r[3],s=r[4]*e+r[5]*t+r[6]*n+r[7],o=r[8]*e+r[9]*t+r[10]*n+r[11],a=r[12]*e+r[13]*t+r[14]*n+r[15],u=Tr.array(),l=u[4]*i+u[5]*s+u[6]*o+u[7]*a,c=u[12]*i+u[13]*s+u[14]*o+u[15]*a;return 0!==c&&(l/=c),Ct.height*(1+l)/2}return yr.multY(e,t)},Ct.screenZ=function(e,t,n){var r=yr.array();if(16!==r.length)return 0;var i=Tr.array(),s=r[0]*e+r[1]*t+r[2]*n+r[3],o=r[4]*e+r[5]*t+r[6]*n+r[7],a=r[8]*e+r[9]*t+r[10]*n+r[11],u=r[12]*e+r[13]*t+r[14]*n+r[15],l=i[8]*s+i[9]*o+i[10]*a+i[11]*u,c=i[12]*s+i[13]*o+i[14]*a+i[15]*u;return 0!==c&&(l/=c),(l+1)/2},fi.prototype.fill=function(){var e=Ct.color(arguments[0],arguments[1],arguments[2],arguments[3]);e===cn&&un||(un=!0,cn=e)},pi.prototype.fill=function(){fi.prototype.fill.apply(this,arguments),hn=!0},di.prototype.fill=function(){fi.prototype.fill.apply(this,arguments),ln=Ct.color.toGLArray(cn)},Ct.noFill=function(){un=!1},fi.prototype.stroke=function(){var e=Ct.color(arguments[0],arguments[1],arguments[2],arguments[3]);e===dn&&fn||(fn=!0,dn=e)},pi.prototype.stroke=function(){fi.prototype.stroke.apply(this,arguments),gn=!0},di.prototype.stroke=function(){fi.prototype.stroke.apply(this,arguments),pn=Ct.color.toGLArray(dn)},Ct.noStroke=function(){fn=!1},fi.prototype.strokeWeight=function(e){mn=e},pi.prototype.strokeWeight=function(e){fi.prototype.strokeWeight.apply(this,arguments),St.lineWidth=e},di.prototype.strokeWeight=function(e){fi.prototype.strokeWeight.apply(this,arguments),St.useProgram(Mt),u("pointSize2d",Mt,"uPointSize",e),St.useProgram(Ot),u("pointSizeUnlitShape",Ot,"uPointSize",e),St.lineWidth(e)},Ct.strokeCap=function(e){Pt.$ensureContext().lineCap=e},Ct.strokeJoin=function(e){Pt.$ensureContext().lineJoin=e},pi.prototype.smooth=function(){yn=!0;var e=At.style;e.setProperty("image-rendering","optimizeQuality","important"),e.setProperty("-ms-interpolation-mode","bicubic","important"),St.hasOwnProperty("mozImageSmoothingEnabled")&&(St.mozImageSmoothingEnabled=!0)},di.prototype.smooth=function(){yn=!0},pi.prototype.noSmooth=function(){yn=!1;var e=At.style;e.setProperty("image-rendering","optimizeSpeed","important"),e.setProperty("image-rendering","-moz-crisp-edges","important"),e.setProperty("image-rendering","-webkit-optimize-contrast","important"),e.setProperty("image-rendering","optimize-contrast","important"),e.setProperty("-ms-interpolation-mode","nearest-neighbor","important"),St.hasOwnProperty("mozImageSmoothingEnabled")&&(St.mozImageSmoothingEnabled=!1)},di.prototype.noSmooth=function(){yn=!1},pi.prototype.point=function(e,t){fn&&(e=n.round(e),t=n.round(t),St.fillStyle=Ct.color.toString(dn),hn=!0,mn>1?(St.beginPath(),St.arc(e,t,mn/2,0,6.283185307179586,!1),St.fill()):St.fillRect(e,t,1,1))
},di.prototype.point=function(e,t,n){var r=new Si;r.translate(e,t,n||0),r.transpose();var i=new Si;i.scale(1,-1,1),i.apply(yr.array()),i.transpose(),St.useProgram(Mt),c("uModel2d",Mt,"uModel",!1,r.array()),c("uView2d",Mt,"uView",!1,i.array()),mn>0&&fn&&(u("uColor2d",Mt,"uColor",pn),l("uIsDrawingText2d",Mt,"uIsDrawingText",!1),l("uSmooth2d",Mt,"uSmooth",yn),h("aVertex2d",Mt,"aVertex",3,Gt),p("aTextureCoord2d",Mt,"aTextureCoord"),St.drawArrays(St.POINTS,0,1))},Ct.beginShape=function(e){Nn=e,Dn=[],jr=[]},pi.prototype.vertex=function(e,t,n){var r=[];qr&&(qr=!1),r.isVert=!0,r[0]=e,r[1]=t,r[2]=0,r[3]=0,r[4]=0,r[5]=cn,r[6]=dn,jr.push(r),n&&(jr[jr.length-1].moveTo=n)},di.prototype.vertex=function(e,t,n,i,s){var o=[];qr&&(qr=!1),o.isVert=!0,s===r&&Jn&&(s=i,i=n,n=0),i!==r&&s!==r&&(2===Qn&&(i/=Kn.width,s/=Kn.height),i=i>1?1:i,i=0>i?0:i,s=s>1?1:s,s=0>s?0:s),o[0]=e,o[1]=t,o[2]=n||0,o[3]=i||0,o[4]=s||0,o[5]=ln[0],o[6]=ln[1],o[7]=ln[2],o[8]=ln[3],o[9]=pn[0],o[10]=pn[1],o[11]=pn[2],o[12]=pn[3],o[13]=Tn,o[14]=Cn,o[15]=Sn,jr.push(o)};var Ri=function(e,t){var n=new Si;n.scale(1,-1,1),n.apply(yr.array()),n.transpose(),St.useProgram(Ot),c("uViewUS",Ot,"uView",!1,n.array()),l("uSmoothUS",Ot,"uSmooth",yn),h("aVertexUS",Ot,"aVertex",3,Gt),St.bufferData(St.ARRAY_BUFFER,new x(e),St.STREAM_DRAW),h("aColorUS",Ot,"aColor",4,qt),St.bufferData(St.ARRAY_BUFFER,new x(t),St.STREAM_DRAW),St.drawArrays(St.POINTS,0,e.length/3)},Ii=function(e,t,n){var r;r="LINES"===t?St.LINES:"LINE_LOOP"===t?St.LINE_LOOP:St.LINE_STRIP;var i=new Si;i.scale(1,-1,1),i.apply(yr.array()),i.transpose(),St.useProgram(Ot),c("uViewUS",Ot,"uView",!1,i.array()),h("aVertexUS",Ot,"aVertex",3,Ut),St.bufferData(St.ARRAY_BUFFER,new x(e),St.STREAM_DRAW),h("aColorUS",Ot,"aColor",4,Wt),St.bufferData(St.ARRAY_BUFFER,new x(n),St.STREAM_DRAW),St.drawArrays(r,0,e.length/3)},Fi=function(e,t,n,r){var i;i="TRIANGLES"===t?St.TRIANGLES:"TRIANGLE_FAN"===t?St.TRIANGLE_FAN:St.TRIANGLE_STRIP;var s=new Si;s.scale(1,-1,1),s.apply(yr.array()),s.transpose(),St.useProgram(Ft),c("model3d",Ft,"uModel",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c("view3d",Ft,"uView",!1,s.array()),St.enable(St.POLYGON_OFFSET_FILL),St.polygonOffset(1,1),u("color3d",Ft,"uColor",[-1,0,0,0]),h("vertex3d",Ft,"aVertex",3,Xt),St.bufferData(St.ARRAY_BUFFER,new x(e),St.STREAM_DRAW),Jn&&null!==Xn&&qn(n),h("aColor3d",Ft,"aColor",4,qt),St.bufferData(St.ARRAY_BUFFER,new x(n),St.STREAM_DRAW),p("aNormal3d",Ft,"aNormal"),Jn&&(l("uUsingTexture3d",Ft,"uUsingTexture",Jn),h("aTexture3d",Ft,"aTexture",2,Yt),St.bufferData(St.ARRAY_BUFFER,new x(r),St.STREAM_DRAW)),St.drawArrays(i,0,e.length/3),St.disable(St.POLYGON_OFFSET_FILL)};pi.prototype.endShape=function(e){if(0!==jr.length){var t=2===e;t&&jr.push(jr[0]);var n,i=[],s=[],o=[],a=[];qr=!0;var u,l,c=jr.length;for(u=0;c>u;u++)for(n=jr[u],l=0;3>l;l++)i.push(n[l]);for(u=0;c>u;u++)for(n=jr[u],l=5;9>l;l++)s.push(n[l]);for(u=0;c>u;u++)for(n=jr[u],l=9;13>l;l++)o.push(n[l]);for(u=0;c>u;u++)n=jr[u],a.push(n[3]),a.push(n[4]);if(!Ur||20!==Nn&&Nn!==r)if(!Xr||20!==Nn&&Nn!==r)if(2===Nn)for(u=0;c>u;u++)n=jr[u],fn&&Ct.stroke(n[6]),Ct.point(n[0],n[1]);else if(4===Nn)for(u=0;c>u+1;u+=2)n=jr[u],fn&&Ct.stroke(jr[u+1][6]),Ct.line(n[0],n[1],jr[u+1][0],jr[u+1][1]);else if(9===Nn)for(u=0;c>u+2;u+=3)n=jr[u],St.beginPath(),St.moveTo(n[0],n[1]),St.lineTo(jr[u+1][0],jr[u+1][1]),St.lineTo(jr[u+2][0],jr[u+2][1]),St.lineTo(n[0],n[1]),un&&(Ct.fill(jr[u+2][5]),X()),fn&&(Ct.stroke(jr[u+2][6]),q()),St.closePath();else if(10===Nn)for(u=0;c>u+1;u++)n=jr[u],St.beginPath(),St.moveTo(jr[u+1][0],jr[u+1][1]),St.lineTo(n[0],n[1]),fn&&Ct.stroke(jr[u+1][6]),un&&Ct.fill(jr[u+1][5]),c>u+2&&(St.lineTo(jr[u+2][0],jr[u+2][1]),fn&&Ct.stroke(jr[u+2][6]),un&&Ct.fill(jr[u+2][5])),W();else if(11===Nn){if(c>2)for(St.beginPath(),St.moveTo(jr[0][0],jr[0][1]),St.lineTo(jr[1][0],jr[1][1]),St.lineTo(jr[2][0],jr[2][1]),un&&(Ct.fill(jr[2][5]),X()),fn&&(Ct.stroke(jr[2][6]),q()),St.closePath(),u=3;c>u;u++)n=jr[u],St.beginPath(),St.moveTo(jr[0][0],jr[0][1]),St.lineTo(jr[u-1][0],jr[u-1][1]),St.lineTo(n[0],n[1]),un&&(Ct.fill(n[5]),X()),fn&&(Ct.stroke(n[6]),q()),St.closePath()}else if(16===Nn)for(u=0;c>u+3;u+=4){for(n=jr[u],St.beginPath(),St.moveTo(n[0],n[1]),l=1;4>l;l++)St.lineTo(jr[u+l][0],jr[u+l][1]);St.lineTo(n[0],n[1]),un&&(Ct.fill(jr[u+3][5]),X()),fn&&(Ct.stroke(jr[u+3][6]),q()),St.closePath()}else if(17===Nn){if(c>3)for(u=0;c>u+1;u+=2)n=jr[u],St.beginPath(),c>u+3?(St.moveTo(jr[u+2][0],jr[u+2][1]),St.lineTo(n[0],n[1]),St.lineTo(jr[u+1][0],jr[u+1][1]),St.lineTo(jr[u+3][0],jr[u+3][1]),un&&Ct.fill(jr[u+3][5]),fn&&Ct.stroke(jr[u+3][6])):(St.moveTo(n[0],n[1]),St.lineTo(jr[u+1][0],jr[u+1][1])),W()}else{for(St.beginPath(),St.moveTo(jr[0][0],jr[0][1]),u=1;c>u;u++)n=jr[u],n.isVert&&(n.moveTo?St.moveTo(n[0],n[1]):St.lineTo(n[0],n[1]));W()}else{for(St.beginPath(),u=0;c>u;u++)n=jr[u],jr[u].isVert?jr[u].moveTo?St.moveTo(n[0],n[1]):St.lineTo(n[0],n[1]):St.bezierCurveTo(jr[u][0],jr[u][1],jr[u][2],jr[u][3],jr[u][4],jr[u][5]);W()}else if(c>3){var h=[],f=1-Rn;for(St.beginPath(),St.moveTo(jr[1][0],jr[1][1]),u=1;c>u+2;u++)n=jr[u],h[0]=[n[0],n[1]],h[1]=[n[0]+(f*jr[u+1][0]-f*jr[u-1][0])/6,n[1]+(f*jr[u+1][1]-f*jr[u-1][1])/6],h[2]=[jr[u+1][0]+(f*jr[u][0]-f*jr[u+2][0])/6,jr[u+1][1]+(f*jr[u][1]-f*jr[u+2][1])/6],h[3]=[jr[u+1][0],jr[u+1][1]],St.bezierCurveTo(h[1][0],h[1][1],h[2][0],h[2][1],h[3][0],h[3][1]);W()}Ur=!1,Xr=!1,Hr=[],Vr=0,t&&jr.pop()}},di.prototype.endShape=function(e){if(0!==jr.length){var t,n=2===e,i=[],s=[],o=[],a=[],u=[];qr=!0;var c,h,f,p=jr.length;for(c=0;p>c;c++)for(t=jr[c],h=0;3>h;h++)s.push(t[h]);for(c=0;p>c;c++)for(t=jr[c],h=5;9>h;h++)o.push(t[h]);for(c=0;p>c;c++)for(t=jr[c],h=9;13>h;h++)a.push(t[h]);for(c=0;p>c;c++)t=jr[c],u.push(t[3]),u.push(t[4]);if(n){for(s.push(jr[0][0]),s.push(jr[0][1]),s.push(jr[0][2]),c=5;9>c;c++)o.push(jr[0][c]);for(c=9;13>c;c++)a.push(jr[0][c]);u.push(jr[0][3]),u.push(jr[0][4])}if(!Ur||20!==Nn&&Nn!==r)if(!Xr||20!==Nn&&Nn!==r){if(2===Nn){for(c=0;p>c;c++)for(t=jr[c],h=0;3>h;h++)i.push(t[h]);Ri(i,a)}else if(4===Nn){for(c=0;p>c;c++)for(t=jr[c],h=0;3>h;h++)i.push(t[h]);for(c=0;p>c;c++)for(t=jr[c],h=5;9>h;h++)o.push(t[h]);Ii(i,"LINES",a)}else if(9===Nn){if(p>2)for(c=0;p>c+2;c+=3){for(s=[],u=[],i=[],o=[],a=[],h=0;3>h;h++)for(f=0;3>f;f++)i.push(jr[c+h][f]),s.push(jr[c+h][f]);for(h=0;3>h;h++)for(f=3;5>f;f++)u.push(jr[c+h][f]);for(h=0;3>h;h++)for(f=5;9>f;f++)o.push(jr[c+h][f]),a.push(jr[c+h][f+4]);fn&&Ii(i,"LINE_LOOP",a),(un||Jn)&&Fi(s,"TRIANGLES",o,u)}}else if(10===Nn){if(p>2)for(c=0;p>c+2;c++){for(i=[],s=[],a=[],o=[],u=[],h=0;3>h;h++)for(f=0;3>f;f++)i.push(jr[c+h][f]),s.push(jr[c+h][f]);for(h=0;3>h;h++)for(f=3;5>f;f++)u.push(jr[c+h][f]);for(h=0;3>h;h++)for(f=5;9>f;f++)a.push(jr[c+h][f+4]),o.push(jr[c+h][f]);(un||Jn)&&Fi(s,"TRIANGLE_STRIP",o,u),fn&&Ii(i,"LINE_LOOP",a)}}else if(11===Nn){if(p>2){for(c=0;3>c;c++)for(t=jr[c],h=0;3>h;h++)i.push(t[h]);for(c=0;3>c;c++)for(t=jr[c],h=9;13>h;h++)a.push(t[h]);for(fn&&Ii(i,"LINE_LOOP",a),c=2;p>c+1;c++){for(i=[],a=[],i.push(jr[0][0]),i.push(jr[0][1]),i.push(jr[0][2]),a.push(jr[0][9]),a.push(jr[0][10]),a.push(jr[0][11]),a.push(jr[0][12]),h=0;2>h;h++)for(f=0;3>f;f++)i.push(jr[c+h][f]);for(h=0;2>h;h++)for(f=9;13>f;f++)a.push(jr[c+h][f]);fn&&Ii(i,"LINE_STRIP",a)}(un||Jn)&&Fi(s,"TRIANGLE_FAN",o,u)}}else if(16===Nn)for(c=0;p>c+3;c+=4){for(i=[],h=0;4>h;h++)for(t=jr[c+h],f=0;3>f;f++)i.push(t[f]);if(fn&&Ii(i,"LINE_LOOP",a),un){for(s=[],o=[],u=[],h=0;3>h;h++)s.push(jr[c][h]);for(h=5;9>h;h++)o.push(jr[c][h]);for(h=0;3>h;h++)s.push(jr[c+1][h]);for(h=5;9>h;h++)o.push(jr[c+1][h]);for(h=0;3>h;h++)s.push(jr[c+3][h]);for(h=5;9>h;h++)o.push(jr[c+3][h]);for(h=0;3>h;h++)s.push(jr[c+2][h]);for(h=5;9>h;h++)o.push(jr[c+2][h]);Jn&&(u.push(jr[c+0][3]),u.push(jr[c+0][4]),u.push(jr[c+1][3]),u.push(jr[c+1][4]),u.push(jr[c+3][3]),u.push(jr[c+3][4]),u.push(jr[c+2][3]),u.push(jr[c+2][4])),Fi(s,"TRIANGLE_STRIP",o,u)}}else if(17===Nn){var d=[];if(p>3){for(c=0;2>c;c++)for(t=jr[c],h=0;3>h;h++)i.push(t[h]);for(c=0;2>c;c++)for(t=jr[c],h=9;13>h;h++)a.push(t[h]);for(Ii(i,"LINE_STRIP",a),p>4&&p%2>0&&(d=s.splice(s.length-3),jr.pop()),c=0;p>c+3;c+=2){for(i=[],a=[],h=0;3>h;h++)i.push(jr[c+1][h]);for(h=0;3>h;h++)i.push(jr[c+3][h]);for(h=0;3>h;h++)i.push(jr[c+2][h]);for(h=0;3>h;h++)i.push(jr[c+0][h]);for(h=9;13>h;h++)a.push(jr[c+1][h]);for(h=9;13>h;h++)a.push(jr[c+3][h]);for(h=9;13>h;h++)a.push(jr[c+2][h]);for(h=9;13>h;h++)a.push(jr[c+0][h]);fn&&Ii(i,"LINE_STRIP",a)}(un||Jn)&&Fi(s,"TRIANGLE_LIST",o,u)}}else if(1===p){for(h=0;3>h;h++)i.push(jr[0][h]);for(h=9;13>h;h++)a.push(jr[0][h]);Ri(i,a)}else{for(c=0;p>c;c++){for(t=jr[c],h=0;3>h;h++)i.push(t[h]);for(h=5;9>h;h++)a.push(t[h])}fn&&n?Ii(i,"LINE_LOOP",a):fn&&!n&&Ii(i,"LINE_STRIP",a),(un||Jn)&&Fi(s,"TRIANGLE_FAN",o,u)}Jn=!1,St.useProgram(Ft),l("usingTexture3d",Ft,"uUsingTexture",Jn)}else i=s,i.splice(i.length-3),a.splice(a.length-4),fn&&Ii(i,null,a),un&&Fi(s,"TRIANGLES",o);else i=s,fn&&Ii(i,null,a),un&&Fi(s,null,o);Ur=!1,Xr=!1,Hr=[],Vr=0}};var Mi=function(e,t){var n=1/e,r=n*n,i=r*n;t.set(0,0,0,1,i,r,n,0,6*i,2*r,0,0,6*i,0,0,0)},Oi=function(){Nt||(_t=new Si,Nt=new Si,Fn=!0);var e=Rn;_t.set((e-1)/2,(e+3)/2,(-3-e)/2,(1-e)/2,1-e,(-5-e)/2,e+2,(e-1)/2,(e-1)/2,0,(1-e)/2,0,0,1,0,0),Mi(In,Nt),Rt||(Lt=new Si),Lt.set(_t),Lt.preApply(Rt),Nt.apply(_t)};pi.prototype.bezierVertex=function(){Xr=!0;var e=[];if(qr)throw"vertex() must be used at least once before calling bezierVertex()";for(var t=0;t<arguments.length;t++)e[t]=arguments[t];jr.push(e),jr[jr.length-1].isVert=!1},di.prototype.bezierVertex=function(){if(Xr=!0,qr)throw"vertex() must be used at least once before calling bezierVertex()";if(9===arguments.length){Dt===r&&(Dt=new Si);var e=jr.length-1;Mi(On,Dt),Dt.apply(It);for(var t=Dt.array(),n=jr[e][0],i=jr[e][1],s=jr[e][2],o=t[4]*n+t[5]*arguments[0]+t[6]*arguments[3]+t[7]*arguments[6],a=t[8]*n+t[9]*arguments[0]+t[10]*arguments[3]+t[11]*arguments[6],u=t[12]*n+t[13]*arguments[0]+t[14]*arguments[3]+t[15]*arguments[6],l=t[4]*i+t[5]*arguments[1]+t[6]*arguments[4]+t[7]*arguments[7],c=t[8]*i+t[9]*arguments[1]+t[10]*arguments[4]+t[11]*arguments[7],h=t[12]*i+t[13]*arguments[1]+t[14]*arguments[4]+t[15]*arguments[7],f=t[4]*s+t[5]*arguments[2]+t[6]*arguments[5]+t[7]*arguments[8],p=t[8]*s+t[9]*arguments[2]+t[10]*arguments[5]+t[11]*arguments[8],d=t[12]*s+t[13]*arguments[2]+t[14]*arguments[5]+t[15]*arguments[8],g=0;On>g;g++)n+=o,o+=a,a+=u,i+=l,l+=c,c+=h,s+=f,f+=p,p+=d,Ct.vertex(n,i,s);Ct.vertex(arguments[6],arguments[7],arguments[8])}},Ct.texture=function(e){var n=Pt.$ensureContext();if(e.__texture)n.bindTexture(n.TEXTURE_2D,e.__texture);else if("canvas"===e.localName)n.bindTexture(n.TEXTURE_2D,Zt),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.generateMipmap(n.TEXTURE_2D),Kn.width=e.width,Kn.height=e.height;else{var r,i=n.createTexture(),s=t.createElement("canvas"),o=s.getContext("2d");if(e.width&0===e.width-1)s.width=e.width;else{for(r=1;r<e.width;)r*=2;s.width=r}if(e.height&0===e.height-1)s.height=e.height;else{for(r=1;r<e.height;)r*=2;s.height=r}o.drawImage(e.sourceImg,0,0,e.width,e.height,0,0,s.width,s.height),n.bindTexture(n.TEXTURE_2D,i),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,s),n.generateMipmap(n.TEXTURE_2D),e.__texture=i,Kn.width=e.width,Kn.height=e.height}Jn=!0,n.useProgram(Ft),l("usingTexture3d",Ft,"uUsingTexture",Jn)},Ct.textureMode=function(e){Qn=e};var $i=function(e,t,n,r,i,s,o,a,u,l,c,h){var f=r,p=i,d=s,g=Nt.array(),m=g[4]*e+g[5]*r+g[6]*o+g[7]*l,v=g[8]*e+g[9]*r+g[10]*o+g[11]*l,y=g[12]*e+g[13]*r+g[14]*o+g[15]*l,b=g[4]*t+g[5]*i+g[6]*a+g[7]*c,x=g[8]*t+g[9]*i+g[10]*a+g[11]*c,w=g[12]*t+g[13]*i+g[14]*a+g[15]*c,A=g[4]*n+g[5]*s+g[6]*u+g[7]*h,T=g[8]*n+g[9]*s+g[10]*u+g[11]*h,C=g[12]*n+g[13]*s+g[14]*u+g[15]*h;Ct.vertex(f,p,d);for(var S=0;In>S;S++)f+=m,m+=v,v+=y,p+=b,b+=x,x+=w,d+=A,A+=T,T+=C,Ct.vertex(f,p,d)};pi.prototype.curveVertex=function(e,t){Ur=!0,Ct.vertex(e,t)},di.prototype.curveVertex=function(e,t,n){Ur=!0,Fn||Oi();var r=[];r[0]=e,r[1]=t,r[2]=n,Hr.push(r),Vr++,Vr>3&&$i(Hr[Vr-4][0],Hr[Vr-4][1],Hr[Vr-4][2],Hr[Vr-3][0],Hr[Vr-3][1],Hr[Vr-3][2],Hr[Vr-2][0],Hr[Vr-2][1],Hr[Vr-2][2],Hr[Vr-1][0],Hr[Vr-1][1],Hr[Vr-1][2])},pi.prototype.curve=function(e,t,n,r,i,s,o,a){Ct.beginShape(),Ct.curveVertex(e,t),Ct.curveVertex(n,r),Ct.curveVertex(i,s),Ct.curveVertex(o,a),Ct.endShape()},di.prototype.curve=function(e,t,n,i,s,o,a,u,l,c,h,f){return f!==r?(Ct.beginShape(),Ct.curveVertex(e,t,n),Ct.curveVertex(i,s,o),Ct.curveVertex(a,u,l),Ct.curveVertex(c,h,f),Ct.endShape(),void 0):(Ct.beginShape(),Ct.curveVertex(e,t),Ct.curveVertex(n,i),Ct.curveVertex(s,o),Ct.curveVertex(a,u),Ct.endShape(),void 0)},Ct.curveTightness=function(e){Rn=e},Ct.curveDetail=function(e){In=e,Oi()},Ct.rectMode=function(e){wn=e},Ct.imageMode=function(e){switch(e){case 0:li=ui;break;case 1:li=ci;break;case 3:li=hi;break;default:throw"Invalid imageMode"}},Ct.ellipseMode=function(e){An=e},Ct.arc=function(e,t,n,r,i,s){if(!(0>=n||i>s)){for(1===An?(n-=e,r-=t):2===An?(e-=n,t-=r,n=2*n,r=2*r):3===An&&(e-=n/2,t-=r/2);0>i;)i+=6.283185307179586,s+=6.283185307179586;s-i>6.283185307179586&&(i=0,s=6.283185307179586);var o,a,u=n/2,l=r/2,c=e+u,h=t+l,f=0|.5+2*i*Ct.RAD_TO_DEG,p=0|.5+2*s*Ct.RAD_TO_DEG;if(un){var d=fn;for(fn=!1,Ct.beginShape(),Ct.vertex(c,h),o=f;p>=o;o++)a=o%720,Ct.vertex(c+Nr[a]*u,h+Lr[a]*l);Ct.endShape(2),fn=d}if(fn){var g=un;for(un=!1,Ct.beginShape(),o=f;p>=o;o++)a=o%720,Ct.vertex(c+Nr[a]*u,h+Lr[a]*l);Ct.endShape(),un=g}}},pi.prototype.line=function(e,t,i,s){if(fn){if(e=n.round(e),i=n.round(i),t=n.round(t),s=n.round(s),e===i&&t===s)return Ct.point(e,t),void 0;for(var o=r,a=r,u=!0,l=yr.array(),c=[1,0,0,0,1,0],h=0;6>h&&u;h++)u=l[h]===c[h];u&&(e===i?(t>s&&(o=t,t=s,s=o),s++,1===mn%2&&St.translate(.5,0)):t===s&&(e>i&&(o=e,e=i,i=o),i++,1===mn%2&&St.translate(0,.5)),1===mn&&(a=St.lineCap,St.lineCap="butt")),St.beginPath(),St.moveTo(e||0,t||0),St.lineTo(i||0,s||0),q(),u&&(e===i&&1===mn%2?St.translate(-.5,0):t===s&&1===mn%2&&St.translate(0,-.5),1===mn&&(St.lineCap=a))}},di.prototype.line=function(e,t,n,i,s,o){if((s===r||o===r)&&(o=0,s=i,i=n,n=0),e===i&&t===s&&n===o)return Ct.point(e,t,n),void 0;var a=[e,t,n,i,s,o],f=new Si;f.scale(1,-1,1),f.apply(yr.array()),f.transpose(),mn>0&&fn&&(St.useProgram(Mt),c("uModel2d",Mt,"uModel",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c("uView2d",Mt,"uView",!1,f.array()),u("uColor2d",Mt,"uColor",pn),l("uIsDrawingText",Mt,"uIsDrawingText",!1),h("aVertex2d",Mt,"aVertex",3,Ut),p("aTextureCoord2d",Mt,"aTextureCoord"),St.bufferData(St.ARRAY_BUFFER,new x(a),St.STREAM_DRAW),St.drawArrays(St.LINES,0,2))},pi.prototype.bezier=function(){if(8!==arguments.length)throw"You must use 8 parameters for bezier() in 2D mode";Ct.beginShape(),Ct.vertex(arguments[0],arguments[1]),Ct.bezierVertex(arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]),Ct.endShape()},di.prototype.bezier=function(){if(12!==arguments.length)throw"You must use 12 parameters for bezier() in 3D mode";Ct.beginShape(),Ct.vertex(arguments[0],arguments[1],arguments[2]),Ct.bezierVertex(arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]),Ct.endShape()},Ct.bezierDetail=function(e){On=e},Ct.bezierPoint=function(e,t,n,r,i){return(1-i)*(1-i)*(1-i)*e+3*(1-i)*(1-i)*i*t+3*(1-i)*i*i*n+i*i*i*r},Ct.bezierTangent=function(e,t,n,r,i){return 3*i*i*(-e+3*t-3*n+r)+6*i*(e-2*t+n)+3*(-e+t)},Ct.curvePoint=function(e,t,n,r,i){return.5*(2*t+(-e+n)*i+(2*e-5*t+4*n-r)*i*i+(-e+3*t-3*n+r)*i*i*i)},Ct.curveTangent=function(e,t,n,r,i){return.5*(-e+n+2*(2*e-5*t+4*n-r)*i+3*(-e+3*t-3*n+r)*i*i)},Ct.triangle=function(e,t,n,r,i,s){Ct.beginShape(9),Ct.vertex(e,t,0),Ct.vertex(n,r,0),Ct.vertex(i,s,0),Ct.endShape()},Ct.quad=function(e,t,n,r,i,s,o,a){Ct.beginShape(16),Ct.vertex(e,t,0),Ct.vertex(n,r,0),Ct.vertex(i,s,0),Ct.vertex(o,a,0),Ct.endShape()};var Bi=function(e,t,i,s,o,a,u,l){l===r&&(a=o,u=o,l=o);var c=i/2,h=s/2;(o>c||o>h)&&(o=n.min(c,h)),(a>c||a>h)&&(a=n.min(c,h)),(u>c||u>h)&&(u=n.min(c,h)),(l>c||l>h)&&(l=n.min(c,h)),(!un||fn)&&St.translate(.5,.5),St.beginPath(),St.moveTo(e+o,t),St.lineTo(e+i-a,t),St.quadraticCurveTo(e+i,t,e+i,t+a),St.lineTo(e+i,t+s-u),St.quadraticCurveTo(e+i,t+s,e+i-u,t+s),St.lineTo(e+l,t+s),St.quadraticCurveTo(e,t+s,e,t+s-l),St.lineTo(e,t+o),St.quadraticCurveTo(e,t,e+o,t),(!un||fn)&&St.translate(-.5,-.5),X(),q()};pi.prototype.rect=function(e,t,i,s,o,a,u,l){if(i||s){if(1===wn?(i-=e,s-=t):2===wn?(i*=2,s*=2,e-=i/2,t-=s/2):3===wn&&(e-=i/2,t-=s/2),e=n.round(e),t=n.round(t),i=n.round(i),s=n.round(s),o!==r)return Bi(e,t,i,s,o,a,u,l),void 0;fn&&1===mn%2&&St.translate(.5,.5),St.beginPath(),St.rect(e,t,i,s),X(),q(),fn&&1===mn%2&&St.translate(-.5,-.5)}},di.prototype.rect=function(e,t,n,i,s){if(s!==r)throw"rect() with rounded corners is not supported in 3D mode";1===wn?(n-=e,i-=t):2===wn?(n*=2,i*=2,e-=n/2,t-=i/2):3===wn&&(e-=n/2,t-=i/2);var o=new Si;o.translate(e,t,0),o.scale(n,i,1),o.transpose();var a=new Si;if(a.scale(1,-1,1),a.apply(yr.array()),a.transpose(),mn>0&&fn&&(St.useProgram(Mt),c("uModel2d",Mt,"uModel",!1,o.array()),c("uView2d",Mt,"uView",!1,a.array()),u("uColor2d",Mt,"uColor",pn),l("uIsDrawingText2d",Mt,"uIsDrawingText",!1),h("aVertex2d",Mt,"aVertex",3,jt),p("aTextureCoord2d",Mt,"aTextureCoord"),St.drawArrays(St.LINE_LOOP,0,Qr.length/3)),un){if(St.useProgram(Ft),c("uModel3d",Ft,"uModel",!1,o.array()),c("uView3d",Ft,"uView",!1,a.array()),St.enable(St.POLYGON_OFFSET_FILL),St.polygonOffset(1,1),u("color3d",Ft,"uColor",ln),Cr>0){var f=new Si;f.set(a);var d=new Si;d.set(o),f.mult(d);var g=new Si;g.set(f),g.invert(),g.transpose(),c("uNormalTransform3d",Ft,"uNormalTransform",!1,g.array()),h("aNormal3d",Ft,"aNormal",3,Ht)}else p("normal3d",Ft,"aNormal");h("vertex3d",Ft,"aVertex",3,jt),St.drawArrays(St.TRIANGLE_FAN,0,Qr.length/3),St.disable(St.POLYGON_OFFSET_FILL)}},pi.prototype.ellipse=function(e,t,n,r){if(e=e||0,t=t||0,!(0>=n&&0>=r))if(2===An?(n*=2,r*=2):1===An?(n-=e,r-=t,e+=n/2,t+=r/2):0===An&&(e+=n/2,t+=r/2),n===r)St.beginPath(),St.arc(e,t,n/2,0,6.283185307179586,!1),X(),q();else{var i=n/2,s=r/2,o=.5522847498307933,a=o*i,u=o*s;Ct.beginShape(),Ct.vertex(e+i,t),Ct.bezierVertex(e+i,t-u,e+a,t-s,e,t-s),Ct.bezierVertex(e-a,t-s,e-i,t-u,e-i,t),Ct.bezierVertex(e-i,t+u,e-a,t+s,e,t+s),Ct.bezierVertex(e+a,t+s,e+i,t+u,e+i,t),Ct.endShape()}},di.prototype.ellipse=function(e,t,n,r){if(e=e||0,t=t||0,!(0>=n&&0>=r)){2===An?(n*=2,r*=2):1===An?(n-=e,r-=t,e+=n/2,t+=r/2):0===An&&(e+=n/2,t+=r/2);var i=n/2,s=r/2,o=.5522847498307933,a=o*i,u=o*s;if(Ct.beginShape(),Ct.vertex(e+i,t),Ct.bezierVertex(e+i,t-u,0,e+a,t-s,0,e,t-s,0),Ct.bezierVertex(e-a,t-s,0,e-i,t-u,0,e-i,t,0),Ct.bezierVertex(e-i,t+u,0,e-a,t+s,0,e,t+s,0),Ct.bezierVertex(e+a,t+s,0,e+i,t+u,0,e+i,t,0),Ct.endShape(),un){var l,c,h=0,f=0;for(l=0;l<jr.length;l++)h+=jr[l][0],f+=jr[l][1];h/=jr.length,f/=jr.length;var p=[],d=[],g=[];for(p[0]=h,p[1]=f,p[2]=0,p[3]=0,p[4]=0,p[5]=ln[0],p[6]=ln[1],p[7]=ln[2],p[8]=ln[3],p[9]=pn[0],p[10]=pn[1],p[11]=pn[2],p[12]=pn[3],p[13]=Tn,p[14]=Cn,p[15]=Sn,jr.unshift(p),l=0;l<jr.length;l++){for(c=0;3>c;c++)d.push(jr[l][c]);for(c=5;9>c;c++)g.push(jr[l][c])}Fi(d,"TRIANGLE_FAN",g)}}},Ct.normal=function(e,t,n){if(3!==arguments.length||"number"!=typeof e||"number"!=typeof t||"number"!=typeof n)throw"normal() requires three numeric arguments.";Tn=e,Cn=t,Sn=n,0!==Nn&&(0===En?En=1:1===En&&(En=2))},Ct.save=function(t,n){return n!==r?e.open(n.toDataURL(),"_blank"):e.open(Ct.externals.canvas.toDataURL(),"_blank")};var zi=0;Ct.saveFrame=function(e){e===r&&(e="screen-####.png");var t=e.replace(/#+/,function(e){for(var t=""+zi++;t.length<e.length;)t="0"+t;return t});Ct.save(t)};var ji=t.createElement("canvas").getContext("2d"),Hi=[r,r,r],Vi=function(e,n,r){if(this.__isDirty=!1,e instanceof HTMLImageElement)this.fromHTMLImageData(e);else if(n||r){this.width=e||1,this.height=n||1;var i=this.sourceImg=t.createElement("canvas");if(i.width=this.width,i.height=this.height,this.imageData=i.getContext("2d").createImageData(this.width,this.height),this.format=2===r||4===r?r:1,1===this.format)for(var s=3,o=this.imageData.data,a=o.length;a>s;s+=4)o[s]=255;this.__isDirty=!0,this.updatePixels()}else this.width=0,this.height=0,this.imageData=ji.createImageData(1,1),this.format=2;this.pixels=Y(this)};Vi.prototype={__isPImage:!0,updatePixels:function(){var e=this.sourceImg;e&&e instanceof HTMLCanvasElement&&this.__isDirty&&e.getContext("2d").putImageData(this.imageData,0,0),this.__isDirty=!1},fromHTMLImageData:function(e){var t=G(e);try{var n=t.context.getImageData(0,0,e.width,e.height);this.fromImageData(n)}catch(r){e.width&&e.height&&(this.isRemote=!0,this.width=e.width,this.height=e.height)}this.sourceImg=e},get:function(e,t,n,r){return arguments.length?2===arguments.length?Ct.get(e,t,this):4===arguments.length?Ct.get(e,t,n,r,this):void 0:Ct.get(this)},set:function(e,t,n){Ct.set(e,t,n,this),this.__isDirty=!0},blend:function(e,t,n,r,i,s,o,a,u,l){9===arguments.length?Ct.blend(this,e,t,n,r,i,s,o,a,u,this):10===arguments.length&&Ct.blend(e,t,n,r,i,s,o,a,u,l,this),delete this.sourceImg},copy:function(e,t,n,r,i,s,o,a,u){8===arguments.length?Ct.blend(this,e,t,n,r,i,s,o,a,0,this):9===arguments.length&&Ct.blend(e,t,n,r,i,s,o,a,u,0,this),delete this.sourceImg},filter:function(e,t){2===arguments.length?Ct.filter(e,t,this):1===arguments.length&&Ct.filter(e,null,this),delete this.sourceImg},save:function(e){Ct.save(e,this)},resize:function(e,t){if(this.isRemote)throw"Image is loaded remotely. Cannot resize.";if(0!==this.width||0!==this.height){0===e&&0!==t?e=n.floor(this.width/this.height*t):0===t&&0!==e&&(t=n.floor(this.height/this.width*e));var r=G(this.imageData).canvas,i=G(r,e,t).context.getImageData(0,0,e,t);this.fromImageData(i)}},mask:function(e){var t,n,r=this.toImageData();if(e instanceof Vi||e.__isPImage){if(e.width!==this.width||e.height!==this.height)throw"mask must have the same dimensions as PImage.";for(e=e.toImageData(),t=2,n=4*this.width*this.height;n>t;t+=4)r.data[t+1]=e.data[t]}else if(e instanceof Array){if(this.width*this.height!==e.length)throw"mask array must be the same length as PImage pixels array.";for(t=0,n=e.length;n>t;++t)r.data[4*t+3]=e[t]}this.fromImageData(r)},loadPixels:m,toImageData:function(){if(this.isRemote)return this.sourceImg;if(!this.__isDirty)return this.imageData;var e=G(this.sourceImg);return e.context.getImageData(0,0,this.width,this.height)},toDataURL:function(){if(this.isRemote)throw"Image is loaded remotely. Cannot create dataURI.";var e=G(this.imageData);return e.canvas.toDataURL()},fromImageData:function(e){var n=e.width,r=e.height,i=t.createElement("canvas"),s=i.getContext("2d");this.width=i.width=n,this.height=i.height=r,s.putImageData(e,0,0),this.format=2,this.imageData=e,this.sourceImg=i}},Ct.PImage=Vi,Ct.createImage=function(e,t,n){return new Vi(e,t,n)},Ct.loadImage=function(e,n,r){n&&(e=e+"."+n);var i;if(Et.imageCache.images[e])return i=new Vi(Et.imageCache.images[e]),i.loaded=!0,i;i=new Vi;var s=t.createElement("img");return i.sourceImg=s,s.onload=function(e,t,n){var r=e,i=t,s=n;return function(){i.fromHTMLImageData(r),i.loaded=!0,s&&s()}}(s,i,r),s.src=e,i},Ct.requestImage=Ct.loadImage,Ct.get=function(e,t,n,r,i){return void 0!==i?J(e,t,n,r,i):void 0!==r?Q(e,t,n,r):void 0!==n?K(e,t,n):void 0!==t?Z(e,t):void 0!==e?J(0,0,e.width,e.height,e):Q(0,0,Ct.width,Ct.height)},Ct.createGraphics=function(e,t,n){var r=new F;return r.size(e,t,n),r.background(0,0),r},Ct.set=function(e,t,n,r){3===arguments.length?"number"==typeof n?rt(e,t,n):(n instanceof Vi||n.__isPImage)&&Ct.image(n,e,t):4===arguments.length&&it(e,t,n,r)},Ct.imageData={},Ct.pixels={getLength:function(){return Ct.imageData.data.length?Ct.imageData.data.length/4:0},getPixel:function(e){var t=4*e,n=Ct.imageData.data;return 4278190080&n[t+3]<<24|16711680&n[t+0]<<16|65280&n[t+1]<<8|255&n[t+2]},setPixel:function(e,t){var n=4*e,r=Ct.imageData.data;r[n+0]=(16711680&t)>>>16,r[n+1]=(65280&t)>>>8,r[n+2]=255&t,r[n+3]=(4278190080&t)>>>24},toArray:function(){for(var e=[],t=Ct.imageData.width*Ct.imageData.height,n=Ct.imageData.data,r=0,i=0;t>r;r++,i+=4)e.push(4278190080&n[i+3]<<24|16711680&n[i+0]<<16|65280&n[i+1]<<8|255&n[i+2]);return e},set:function(e){for(var t=0,n=e.length;n>t;t++)this.setPixel(t,e[t])}},Ct.loadPixels=function(){Ct.imageData=Pt.$ensureContext().getImageData(0,0,Ct.width,Ct.height)},Ct.updatePixels=function(){Ct.imageData&&Pt.$ensureContext().putImageData(Ct.imageData,0,0)},Ct.hint=function(e){var t=Pt.$ensureContext();4===e?(t.disable(t.DEPTH_TEST),t.depthMask(!1),t.clear(t.DEPTH_BUFFER_BIT)):-4===e?(t.enable(t.DEPTH_TEST),t.depthMask(!0)):-1===e||2===e?yn=!0:1===e&&(yn=!1)};var Ui=function(e,t,n,r){var i;if(e instanceof Vi||e.__isPImage){if(i=e,!i.loaded)throw"Error using image in background(): PImage not loaded.";if(i.width!==Ct.width||i.height!==Ct.height)throw"Background image must be the same dimensions as the canvas."}else i=Ct.color(e,t,n,r);Mn=i};pi.prototype.background=function(e,t,n,i){e!==r&&Ui(e,t,n,i),Mn instanceof Vi||Mn.__isPImage?(S(),St.setTransform(1,0,0,1,0,0),Ct.image(Mn,0,0),E()):(S(),St.setTransform(1,0,0,1,0,0),Ct.alpha(Mn)!==$n&&St.clearRect(0,0,Ct.width,Ct.height),St.fillStyle=Ct.color.toString(Mn),St.fillRect(0,0,Ct.width,Ct.height),hn=!0,E())},di.prototype.background=function(e,t,n,r){arguments.length>0&&Ui(e,t,n,r);var i=Ct.color.toGLArray(Mn);St.clearColor(i[0],i[1],i[2],i[3]),St.clear(St.COLOR_BUFFER_BIT|St.DEPTH_BUFFER_BIT)},pi.prototype.image=function(e,t,r,i,s){if(t=n.round(t),r=n.round(r),e.width>0){i||e.width,s||e.height;var o=li(t||0,r||0,i||e.width,s||e.height,arguments.length<4),a=!!e.sourceImg&&null===Xn;if(a){var u=e.sourceImg;e.__isDirty&&e.updatePixels(),St.drawImage(u,0,0,u.width,u.height,o.x,o.y,o.w,o.h)}else{var l=e.toImageData();null!==Xn&&(Xn(l),e.__isDirty=!0),St.drawImage(G(l).canvas,0,0,e.width,e.height,o.x,o.y,o.w,o.h)}}},di.prototype.image=function(e,t,r,i,s){e.width>0&&(t=n.round(t),r=n.round(r),i=i||e.width,s=s||e.height,Ct.beginShape(Ct.QUADS),Ct.texture(e),Ct.vertex(t,r,0,0,0),Ct.vertex(t,r+s,0,0,s),Ct.vertex(t+i,r+s,0,i,s),Ct.vertex(t+i,r,0,i,0),Ct.endShape())},Ct.tint=function(e,t,n,r){var i=Ct.color(e,t,n,r),s=Ct.red(i)/Bn,o=Ct.green(i)/zn,a=Ct.blue(i)/jn,u=Ct.alpha(i)/$n;Xn=function(e){for(var t=e.data,n=4*e.width*e.height,r=0;n>r;)t[r++]*=s,t[r++]*=o,t[r++]*=a,t[r++]*=u},qn=function(e){for(var t=0;t<e.length;)e[t++]=s,e[t++]=o,e[t++]=a,e[t++]=u}},Ct.noTint=function(){Xn=null,qn=null},Ct.copy=function(e,t,n,i,s,o,a,u,l){l===r&&(l=u,u=a,a=o,o=s,s=i,i=n,n=t,t=e,e=Ct),Ct.blend(e,t,n,i,s,o,a,u,l,0)},Ct.blend=function(e,t,n,i,s,o,a,u,l,c,h){if(e.isRemote)throw"Image is loaded remotely. Cannot blend image.";c===r&&(c=l,l=u,u=a,a=o,o=s,s=i,i=n,n=t,t=e,e=Ct);var f=t+i,p=n+s,d=o+u,g=a+l,m=h||Ct;(h===r||c===r)&&Ct.loadPixels(),e.loadPixels(),e===Ct&&Ct.intersect(t,n,f,p,o,a,d,g)?Ct.blit_resize(Ct.get(t,n,f-t,p-n),0,0,f-t-1,p-n-1,m.imageData.data,m.width,m.height,o,a,d,g,c):Ct.blit_resize(e,t,n,f,p,m.imageData.data,m.width,m.height,o,a,d,g,c),h===r&&Ct.updatePixels()};var Xi=function(e){var t,n,r=Ct.floor(3.5*e);if(r=1>r?1:248>r?r:248,Ct.shared.blurRadius!==r){Ct.shared.blurRadius=r,Ct.shared.blurKernelSize=1+(Ct.shared.blurRadius<<1),Ct.shared.blurKernel=new x(Ct.shared.blurKernelSize);var i=Ct.shared.blurKernel,s=Ct.shared.blurKernelSize;for(Ct.shared.blurRadius,t=0;s>t;t++)i[t]=0;var o=(r-1)*(r-1);for(t=1;r>t;t++)i[r+t]=i[n]=o;i[r]=r*r}},qi=function(e,t){var n,r,i,s,o,a,u,l,c,h,f,p,d,g,m,v=t.pixels.getLength(),y=new x(v),b=new x(v),w=new x(v),A=new x(v),T=0;Xi(e);var C=t.height,S=t.width,E=Ct.shared.blurKernelSize,P=Ct.shared.blurRadius,k=Ct.shared.blurKernel,_=t.imageData.data;for(d=0;C>d;d++){for(p=0;S>p;p++){if(s=i=r=o=n=0,u=p-P,0>u)f=-u,u=0;else{if(u>=S)break;f=0}for(g=f;E>g&&!(u>=S);g++)m=4*(u+T),a=k[g],o+=a*_[m+3],r+=a*_[m],i+=a*_[m+1],s+=a*_[m+2],n+=a,u++;l=T+p,A[l]=o/n,y[l]=r/n,b[l]=i/n,w[l]=s/n}T+=S}for(T=0,c=-P,h=c*S,d=0;C>d;d++){for(p=0;S>p;p++){if(s=i=r=o=n=0,0>c)f=l=-c,u=p;else{if(c>=C)break;f=0,l=c,u=p+h}for(g=f;E>g&&!(l>=C);g++)a=k[g],o+=a*A[u],r+=a*y[u],i+=a*b[u],s+=a*w[u],n+=a,l++,u+=S;m=4*(p+T),_[m]=r/n,_[m+1]=i/n,_[m+2]=s/n,_[m+3]=o/n}T+=S,h+=S,c++}},Wi=function(e,t){var n,r,i,s,o,a,u,l,c,h,f,p,d,g,m,v,y,b=0,x=t.pixels.getLength(),A=new w(x);if(e)for(;x>b;)for(n=b,r=b+t.width;r>b;)i=s=t.pixels.getPixel(b),u=b-1,a=b+1,l=b-t.width,c=b+t.width,n>u&&(u=b),a>=r&&(a=b),0>l&&(l=0),c>=x&&(c=b),p=t.pixels.getPixel(l),f=t.pixels.getPixel(u),d=t.pixels.getPixel(c),h=t.pixels.getPixel(a),o=77*(255&i>>16)+151*(255&i>>8)+28*(255&i),m=77*(255&f>>16)+151*(255&f>>8)+28*(255&f),g=77*(255&h>>16)+151*(255&h>>8)+28*(255&h),v=77*(255&p>>16)+151*(255&p>>8)+28*(255&p),y=77*(255&d>>16)+151*(255&d>>8)+28*(255&d),o>m&&(s=f,o=m),o>g&&(s=h,o=g),o>v&&(s=p,o=v),o>y&&(s=d,o=y),A[b++]=s;else for(;x>b;)for(n=b,r=b+t.width;r>b;)i=s=t.pixels.getPixel(b),u=b-1,a=b+1,l=b-t.width,c=b+t.width,n>u&&(u=b),a>=r&&(a=b),0>l&&(l=0),c>=x&&(c=b),p=t.pixels.getPixel(l),f=t.pixels.getPixel(u),d=t.pixels.getPixel(c),h=t.pixels.getPixel(a),o=77*(255&i>>16)+151*(255&i>>8)+28*(255&i),m=77*(255&f>>16)+151*(255&f>>8)+28*(255&f),g=77*(255&h>>16)+151*(255&h>>8)+28*(255&h),v=77*(255&p>>16)+151*(255&p>>8)+28*(255&p),y=77*(255&d>>16)+151*(255&d>>8)+28*(255&d),m>o&&(s=f,o=m),g>o&&(s=h,o=g),v>o&&(s=p,o=v),y>o&&(s=d,o=y),A[b++]=s;t.pixels.set(A)};Ct.filter=function(e,t,n){var i,s,o,a;if(3===arguments.length?(n.loadPixels(),i=n):(Ct.loadPixels(),i=Ct),t===r&&(t=null),i.isRemote)throw"Image is loaded remotely. Cannot filter image.";var u=i.pixels.getLength();switch(e){case 11:var l=t||1;qi(l,i);break;case 12:if(4===i.format){for(a=0;u>a;a++)s=255-i.pixels.getPixel(a),i.pixels.setPixel(a,4278190080|s<<16|s<<8|s);i.format=1}else for(a=0;u>a;a++)s=i.pixels.getPixel(a),o=77*(255&s>>16)+151*(255&s>>8)+28*(255&s)>>8,i.pixels.setPixel(a,4278190080&s|o<<16|o<<8|o);break;case 13:for(a=0;u>a;a++)i.pixels.setPixel(a,16777215^i.pixels.getPixel(a));break;case 15:if(null===t)throw"Use filter(POSTERIZE, int levels) instead of filter(POSTERIZE)";var c=Ct.floor(t);if(2>c||c>255)throw"Levels must be between 2 and 255 for filter(POSTERIZE, levels)";var h=c-1;for(a=0;u>a;a++){var f=255&i.pixels.getPixel(a)>>16,p=255&i.pixels.getPixel(a)>>8,d=255&i.pixels.getPixel(a);f=255*(f*c>>8)/h,p=255*(p*c>>8)/h,d=255*(d*c>>8)/h,i.pixels.setPixel(a,4278190080&i.pixels.getPixel(a)|f<<16|p<<8|d)}break;case 14:for(a=0;u>a;a++)i.pixels.setPixel(a,4278190080|i.pixels.getPixel(a));i.format=1;break;case 16:if(null===t&&(t=.5),0>t||t>1)throw"Level must be between 0 and 1 for filter(THRESHOLD, level)";var g=Ct.floor(255*t);for(a=0;u>a;a++){var m=Ct.max((16711680&i.pixels.getPixel(a))>>16,Ct.max((65280&i.pixels.getPixel(a))>>8,255&i.pixels.getPixel(a)));i.pixels.setPixel(a,4278190080&i.pixels.getPixel(a)|(g>m?0:16777215))}break;case 17:Wi(!0,i);break;case 18:Wi(!1,i)}i.updatePixels()},Ct.shared={fracU:0,ifU:0,fracV:0,ifV:0,u1:0,u2:0,v1:0,v2:0,sX:0,sY:0,iw:0,iw1:0,ih1:0,ul:0,ll:0,ur:0,lr:0,cUL:0,cLL:0,cUR:0,cLR:0,srcXOffset:0,srcYOffset:0,r:0,g:0,b:0,a:0,srcBuffer:null,blurRadius:0,blurKernelSize:0,blurKernel:null},Ct.intersect=function(e,t,n,r,i,s,o,a){var u=n-e+1,l=r-t+1,c=o-i+1,h=a-s+1;if(e>i)c+=i-e,c>u&&(c=u);else{var f=u+e-i;c>f&&(c=f)}if(t>s)h+=s-t,h>l&&(h=l);else{var p=l+t-s;h>p&&(h=p)}return!(0>=c||0>=h)};var Gi={};Gi[1]=Ct.modes.blend,Gi[2]=Ct.modes.add,Gi[4]=Ct.modes.subtract,Gi[8]=Ct.modes.lightest,Gi[16]=Ct.modes.darkest,Gi[0]=Ct.modes.replace,Gi[32]=Ct.modes.difference,Gi[64]=Ct.modes.exclusion,Gi[128]=Ct.modes.multiply,Gi[256]=Ct.modes.screen,Gi[512]=Ct.modes.overlay,Gi[1024]=Ct.modes.hard_light,Gi[2048]=Ct.modes.soft_light,Gi[4096]=Ct.modes.dodge,Gi[8192]=Ct.modes.burn,Ct.blit_resize=function(e,t,r,i,s,o,a,u,l,c,h,f,p){var d,g;0>t&&(t=0),0>r&&(r=0),i>=e.width&&(i=e.width-1),s>=e.height&&(s=e.height-1);var m=i-t,v=s-r,y=h-l,b=f-c;if(!(0>=y||0>=b||0>=m||0>=v||l>=a||c>=u||t>=e.width||r>=e.height)){var x=n.floor(32768*(m/y)),w=n.floor(32768*(v/b)),A=Ct.shared;A.srcXOffset=n.floor(0>l?-l*x:32768*t),A.srcYOffset=n.floor(0>c?-c*w:32768*r),0>l&&(y+=l,l=0),0>c&&(b+=c,c=0),y=n.min(y,a-l),b=n.min(b,u-c);var T,C=c*a+l;A.srcBuffer=e.imageData.data,A.iw=e.width,A.iw1=e.width-1,A.ih1=e.height-1;var S,E,P,k,_,L,N=(Ct.filter_bilinear,Ct.filter_new_scanline,Gi[p]),D=4278190080,R=16711680,I=65280,F=255,M=32767,O=15,$=1,B=9,z=A.srcBuffer,j=n.min;for(g=0;b>g;g++){for(A.sX=A.srcXOffset,A.fracV=A.srcYOffset&M,A.ifV=M-A.fracV,A.v1=(A.srcYOffset>>O)*A.iw,A.v2=j((A.srcYOffset>>O)+1,A.ih1)*A.iw,d=0;y>d;d++)E=4*(C+d),T=o[E+3]<<24&D|o[E]<<16&R|o[E+1]<<8&I|o[E+2]&F,A.fracU=A.sX&M,A.ifU=M-A.fracU,A.ul=A.ifU*A.ifV>>O,A.ll=A.ifU*A.fracV>>O,A.ur=A.fracU*A.ifV>>O,A.lr=A.fracU*A.fracV>>O,A.u1=A.sX>>O,A.u2=j(A.u1+1,A.iw1),P=4*(A.v1+A.u1),k=4*(A.v1+A.u2),_=4*(A.v2+A.u1),L=4*(A.v2+A.u2),A.cUL=z[P+3]<<24&D|z[P]<<16&R|z[P+1]<<8&I|z[P+2]&F,A.cUR=z[k+3]<<24&D|z[k]<<16&R|z[k+1]<<8&I|z[k+2]&F,A.cLL=z[_+3]<<24&D|z[_]<<16&R|z[_+1]<<8&I|z[_+2]&F,A.cLR=z[L+3]<<24&D|z[L]<<16&R|z[L+1]<<8&I|z[L+2]&F,A.r=A.ul*((A.cUL&R)>>16)+A.ll*((A.cLL&R)>>16)+A.ur*((A.cUR&R)>>16)+A.lr*((A.cLR&R)>>16)<<$&R,A.g=A.ul*(A.cUL&I)+A.ll*(A.cLL&I)+A.ur*(A.cUR&I)+A.lr*(A.cLR&I)>>>O&I,A.b=A.ul*(A.cUL&F)+A.ll*(A.cLL&F)+A.ur*(A.cUR&F)+A.lr*(A.cLR&F)>>>O,A.a=A.ul*((A.cUL&D)>>>24)+A.ll*((A.cLL&D)>>>24)+A.ur*((A.cUR&D)>>>24)+A.lr*((A.cLR&D)>>>24)<<B&D,S=N(T,A.a|A.r|A.g|A.b),o[E]=(S&R)>>>16,o[E+1]=(S&I)>>>8,o[E+2]=S&F,o[E+3]=(S&D)>>>24,A.sX+=x;
C+=a,A.srcYOffset+=w}}},Ct.loadFont=function(e,t){if(e===r)throw"font name required in loadFont.";if(-1===e.indexOf(".svg"))return t===r&&(t=ur.size),f.get(e,t);var n=Ct.loadGlyphs(e);return{name:e,css:"12px sans-serif",glyph:!0,units_per_em:n.units_per_em,horiz_adv_x:1/n.units_per_em*n.horiz_adv_x,ascent:n.ascent,descent:n.descent,width:function(t){for(var n=0,r=t.length,i=0;r>i;i++)try{n+=parseFloat(Ct.glyphLook(Ct.glyphTable[e],t[i]).horiz_adv_x)}catch(s){F.debug(s)}return n/Ct.glyphTable[e].units_per_em}}},Ct.createFont=function(e,t){return Ct.loadFont(e,t)},Ct.textFont=function(e,t){t!==r&&(e.glyph||(e=f.get(e.name,t)),ir=t),ur=e,rr=ur.name,sr=ur.ascent,or=ur.descent,ar=ur.leading;var n=Pt.$ensureContext();n.font=ur.css},Ct.textSize=function(e){ur=f.get(rr,e),ir=e,sr=ur.ascent,or=ur.descent,ar=ur.leading;var t=Pt.$ensureContext();t.font=ur.css},Ct.textAscent=function(){return sr},Ct.textDescent=function(){return or},Ct.textLeading=function(e){ar=e},Ct.textAlign=function(e,t){er=e,tr=t||0},pi.prototype.textWidth=function(e){var t,r=st(e).split(/\r?\n/g),i=0,s=r.length;for(St.font=ur.css,t=0;s>t;++t)i=n.max(i,ur.measureTextWidth(r[t]));return 0|i},di.prototype.textWidth=function(e){var i,s=st(e).split(/\r?\n/g),o=0,a=s.length;kt===r&&(kt=t.createElement("canvas"));var u=kt.getContext("2d");for(u.font=ur.css,i=0;a>i;++i)o=n.max(o,u.measureText(s[i]).width);return 0|o},Ct.glyphLook=function(e,t){try{switch(t){case"1":return e.one;case"2":return e.two;case"3":return e.three;case"4":return e.four;case"5":return e.five;case"6":return e.six;case"7":return e.seven;case"8":return e.eight;case"9":return e.nine;case"0":return e.zero;case" ":return e.space;case"$":return e.dollar;case"!":return e.exclam;case'"':return e.quotedbl;case"#":return e.numbersign;case"%":return e.percent;case"&":return e.ampersand;case"'":return e.quotesingle;case"(":return e.parenleft;case")":return e.parenright;case"*":return e.asterisk;case"+":return e.plus;case",":return e.comma;case"-":return e.hyphen;case".":return e.period;case"/":return e.slash;case"_":return e.underscore;case":":return e.colon;case";":return e.semicolon;case"<":return e.less;case"=":return e.equal;case">":return e.greater;case"?":return e.question;case"@":return e.at;case"[":return e.bracketleft;case"\\":return e.backslash;case"]":return e.bracketright;case"^":return e.asciicircum;case"`":return e.grave;case"{":return e.braceleft;case"|":return e.bar;case"}":return e.braceright;case"~":return e.asciitilde;default:return e[t]}}catch(n){F.debug(n)}},pi.prototype.text$line=function(e,t,n,r,i){var s=0,o=0;if(ur.glyph){var a=Ct.glyphTable[rr];S(),St.translate(t,n+ir),(39===i||3===i)&&(s=a.width(e),o=39===i?-s:-s/2);var u=a.units_per_em,l=1/u*ir;St.scale(l,l);for(var c=0,h=e.length;h>c;c++)try{Ct.glyphLook(a,e[c]).draw()}catch(f){F.debug(f)}E()}else e&&"fillText"in St&&(hn&&(St.fillStyle=Ct.color.toString(cn),hn=!1),(39===i||3===i)&&(s=ur.measureTextWidth(e),o=39===i?-s:-s/2),St.fillText(e,t+o,n))},di.prototype.text$line=function(e,n,i,s,o){kt===r&&(kt=t.createElement("canvas"));var a=St;St=kt.getContext("2d"),St.font=ur.css;var f=ur.measureTextWidth(e);kt.width=f,kt.height=ir,St=kt.getContext("2d"),St.font=ur.css,St.textBaseline="top",pi.prototype.text$line(e,0,0,0,37);var p=kt.width/kt.height;St=a,St.bindTexture(St.TEXTURE_2D,Kt),St.texImage2D(St.TEXTURE_2D,0,St.RGBA,St.RGBA,St.UNSIGNED_BYTE,kt),St.texParameteri(St.TEXTURE_2D,St.TEXTURE_MAG_FILTER,St.LINEAR),St.texParameteri(St.TEXTURE_2D,St.TEXTURE_MIN_FILTER,St.LINEAR),St.texParameteri(St.TEXTURE_2D,St.TEXTURE_WRAP_T,St.CLAMP_TO_EDGE),St.texParameteri(St.TEXTURE_2D,St.TEXTURE_WRAP_S,St.CLAMP_TO_EDGE);var d=0;39===o?d=-f:3===o&&(d=-f/2);var g=new Si,m=.5*ir;g.translate(n+d-m/2,i-m,s),g.scale(-p*m,-m,m),g.translate(-1,-1,-1),g.transpose();var v=new Si;v.scale(1,-1,1),v.apply(yr.array()),v.transpose(),St.useProgram(Mt),h("aVertex2d",Mt,"aVertex",3,Qt),h("aTextureCoord2d",Mt,"aTextureCoord",2,Jt),l("uSampler2d",Mt,"uSampler",[0]),l("uIsDrawingText2d",Mt,"uIsDrawingText",!0),c("uModel2d",Mt,"uModel",!1,g.array()),c("uView2d",Mt,"uView",!1,v.array()),u("uColor2d",Mt,"uColor",ln),St.bindBuffer(St.ELEMENT_ARRAY_BUFFER,en),St.drawElements(St.TRIANGLES,6,St.UNSIGNED_SHORT,0)},Ct.text=function(){5!==nr&&(3===arguments.length?ot(st(arguments[0]),arguments[1],arguments[2],0):4===arguments.length?ot(st(arguments[0]),arguments[1],arguments[2],arguments[3]):5===arguments.length?at(st(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],0):6===arguments.length&&at(st(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]))},Ct.textMode=function(e){nr=e},Ct.loadGlyphs=function(i){var s,o,a,u,l,c,h,f,p,d,g,m,v="[0-9\\-]+",y=function(e,t){var n,r=0,i=[],s=new RegExp(e,"g");for(n=i[r]=s.exec(t);n;)r++,n=i[r]=s.exec(t);return i},b=function(e){var t=y("[A-Za-z][0-9\\- ]+|Z",e),r=function(){return S(),Pt.$ensureContext()},i=function(){X(),q(),E()};m="return {draw:function(){var curContext=beforePathDraw();curContext.beginPath();",s=0,o=0,a=0,u=0,l=0,c=0,e=0,f=0,p="",d=t.length-1;for(var h=0;d>h;h++){var b=t[h][0],x=y(v,b);switch(b[0]){case"M":s=parseFloat(x[0][0]),o=parseFloat(x[1][0]),m+="curContext.moveTo("+s+","+-o+");";break;case"L":s=parseFloat(x[0][0]),o=parseFloat(x[1][0]),m+="curContext.lineTo("+s+","+-o+");";break;case"H":s=parseFloat(x[0][0]),m+="curContext.lineTo("+s+","+-o+");";break;case"V":o=parseFloat(x[0][0]),m+="curContext.lineTo("+s+","+-o+");";break;case"T":l=parseFloat(x[0][0]),c=parseFloat(x[1][0]),"Q"===p||"T"===p?(e=n.sqrt(n.pow(s-a,2)+n.pow(u-o,2)),f=n.PI+n.atan2(a-s,u-o),a=s+n.sin(f)*e,u=o+n.cos(f)*e):(a=s,u=o),m+="curContext.quadraticCurveTo("+a+","+-u+","+l+","+-c+");",s=l,o=c;break;case"Q":a=parseFloat(x[0][0]),u=parseFloat(x[1][0]),l=parseFloat(x[2][0]),c=parseFloat(x[3][0]),m+="curContext.quadraticCurveTo("+a+","+-u+","+l+","+-c+");",s=l,o=c;break;case"Z":m+="curContext.closePath();"}p=b[0]}return m+="afterPathDraw();",m+="curContext.translate("+g+",0);",m+="}}",new Function("beforePathDraw","afterPathDraw",m)(r,i)},x=function(e){var t=e.getElementsByTagName("font");Ct.glyphTable[i].horiz_adv_x=t[0].getAttribute("horiz-adv-x");var n=e.getElementsByTagName("font-face")[0];Ct.glyphTable[i].units_per_em=parseFloat(n.getAttribute("units-per-em")),Ct.glyphTable[i].ascent=parseFloat(n.getAttribute("ascent")),Ct.glyphTable[i].descent=parseFloat(n.getAttribute("descent"));for(var s=e.getElementsByTagName("glyph"),o=s.length,a=0;o>a;a++){var u=s[a].getAttribute("unicode"),l=s[a].getAttribute("glyph-name");g=s[a].getAttribute("horiz-adv-x"),null===g&&(g=Ct.glyphTable[i].horiz_adv_x),h=s[a].getAttribute("d"),h!==r&&(m=b(h),Ct.glyphTable[i][l]={name:l,unicode:u,horiz_adv_x:g,draw:m.draw})}},w=function(){var n;try{n=t.implementation.createDocument("","",null)}catch(r){return F.debug(r.message),void 0}try{n.async=!1,n.load(i),x(n.getElementsByTagName("svg")[0])}catch(s){F.debug(s);try{var o=new e.XMLHttpRequest;o.open("GET",i,!1),o.send(null),x(o.responseXML.documentElement)}catch(a){F.debug(s)}}};return Ct.glyphTable[i]={},w(i),Ct.glyphTable[i]},Ct.param=function(e){var t="data-processing-"+e;if(At.hasAttribute(t))return At.getAttribute(t);for(var n=0,r=At.childNodes.length;r>n;++n){var i=At.childNodes.item(n);if(1===i.nodeType&&"param"===i.tagName.toLowerCase()&&i.getAttribute("name")===e)return i.getAttribute("value")}return Et.params.hasOwnProperty(e)?Et.params[e]:null},gi.prototype.translate=lt("translate"),gi.prototype.transform=lt("transform"),gi.prototype.scale=lt("scale"),gi.prototype.pushMatrix=lt("pushMatrix"),gi.prototype.popMatrix=lt("popMatrix"),gi.prototype.resetMatrix=lt("resetMatrix"),gi.prototype.applyMatrix=lt("applyMatrix"),gi.prototype.rotate=lt("rotate"),gi.prototype.rotateZ=lt("rotateZ"),gi.prototype.shearX=lt("shearX"),gi.prototype.shearY=lt("shearY"),gi.prototype.redraw=lt("redraw"),gi.prototype.toImageData=lt("toImageData"),gi.prototype.ambientLight=lt("ambientLight"),gi.prototype.directionalLight=lt("directionalLight"),gi.prototype.lightFalloff=lt("lightFalloff"),gi.prototype.lightSpecular=lt("lightSpecular"),gi.prototype.pointLight=lt("pointLight"),gi.prototype.noLights=lt("noLights"),gi.prototype.spotLight=lt("spotLight"),gi.prototype.beginCamera=lt("beginCamera"),gi.prototype.endCamera=lt("endCamera"),gi.prototype.frustum=lt("frustum"),gi.prototype.box=lt("box"),gi.prototype.sphere=lt("sphere"),gi.prototype.ambient=lt("ambient"),gi.prototype.emissive=lt("emissive"),gi.prototype.shininess=lt("shininess"),gi.prototype.specular=lt("specular"),gi.prototype.fill=lt("fill"),gi.prototype.stroke=lt("stroke"),gi.prototype.strokeWeight=lt("strokeWeight"),gi.prototype.smooth=lt("smooth"),gi.prototype.noSmooth=lt("noSmooth"),gi.prototype.point=lt("point"),gi.prototype.vertex=lt("vertex"),gi.prototype.endShape=lt("endShape"),gi.prototype.bezierVertex=lt("bezierVertex"),gi.prototype.curveVertex=lt("curveVertex"),gi.prototype.curve=lt("curve"),gi.prototype.line=lt("line"),gi.prototype.bezier=lt("bezier"),gi.prototype.rect=lt("rect"),gi.prototype.ellipse=lt("ellipse"),gi.prototype.background=lt("background"),gi.prototype.image=lt("image"),gi.prototype.textWidth=lt("textWidth"),gi.prototype.text$line=lt("text$line"),gi.prototype.$ensureContext=lt("$ensureContext"),gi.prototype.$newPMatrix=lt("$newPMatrix"),gi.prototype.size=function(e,t,n){ut(2===n?"3D":"2D"),Ct.size(e,t,n)},gi.prototype.$init=m,pi.prototype.$init=function(){Ct.size(Ct.width,Ct.height),St.lineCap="round",Ct.noSmooth(),Ct.disableContextMenu()},di.prototype.$init=function(){Ct.use3DContext=!0,Ct.disableContextMenu()},fi.prototype.$ensureContext=function(){return St},N(At,"touchstart",function(e){At.setAttribute("style","-webkit-user-select: none"),At.setAttribute("onclick","void(0)"),At.setAttribute("style","-webkit-tap-highlight-color:rgba(0,0,0,0)");for(var t=0,n=Pi.length;n>t;t++){var i=Pi[t].type;("mouseout"===i||"mousemove"===i||"mousedown"===i||"mouseup"===i||"DOMMouseScroll"===i||"mousewheel"===i||"touchstart"===i)&&D(Pi[t])}Ct.touchStart!==r||Ct.touchMove!==r||Ct.touchEnd!==r||Ct.touchCancel!==r?(N(At,"touchstart",function(e){Ct.touchStart!==r&&(e=ft(e),Ct.touchStart(e))}),N(At,"touchmove",function(e){Ct.touchMove!==r&&(e.preventDefault(),e=ft(e),Ct.touchMove(e))}),N(At,"touchend",function(e){Ct.touchEnd!==r&&(e=ft(e),Ct.touchEnd(e))}),N(At,"touchcancel",function(e){Ct.touchCancel!==r&&(e=ft(e),Ct.touchCancel(e))})):(N(At,"touchstart",function(e){ht(At,e.touches[0]),Ct.__mousePressed=!0,Ct.mouseDragging=!1,Ct.mouseButton=37,"function"==typeof Ct.mousePressed&&Ct.mousePressed()}),N(At,"touchmove",function(e){e.preventDefault(),ht(At,e.touches[0]),"function"!=typeof Ct.mouseMoved||Ct.__mousePressed||Ct.mouseMoved(),"function"==typeof Ct.mouseDragged&&Ct.__mousePressed&&(Ct.mouseDragged(),Ct.mouseDragging=!0)}),N(At,"touchend",function(){Ct.__mousePressed=!1,"function"!=typeof Ct.mouseClicked||Ct.mouseDragging||Ct.mouseClicked(),"function"==typeof Ct.mouseReleased&&Ct.mouseReleased()})),At.dispatchEvent(e)}),function(){var e=!0,t=function(e){e.preventDefault(),e.stopPropagation()};Ct.disableContextMenu=function(){e&&(N(At,"contextmenu",t),e=!1)},Ct.enableContextMenu=function(){e||(D({elem:At,type:"contextmenu",fn:t}),e=!0)}}(),N(At,"mousemove",function(e){ht(At,e),"function"!=typeof Ct.mouseMoved||Ct.__mousePressed||Ct.mouseMoved(),"function"==typeof Ct.mouseDragged&&Ct.__mousePressed&&(Ct.mouseDragged(),Ct.mouseDragging=!0)}),N(At,"mouseout",function(){"function"==typeof Ct.mouseOut&&Ct.mouseOut()}),N(At,"mouseover",function(e){ht(At,e),"function"==typeof Ct.mouseOver&&Ct.mouseOver()}),At.onmousedown=function(){return At.focus(),!1},N(At,"mousedown",function(e){switch(Ct.__mousePressed=!0,Ct.mouseDragging=!1,e.which){case 1:Ct.mouseButton=37;break;case 2:Ct.mouseButton=3;break;case 3:Ct.mouseButton=39}"function"==typeof Ct.mousePressed&&Ct.mousePressed()}),N(At,"mouseup",function(){Ct.__mousePressed=!1,"function"!=typeof Ct.mouseClicked||Ct.mouseDragging||Ct.mouseClicked(),"function"==typeof Ct.mouseReleased&&Ct.mouseReleased()});var Yi=function(t){var n=0;t.wheelDelta?(n=t.wheelDelta/120,e.opera&&(n=-n)):t.detail&&(n=-t.detail/3),Ct.mouseScroll=n,n&&"function"==typeof Ct.mouseScrolled&&Ct.mouseScrolled()};if(N(t,"DOMMouseScroll",Yi),N(t,"mousewheel",Yi),At.getAttribute("tabindex")||At.setAttribute("tabindex",0),Tt)Et=new F.Sketch,ut(),Ct.size=function(e,t,n){n&&2===n?ut("3D"):ut("2D"),Ct.size(e,t,n)};else{Et=o instanceof F.Sketch?o:"function"==typeof o?new F.Sketch(o):o?F.compile(o):new F.Sketch(function(){}),Ct.externals.sketch=Et,ut(),At.onfocus=function(){Ct.focused=!0},At.onblur=function(){Ct.focused=!1,Et.options.globalKeyEvents||vt()},Et.options.pauseOnBlur&&(N(e,"focus",function(){bn&&Ct.loop()}),N(e,"blur",function(){bn&&vn&&(Ct.noLoop(),bn=!0),vt()}));var Zi=Et.options.globalKeyEvents?e:At;N(Zi,"keydown",bt),N(Zi,"keypress",xt),N(Zi,"keyup",wt);for(var Ki in F.lib)F.lib.hasOwnProperty(Ki)&&(F.lib[Ki].hasOwnProperty("attach")?F.lib[Ki].attach(Ct):F.lib[Ki]instanceof Function&&F.lib[Ki].call(this));var Qi=100,Ji=function(n){if(Et.imageCache.pending||f.preloading.pending(Qi))e.setTimeout(function(){Ji(n)},Qi);else{if(e.opera){var r,i,s=Et.imageCache.operaCache;for(r in s)s.hasOwnProperty(r)&&(i=s[r],null!==i&&t.body.removeChild(i),delete s[r])}Et.attach(n,_),Et.onLoad(n),n.setup&&(n.setup(),n.resetMatrix(),Et.onSetup()),et(),n.draw&&(bn?n.loop():n.redraw())}};I(this),Ji(Ct)}};F.debug=v,F.prototype=_,F.compile=function(e){var t=new F.Sketch,n=g(e,t),r=d(n);return t.sourceCode=r,t};var M=function(){var e={},n="undefined",r="function",i=!1,s=!0,o=512,a="log";return typeof tinylog!==n&&typeof tinylog[a]===r?e[a]=tinylog[a]:typeof t===n||t.fake?typeof print===r&&(e[a]=print):function(){var n=t,r="div",u="style",l="title",c={zIndex:1e4,position:"fixed",bottom:"0px",width:"100%",height:"15%",fontFamily:"sans-serif",color:"#ccc",backgroundColor:"black"},h={position:"relative",fontFamily:"monospace",overflow:"auto",height:"100%",paddingTop:"5px"},f={height:"5px",marginTop:"-5px",cursor:"n-resize",backgroundColor:"darkgrey"},p={position:"absolute",top:"5px",right:"20px",color:"#111",MozBorderRadius:"4px",webkitBorderRadius:"4px",borderRadius:"4px",cursor:"pointer",fontWeight:"normal",textAlign:"center",padding:"3px 5px",backgroundColor:"#333",fontSize:"12px"},d={minHeight:"16px"},g={fontSize:"12px",margin:"0 8px 0 8px",maxWidth:"100%",whiteSpace:"pre-wrap",overflow:"auto"},m=n.defaultView,v=n.documentElement,y=v[u],b=function(){for(var e,t,n,r=arguments.length;r--;){t=arguments[r--],e=arguments[r][u];for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}},x=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on"+t,n),[e,t,n]},w=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent&&e.detachEvent("on"+t,n)},A=function(e){for(var t=e.childNodes,n=t.length;n--;)e.removeChild(t.item(0))},T=function(e,t){return e.appendChild(t)},C=function(e){return n.createElement(e)},S=function(e){return n.createTextNode(e)},E=e[a]=function(t){var P,k=y.paddingBottom,_=C(r),L=_[u],N=T(_,C(r)),D=T(_,C(r)),R=T(_,C(r)),I=i,F=i,M=i,O=0,$=function(){y.paddingBottom=_.clientHeight+"px"},B=function(e){var t=m.innerHeight,n=N.clientHeight;0>e?e=0:e+n>t&&(e=t-n),L.height=100*(e/t)+"%",$()},z=[x(n,"mousemove",function(e){I&&(B(m.innerHeight-e.clientY),D.scrollTop=M)}),x(n,"mouseup",function(){I&&(I=M=i)}),x(N,"dblclick",function(e){e.preventDefault(),F?(B(F),F=i):(F=_.clientHeight,L.height="0px")}),x(N,"mousedown",function(e){e.preventDefault(),I=s,M=D.scrollTop}),x(N,"contextmenu",function(){I=i}),x(R,"click",function(){P()})];P=function(){for(var t=z.length;t--;)w.apply(e,z[t]);v.removeChild(_),y.paddingBottom=k,A(D),A(_),e[a]=E},b(_,c,D,h,N,f,R,p),R[l]="Close Log",T(R,S("✖")),N[l]="Double-click to toggle log minimization",v.insertBefore(_,v.firstChild),e[a]=function(e){O===o?D.removeChild(D.firstChild):O++;var t=T(D,C(r)),n=T(t,C(r));t[l]=(new Date).toLocaleTimeString(),b(t,d,n,g),T(n,S(e)),D.scrollTop=D.scrollHeight},e[a](t),$()}}(),e}();F.logger=M,F.version="1.4.1",F.lib={},F.registerLibrary=function(e,t){F.lib[e]=t,t.hasOwnProperty("init")&&t.init(_)},F.instances=N,F.getInstanceById=function(e){return N[D[e]]},F.Sketch=function(n){this.attachFunction=n,this.options={pauseOnBlur:!1,globalKeyEvents:!1},this.onLoad=m,this.onSetup=m,this.onPause=m,this.onLoop=m,this.onFrameStart=m,this.onFrameEnd=m,this.onExit=m,this.params={},this.imageCache={pending:0,images:{},operaCache:{},add:function(n,r){if(!this.images[n]&&(b||(this.images[n]=null),r||(r=new Image,r.onload=function(e){return function(){e.pending--}}(this),this.pending++,r.src=n),this.images[n]=r,e.opera)){var i=t.createElement("div");i.appendChild(r),i.style.position="absolute",i.style.opacity=0,i.style.width="1px",i.style.height="1px",this.operaCache[n]||(t.body.appendChild(i),this.operaCache[n]=i)}}},this.sourceCode=void 0,this.attach=function(e){if("function"==typeof this.attachFunction)this.attachFunction(e);else{if(!this.sourceCode)throw"Unable to attach sketch to the processing instance";var t=new Function("return ("+this.sourceCode+");")();t(e),this.attachFunction=t}},this.toString=function(){var e,t="((function(Sketch) {\n";t+="var sketch = new Sketch(\n"+this.sourceCode+");\n";for(e in this.options)if(this.options.hasOwnProperty(e)){var n=this.options[e];t+="sketch.options."+e+" = "+("string"==typeof n?'"'+n+'"':""+n)+";\n"}for(e in this.imageCache)this.options.hasOwnProperty(e)&&(t+='sketch.imageCache.add("'+e+'");\n');return t+="return sketch;\n})(Processing.Sketch))"}};var O=function(n,r){function i(t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState){var t;200!==r.status&&0!==r.status?t="Invalid XHR status "+r.status:""===r.responseText&&(t="withCredentials"in new XMLHttpRequest&&(new XMLHttpRequest).withCredentials===!1&&"file:"===e.location.protocol?"XMLHttpRequest failure, possibly due to a same-origin policy violation. You can try loading this page in another browser, or load it from http://localhost using a local webserver. See the Processing.js README for a more detailed explanation of this problem and solutions.":"File is empty."),n(r.responseText,t)}},r.open("GET",t,!0),r.overrideMimeType&&r.overrideMimeType("application/json"),r.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT"),r.send(null)}function s(e,r){function s(t,i){if(o[e]=t,++l,i&&a.push(r+" ==> "+i),l===u){if(0!==a.length)throw"Processing.js: Unable to load pjs sketch files: "+a.join("\n");try{return new F(n,o.join("\n"))}catch(s){throw"Processing.js: Unable to execute pjs sketch: "+s}}}if("#"===r.charAt(0)){var c=t.getElementById(r.substring(1));return c?s(c.text||c.textContent):s("","Unable to load pjs sketch: element with id '"+r.substring(1)+"' was not found"),void 0}i(r,s)}for(var o=[],a=[],u=r.length,l=0,c=0;u>c;++c)s(c,r[c])},$=function(){t.removeEventListener("DOMContentLoaded",$,!1),N=[];for(var e,n=t.getElementsByTagName("canvas"),i=0,s=n.length;s>i;i++){var o=n[i].getAttribute("data-processing-sources");if(null===o&&(o=n[i].getAttribute("data-src"),null===o&&(o=n[i].getAttribute("datasrc"))),o){e=o.split(/\s+/g);for(var a=0;a<e.length;)e[a]?a++:e.splice(a,1);O(n[i],e)}}var u,l,c,h,f=t.getElementsByTagName("script"),p=[];for(u=f.length-1;u>=0;u--)p.push(f[u]);for(u=0,l=p.length;l>u;u++){var d=p[u];if(d.getAttribute){var g=d.getAttribute("type");if(g&&("text/processing"===g.toLowerCase()||"application/processing"===g.toLowerCase())){var m=d.getAttribute("data-processing-target");if(n=r,m)n=t.getElementById(m);else{for(var v=d.nextSibling;v&&1!==v.nodeType;)v=v.nextSibling;v&&"canvas"===v.nodeName.toLowerCase()&&(n=v)}if(n){if(d.getAttribute("src")){e=d.getAttribute("src").split(/\s+/),O(n,e);continue}c=d.textContent||d.text,h=new F(n,c)}}}}};F.reload=function(){if(N.length>0)for(var e=N.length-1;e>=0;e--)N[e]&&N[e].exit();$()},F.loadSketchFromSources=O,F.disableInit=function(){b&&t.removeEventListener("DOMContentLoaded",$,!1)},b?(e.Processing=F,t.addEventListener("DOMContentLoaded",$,!1)):this.Processing=F}(window,window.document,Math),$(".witticism").fitText();var $random=$(".random-witticism");$random.length&&console.log("random"),$(document).keydown(function(e){console.log(e.keyCode),83==e.keyCode?createWitticism():13==e.keyCode?createWitticism():39==e.keyCode?location.reload(!0):40==e.keyCode&&createWitticism()});